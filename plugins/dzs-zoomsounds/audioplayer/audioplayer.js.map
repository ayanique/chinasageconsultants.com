{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../source/audioplayer/jsinc/_dzsap_helpers.js","webpack:///../source/audioplayer/configs/_constants.js","webpack:///../source/audioplayer/js_common/_dzs_helpers.js","webpack:///../source/audioplayer/jsinc/_dzsap_svgs.js","webpack:///../source/audioplayer/jsinc/_dzsap_ajax.js","webpack:///../source/audioplayer/audioplayer.sourcepack.js","webpack:///../source/audioplayer/jsinc/_dzsap_playlist.js","webpack:///../source/audioplayer/jsinc/components/_nav.js","webpack:///../source/audioplayer/configs/_settingsPlaylist.js","webpack:///../source/audioplayer/jsinc/_dzsap_misc.js","webpack:///../source/audioplayer/jsinc/wave-render/_wave-render-functions.js","webpack:///../source/audioplayer/configs/_settingsPlayer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","dzsapSvgs","dzsap_generate_keyboard_controls","keyboard_controls","window","dzsap_keyboard_controls","jQuery","extend","step_back_amount","Number","formatTime","arg","Math","round","h","isFinite","String","can_history_api","history","pushState","dzs_clean_string","replace","get_query_arg","purl","indexOf","regtest","RegExp","exec","splitterS","aux","split","console","log","add_query_arg","pair","encodeURIComponent","regex_attr","dzsap_is_mobile","is_ios","is_android_good","navigator","platform","can_canvas","document","createElement","getContext","is_android","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","userAgent","toLowerCase","htmlEncode","text","html","dzsap_generate_keyboard_tooltip","lab","fout","youtube_playMedia","selfClass","margs","yt_inited","yt_curr_id","_cmedia","playVideo","retry_call","call_from","playerIsLoaded","youtube_checkReady","youtube_retryPlayTimeout","setTimeout","args","play_media","err","MD5","e","g","a","b","f","k","q","toString","substr","length","Array","charCodeAt","fromCharCode","u","v","handle_keypresses","$","dzsap_currplayer_focused","api_pause_media","sw_pressed","pause_play","ctrlKey","keyCode","hasClass","api_play_media","dzsap_mouseover","preventDefault","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","hexToRgb","hex","palpha","result","str","alpha","parseInt","player_checkIfWeShouldShowAComment","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","children","each","_t","this","_t_posx","offset","left","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","watermark","watermark_volume","player_determineActualPlayer","cthis","_c","_actualPlayer","actualDataTypeOfMedia","player_determineProperties","player_detect_skinwave_mode","skinwave_mode","initOptions","drawSpectrum","argarray","_scrubbarbg_canvas","draw_canvas","design_wave_color_bg","scrubbar_modeWave_clearObsoleteCanvas","_scrubbar","remove","scrubbar_modeWave_setupCanvas","pargs","prepare_for_transition_in","assign","append","struct_scrubBg_str","struct_scrubProg_str","last","_scrubbarprog_canvas","skinwave_enableSpectrum","hide","_arg","pcm_arr","hexcolor","_canvas","__canvas","static_hexcolor","sw_draw","is_sample","sample_time_start","sample_time_total","sample_time_end","skinwave_wave_mode_canvas_waves_number","skinwave_wave_mode_canvas_waves_padding","_canvasContext","ar_str","ar","width","height","imageSmoothingEnabled","imageSmoothing","imageSmoothingQuality","webkitImageSmoothing","JSON","parse","max","cww","chh","ar_new","gradient","clearRect","bar_len","bar_space","reflection_size","skinwave_wave_mode_canvas_reflection_size","ceil","bar_w","normal_size_ratio","lastval","searched_index","temp_hex","hexcolors","progress_hexcolor","progress_hexcolors","design_wave_color_progress","is_progress","sampleDetermineIfCurrentDrawIsBeforeOrAfterSample","fillStyle","save","barh_normal","skinwave_wave_mode_canvas_normalize","lineWidth","floor","y","skinwave_wave_mode_canvas_mode","beginPath","rect","createLinearGradient","addColorStop","dzsapHelpers","fill","closePath","restore","barh_ref","scrubbar_reveal","assignHelperFunctionsToJquery","fn","prependOnce","argfind","auxarr","prepend","appendOnce","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","css","dzsapInitjQueryRegisters","dzsap_generate_list_for_sync_players","dzsap_list_for_sync_players","settings","construct_player_list_for_sync","force_regenerate","_t2","push","off","on","toggleClass","innerWidth","miscFunctions","dzsap_send_total_time","argtime","argcthis","action","id_track","postdata","post","dzsap_ajaxurl","response","undefined","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","dzsap_multisharer_assets_loaded","loading_multi_sharer","head","getElementsByTagName","link","id","rel","media","appendChild","dzsap_box_main_con","svg_close_btn","dzsap_submit_like","argp","playerid","currentTarget","ajax_url","htmlaux","dzsap_retract_like","jQueryAuxBindings","api_change_media","wishlist_action","dzsap_lasto","settings_php_handler","_con","setInterval","_c_mc","overwrite_this","dzsap_social_feed_for_social_networks","dzsap_social_feed_for_share_link","newloc","aux_social","dzsap_social_feed_for_embed_link","replace_str","htmlEntities","selectText","lightbox_open","open_dzsap_lightbox","_target","api_filter","selectNode","ajax_submit_views","the_player_id","currIp","data_source","increment_views","ajax_view_submitted","currip","auxnr","decode_json","auxlikes","configureAudioPlayerOptionsInitial","isNaN","design_thumbh","autoplay","cue","preload_method","extra_classes_player","design_skin","test","scrubbar_type","starrating_alreadyrated","disable_volume","disable_scrub","disable_timer","design_color_bg","design_color_highlight","design_animateplaypause","embed_code","php_handler","urlToAjaxHandler","sanitize_from_point_time","arr","player_initSpectrumOnUserAction","handleMouseDown","dzsap_audio_ctx","AudioContext","spectrum_audioContext","webkitAudioContext","createOscillator","destination","spectrum_analyser","createAnalyser","smoothingTimeConstant","fftSize","crossOrigin","spectrum_mediaElementSource","createMediaElementSource","connect","createGain","spectrum_gainNode","gain","frameCount","sampleRate","spectrum_audioContext_buffer","createBuffer","addEventListener","once","player_stopOtherPlayers","dzsap_list","api_destroy_for_rebuffer","player_constructArtistAndSongCon","structHtml","_metaArtistCon","_conControls","_audioplayerInner","wrap","_apControls","_apControlsRight","_apControlsLeft","after","_conPlayPauseCon","before","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","finalOptions","tempOptions","sw_setFromJson","_elThis","eval","aux_opts","generateFakeArrayForPcm","it1","random","constants","PLAYLIST_TRANSITION_DURATION","URL_WAVESURFER","DEBUG_STYLE_PLAY_FUNCTIONS","isInt","isValid","svg_preloader_code","svg_footer_playlist","svg_pause","svg_embed_btn","svg_prev_btn","svg_next_btn","svg_prev_btn_steel","svg_next_btn_steel","svg_menu_state","svg_volume","svg_play_icon","svg_heart_icon","svg_arrow_resize","svg_volume_static","svg_embed_button","playbtn_svg","svg_share_icon","pausebtn_svg","dzsHelpers","ajax_get_views","responseViews","views","auxhtml","index_extrahtml_toloads","ajax_submit_rating","resp_arr","nrrates","starrating_index","number","parentgallery","api_player_rateSubmitted","aux2","ajax_submit_like","refferer","ajax_retract_like","ajax_comment_publish","comm_position","commentPositionPerc","skinwave_comments_process_in_php","skinwave_comments_avatar","skinwave_comments_account","email","charAt","slice","action_audio_comment","dzsap_init_calls","require","dzsapPlaylist","dzsapAjax","dzsapMisc","dzsapWaveFunctions","ConstantsDzsAp","dzsap_yt_list","dzsap_ytapiloaded","dzsap_globalidind","dzsap_list_for_sync_sw_built","dzsap_list_for_sync_inter_build","dzsap_moving_playlist_item","dzsap_playlist_con","dzsap_playlist_item_moving","dzsap_playlist_item_target","dzsap_player_interrupted_by_dzsap","dzsap__style","dzsap_sticktobottom_con","dzsap_self_options","dzsap_generating_pcm","dzsap_wavesurfer_load_attempt","dzsap_player_index","DzsAudioPlayer","argThis","_feed_fakeButton","_sourcePlayer","spectrum_audioContextBufferSource","lastArray","last_lastArray","player_playing","identifier_pcm","isRealPcm","isPcmTryingToGenerate","isPcmPromisingToGenerateOnMetaLoad","isPlayPromised","src_real_mp3","original_real_mp3","classInit","tw","_controlsVolume","__scrubbProg","_theMedia","_theThumbCon","inter_checkReady","skin_minimal_canvasplay","cthisId","cclass","sw","spos","_conPlayPause","_cwatermark","_commentsSelector","_playlistTooltip","_scrubBgCanvas","_commentsWriter","_currTime","_totalTime","muted","destroyed","google_analytics_sent_play_event","destroyed_for_rebuffer","loop_active","dzsap_can_canvas","scrub_showing_scrub_time","setuped_listeners","setuped_media","safe_to_change_track","last_time_total","time_curr_for_visual","time_curr_for_real","time_total_for_visual","time_total_for_real","pseudo_sample_time_start","pseudo_sample_time_end","sample_perc_start","playlist_inner_currNr","sample_perc_end","attempt_reload","currTime_outerWidth","player_index_in_gallery","last_vol","last_vol_before_mute","inter_ended","inter_60_secs_contor","res_thumbh","volume_dragging","volume_set_by_user","sw_enable_multisharer","is_under_400","first_drawn_canvas","sent_received_time_total","ended","_sticktobottom","skin_minimal_button_size","scrubbar_moving","scrubbar_moving_x","aux3","radio_update_artist_name","radio_update_song_name","_feed_extra_html","dataSrc","canw","canh","_commentsChildren","str_audio_element","starrating_nrrates","playfrom","playfrom_ready","defaultVolume","action_audio_end","action_audio_play","action_audio_play2","action_audio_pause","sw_suspend_enter_frame","type_normal_stream_type","settings_extrahtml_in_float_right","duration_viy","begin_viy","change_viy","draw_canvas_inter","func_audio_error","settle_sample_times","icecast_shoutcast_get_data","crossDomain","documentElement","innerHTML","new_title","new_artist","setup_media","check_every_05_secs","currentTime","seek_to","duration","getDuration","getCurrentTime","Storage","localStorage","skinwave_comments_displayontime","load_yt_api","tag","src","firstScriptTag","parentNode","insertBefore","comments_selector_event","add_comments_placeholder","comment_email","comment_submit","calculate_dims_time","scrubbarh","top","outerHeight","change_visual_target","api_pause_media_visual","__c","api_play_media_visual","api_draw_curr_time","api_set_time_curr","api_get_times","api_check_time","api_draw_scrub_prog","change_design_color_highlight","skinwave_wave_mode","change_media","_argSource","changeMediaArgsDefaults","fakeplayer_is_feeder","feeder_type","source_player_do_not_update","handle_resize_delay","media_changed_index","isSourceAStringSource","sw_pause_old_player","isSourceHasClassForDomSource","destroy_media","original_type","scrubModeWave__transitionIn","scrubModeWave__initGenerateWaveData","wave_mode_canvas_try_to_get_pcm","struct_generate_thumb","setup_pcm_random_for_now","ind","_cach","_el","retrieve_soundcloud_url","set_volume","action_audio_change_media","play_media_visual","handleResize","destroy_listeners","destroy_it","pause_media","click_for_setup_media","unbind","click_menu_state","api_toggle_menu_state","click_comments_bg","lmx","clientX","skinwave_comments_links_to","skinwave_comments_allow_post_if_not_logged_in","lmx2","comments_offset","aux4","api_handleResize","click_cancel_comment","hide_comments_writer","comment_text","comment_username","comm_author","alert","api_player_commentSubmitted","click_submit_comment","argid","YT","Player","videoId","playerVars","origin","controls","autohide","wmode","iv_load_policy","events","check_yt_ready_phase_two","change_yt_state","init_loaded","check_ready","HTMLElement","readyState","clearInterval","action_audio_loaded_metadata","aux_thumb_con_str","apply_skinwave_mode_class","playlist_goto_item","api_goto_item","player_setup_playlist_inner","attributes","specified","handle_mouse","my","clientY","tmy","setup_structure","setup_inner_player","setup_otherstructure","img","Image","onload","aux_str_time","aux_str_scrubbar","aux_str_con_controls","controls_external_scrubbar","struct_con_playpause","settings_extrahtml_before_play_pause","show_tooltips","has_svg_icons","skinwave_preloader_code","settings_extrahtml_in_float_left","aux_str_con_volume","api_skin_redlights_give_controls_right_to_all","settings_extrahtml_in_float_right_str","prev","design_menu_show_player_state_button","skinwave_place_metaartist_after_volume","settings_extrahtml_after_artist","skinwave_place_thumb_after_volume","setup_structure_scrub","skinwave_timer_static","check_multisharer","player_navigation","disable_player_navigation","prev_btn_str","next_btn_str","auxs","settings_extrahtml","_c_html","unwrap","outerHTML","wrapAll","next","enable_embed_button","execCommand","footer_btn_playlist","auxls","auxresponse","ajax_get_rates","setup_controls_commentsHolder","wrapInner","default_pcm","pcm_data_try_to_generate","pcm_data_try_to_generate_wait_for_real_pcm","i3","toFixed","stringify","ajax_submit_download","settings_exclude_from_list","called_from","destroy","fn_yt_ready","str_open_audio_tag","aux_source","str_close_audio_tag","pause","load","volume","audioElement","target","networkState","HTMLMediaElement","NETWORK_NO_SOURCE","earg","notice_no_media","txt","message","click_playpause","failsafe_repair_media_element","aux_wasplaying","destroy_cmedia","removeEventListener","setup_listeners","handleMouseOnScrubbar","click_mute","mouse_volumebar","settings_trigger_resize","click_like","has","get_last_vol","handle_end","clearTimeout","scrubModeWave__checkIfWeShouldTryToGetPcm","type_audio_stop_buffer_on_unfocus","default_volume","getItem","volume_from_gallery","do_not_autoplay","handleTickChange","get_times","action_video_contor_60secs","count_60secs","api_goto_prev","api_goto_next","api_seek_to_0","api_playback_slow","api_playback_reset","clone","_clone","preview_on_hover","seek_to_perc","mouse_starrating","mx","pageX","draw_curr_time","Uint8Array","frequencyBinCount","getByteFrequencyData","len","last_lastarray","easeIn","drawMeter","action_received_time_total","fadeIn","draw_scrub_prog","style","fire_only_once","requestAnimFrame","api_get_time_curr","api_get_time_total","api_set_time_total","api_seek_to_visual","temp_time_curr","ctx_minimal","ctx_w","ctx_h","pw","ph","PI","arc","strokeStyle","stroke","stopPropagation","sw_cancel_toggle","it3","center_x","center_y","mouse_x","mouse_y","pageY","pzero_x","pzero_y","AB","sqrt","pow","AC","BC","perc","acos","tempNr","i24","_ctarget","_c_","loop","api_gallery_handle_end","api_handle_end","cthis_height","reconstruct_player","draw_canvas_inter_func","_metaArtistCon_w","_metaArtistCon_l","embedded","frameElement","embedded_iframe_id","params","postMessage","restyle_player_over_400","restyle_player_under_400","mousex","scrub_show_scrub_time","targetPositionOnScrub","api_seek_to_perc","autoplay_on_scrub_click","argperc","deeplinking","newlink","foo","api_seek_to","seekTo","seek_to_visual","set_playback_speed","setPlaybackRate","playbackRate","setVolume","visual_set_volume","api_visual_set_volume","api_set_volume","skinwave_dynamicwaves","setItem","pause_media_visual","donot_change_media","pauseVideo","pause_method","call_from_aux","delay","google_analytics_send_play_event","_gaq","ga","__gaTracker","hitType","eventCategory","eventAction","eventLabel","api_regenerate_sync_players_with_this_playlist","api_regenerate_playerlist_inner","play","createBufferSource","buffer","start","api_try_to_submit_view","try_to_submit_view","play_trigger_step_back","wavesurfer_pcm_length","mobile_delete","skinwave_comments_playerid","skinwave_comments_enable","mobile_disable_fakeplayer","re_ratesubmitted","lastIndex","_t23","_feed_obj","skinwave_comments_retrievefromajax","str_comments_holder","original_id","api_destroy","api_play","api_get_last_vol","api_click_for_setup_media","api_init_loaded","api_set_playback_speed","api_destroy_listeners","api_change_visual_target","api_change_design_color_highlight","api_set_action_audio_play","api_set_action_audio_pause","api_set_action_audio_end","api_set_action_audio_comment","passive","originalEvent","touches","skinwave_comments_mode_outer_selector","init","register_dzsap_plugin","dzsap_list_for_sync_build","audioplayer","default_opts","registerToJquery","dzsag_init","selector","init_each","keys","audiogallery","register_dzsap_aux_script","ready","handle_resize_dzsap_main","inter_resize","handle_resize_dzsap_main_doit","dzsap_init","dzsap_call_init_calls","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","script","element_count","ZoomSoundsNav","Constants","DzsApPlaylist","navClass","_sliderMain","_sliderClipper","_navMain","_navClipper","selfGallery","cgallery","currNr","lastCurrNr","nrChildren","busy","first","skin_redlight_give_controls_right_to_all_players","trying_to_get_track_data","arr_menuitems","track_data","str_alertBeforeRate","target_viy","destroy_gallery","filter","argby","filterForIsotope","referenceVal","isotope","fadeOut","regenerate_sync_players_with_this_playlist","init_parse_track_data","parse_track_data","parseTrackData","get_nr_children","reinit","notInitedPlayersLength","menuDescriptionHtml","auxer","extra_class","menu_description","player_id","click_downloadAfterRate","play_curr_media","mode_showall_listen_for_play","settings_mode","currNr_2","handle_frame","finish_viy","toggle_menu_state","gallery_handle_end","autoplayNext","goto_next","player_commentSubmitted","player_rateSubmitted","calculateDims","mode_normal_video_mode","calculate_on_interval","transition_end","newCurrNr","transition_bg_end","goto_prev","sw_goto_item","loop_playlist","goto_item","donotopenlink","_audioplayerToBeActive","currNr_last_vol","settings_ap","cueFirstMedia","args_player","init_player_from_gallery","ignore_linking","settings_enable_linking","playlistTransition","bgimage","animate","queue","complete","step","_cache","player_args","_firstPlayer","design_menu_width","design_menu_height","design_menu_position","auxlen","get_structZoomsoundsNav","mode_showall_layout","set_elements","init_ready","force_autoplay_when_coming_from_share_link","settings_mode_showall_show_number","itemSelector","layoutMode","percentPosition","masonry","columnWidth","api_reinit","api_play_curr_media","api_get_nr_children","api_init_player_from_gallery","enable_easing","_ag","linkedClassInstance","parentGallery","structZoomsoundsNav","size_navMainClipSize","size_navMainTotalSize","navigation_method","self","navMain_mousemove","viy","aux_error","click_menuitem","disable_menu_navigation","design_menu_state","foundnr","aux_html","label","design_menu_space","design_menuitem_width","design_menuitem_height","design_menuitem_space","menu_facebook_share","soundcloud_apikey","soundcloud_retriever","php_retriever","async","dataType","stream_url","feed_fakeButton","dzsapConstants","isWeShouldGetPcm","argpcm","call_attempt","DEBUG_STYLE_1","WaveSurfer","scrubModeWave__generateWaveData","scripts","baseUrl","i23","baseUrl_arr","pcm_notice","wavesurfer","container","normalize","pixelRatio","accuracy","exportPCM","scrubModeWave__sendPcm","err2","map","settings_extrahtml_after_play_pause","settings_useflashplayer","skinwave_spectrummultiplier","fakeplayer","gallery_gapless_play"],"mappings":"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","file":"audioplayer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","const dzsapSvgs = require('./_dzsap_svgs');\n\nconst dzsap_generate_keyboard_controls = function () {\n  var keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  if (window.dzsap_keyboard_controls) {\n    // console.log('keyboard_controls - ',keyboard_controls);\n    // console.log('window.dzsap_keyboard_controls - ',window.dzsap_keyboard_controls);\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n  return keyboard_controls;\n};\n\n\nfunction formatTime(arg) {\n  //formats the time\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nfunction can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nfunction dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n    //console.log(arg);\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n  //console.log(arg);\n\n\n}\n\n\nfunction get_query_arg(purl, key) {\n  if (purl) {\n    // console.log('purl - ',purl);\n    if (String(purl).indexOf(key + '=') > -1) {\n      //faconsole.log('testtt');\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n      //console.log(regtest);\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n        //console.log(splitterS);\n        var splitter = splitterS.split('=');\n        //console.log(splitter[1]);\n        //var tempNr = ;\n\n        return splitter[1];\n\n      }\n      //$('.zoombox').eq\n    }\n\n  } else {\n    console.log('purl not found - ', purl);\n  }\n}\n\nfunction add_query_arg(purl, key, value) {\n  // -- key and value must be unescaped for uri\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n  //console.log(s, pair);\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n  //if(!RegExp.$1) {s += (s.length>0 ? '&' : '?') + kvp;};\n\n\n  //if value NaN we remove this field from the url\n  if (value == 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') == -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nfunction dzsap_is_mobile() {\n\n  // return true;\n  return is_ios() || is_android_good();\n}\n\nfunction is_ios() {\n  // return true;\n  return ((navigator.platform.indexOf(\"iPhone\") != -1) || (navigator.platform.indexOf(\"iPod\") != -1) || (navigator.platform.indexOf(\"iPad\") != -1));\n}\n\nexports.youtube_playMedia = function(selfClass, margs, yt_inited, yt_curr_id) {\n\n  // console.log('is youtube .. try to play it .. ', selfClass._cmedia);\n  try {\n    if (selfClass._cmedia && selfClass._cmedia.playVideo) {\n\n      selfClass._cmedia.playVideo();\n      //return false;\n    } else {\n\n      // console.log('lets retry ', margs.retry_call,  selfClass._cmedia, 'yt_inited - ',yt_inited);\n      if (margs.retry_call < 5) {\n\n        margs.retry_call++;\n        margs.call_from = 'retry for youtube';\n\n\n        if (yt_inited == false) {\n          // -- clearly not loaded..\n          selfClass.playerIsLoaded = false;\n\n          selfClass.youtube_checkReady(yt_curr_id);\n\n          // console.log(\"RETRYING\");\n\n          selfClass.youtube_retryPlayTimeout = setTimeout(function (args) {\n            selfClass.play_media(args);\n          }, 500, margs);\n        } else {\n\n          selfClass.youtube_retryPlayTimeout = setTimeout(function (args) {\n            selfClass.play_media(args);\n          }, 500, margs);\n        }\n      }\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\nfunction can_canvas() {\n  // check if we have canvas support\n  var oCanvas = document.createElement(\"canvas\");\n  if (oCanvas.getContext(\"2d\")) {\n    return true;\n  }\n  return false;\n}\n\nfunction is_android() {\n  return is_android_good();\n}\n\nfunction select_all(el) {\n  if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nfunction is_android_good() {\n  //return false;\n  //return true;\n  var ua = navigator.userAgent.toLowerCase();\n\n  //console.log('ua - ',ua);\n  return (ua.indexOf(\"android\") > -1);\n}\n\nfunction htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nfunction dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  // console.log('keyboard_controls - ',keyboard_controls,lab,keyboard_controls.lab);\n  var fout = '<span class=\"dzstooltip arrow-from-start transition-slidein arrow-bottom skin-black\" style=\"width: auto;  white-space:nowrap;\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span>';\n  // left: 5px;\n  fout = fout.replace('32', 'space');\n  fout = fout.replace('27', 'escape');\n\n  return fout;\n\n\n}\n\n\nvar MD5 = function (e) {\n  function g(a, d) {\n    var b = a & 2147483648;\n    var c = d & 2147483648;\n    var e = a & 1073741824;\n    var f = d & 1073741824;\n    var p = (a & 1073741823) + (d & 1073741823);\n    return e & f ? p ^ 2147483648 ^ b ^ c : e | f ? p & 1073741824 ? p ^ 3221225472 ^ b ^ c : p ^ 1073741824 ^ b ^ c : p ^ b ^ c\n  }\n\n  function h(b, c, a, d, e, f, n) {\n    b = g(b, g(g(c & a | ~c & d, e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function k(b, c, a, d, e, f, n) {\n    b = g(b, g(g(c & d | a & ~d, e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function l(b, c, d, a, e, f, n) {\n    b = g(b, g(g(c ^ d ^ a, e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function m(b, c, d, a, e, f, n) {\n    b = g(b, g(g(d ^\n      (c | ~a), e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function q(b) {\n    var c = \"\", d;\n    for (d = 0; 3 >= d; d++) {\n      var a = b >>> 8 * d & 255;\n      a = \"0\" + a.toString(16);\n      c += a.substr(a.length - 2, 2)\n    }\n    return c\n  }\n\n  var f = [];\n  e = function (b) {\n    b = b.replace(/\\r\\n/g, \"\\n\");\n    for (var c = \"\", d = 0; d < b.length; d++) {\n      var a = b.charCodeAt(d);\n      128 > a ? c += String.fromCharCode(a) : (127 < a && 2048 > a ? c += String.fromCharCode(a >> 6 | 192) : (c += String.fromCharCode(a >> 12 | 224), c += String.fromCharCode(a >> 6 & 63 | 128)), c += String.fromCharCode(a & 63 | 128))\n    }\n    return c\n  }(e);\n  f = function (b) {\n    var c = b.length;\n    var a = c + 8;\n    for (var d =\n      16 * ((a - a % 64) / 64 + 1), e = Array(d - 1), f, g = 0; g < c;) a = (g - g % 4) / 4, f = g % 4 * 8, e[a] |= b.charCodeAt(g) << f, g++;\n    a = (g - g % 4) / 4;\n    e[a] |= 128 << g % 4 * 8;\n    e[d - 2] = c << 3;\n    e[d - 1] = c >>> 29;\n    return e\n  }(e);\n  var a = 1732584193;\n  var d = 4023233417;\n  var b = 2562383102;\n  var c = 271733878;\n  for (e = 0; e < f.length; e += 16) {\n    var r = a;\n    var t = d;\n    var u = b;\n    var v = c;\n    a = h(a, d, b, c, f[e + 0], 7, 3614090360);\n    c = h(c, a, d, b, f[e + 1], 12, 3905402710);\n    b = h(b, c, a, d, f[e + 2], 17, 606105819);\n    d = h(d, b, c, a, f[e + 3], 22, 3250441966);\n    a = h(a, d, b, c, f[e + 4], 7, 4118548399);\n    c = h(c, a, d, b, f[e + 5], 12, 1200080426);\n    b = h(b, c, a, d, f[e +\n    6], 17, 2821735955);\n    d = h(d, b, c, a, f[e + 7], 22, 4249261313);\n    a = h(a, d, b, c, f[e + 8], 7, 1770035416);\n    c = h(c, a, d, b, f[e + 9], 12, 2336552879);\n    b = h(b, c, a, d, f[e + 10], 17, 4294925233);\n    d = h(d, b, c, a, f[e + 11], 22, 2304563134);\n    a = h(a, d, b, c, f[e + 12], 7, 1804603682);\n    c = h(c, a, d, b, f[e + 13], 12, 4254626195);\n    b = h(b, c, a, d, f[e + 14], 17, 2792965006);\n    d = h(d, b, c, a, f[e + 15], 22, 1236535329);\n    a = k(a, d, b, c, f[e + 1], 5, 4129170786);\n    c = k(c, a, d, b, f[e + 6], 9, 3225465664);\n    b = k(b, c, a, d, f[e + 11], 14, 643717713);\n    d = k(d, b, c, a, f[e + 0], 20, 3921069994);\n    a = k(a, d, b, c, f[e + 5], 5, 3593408605);\n    c = k(c,\n      a, d, b, f[e + 10], 9, 38016083);\n    b = k(b, c, a, d, f[e + 15], 14, 3634488961);\n    d = k(d, b, c, a, f[e + 4], 20, 3889429448);\n    a = k(a, d, b, c, f[e + 9], 5, 568446438);\n    c = k(c, a, d, b, f[e + 14], 9, 3275163606);\n    b = k(b, c, a, d, f[e + 3], 14, 4107603335);\n    d = k(d, b, c, a, f[e + 8], 20, 1163531501);\n    a = k(a, d, b, c, f[e + 13], 5, 2850285829);\n    c = k(c, a, d, b, f[e + 2], 9, 4243563512);\n    b = k(b, c, a, d, f[e + 7], 14, 1735328473);\n    d = k(d, b, c, a, f[e + 12], 20, 2368359562);\n    a = l(a, d, b, c, f[e + 5], 4, 4294588738);\n    c = l(c, a, d, b, f[e + 8], 11, 2272392833);\n    b = l(b, c, a, d, f[e + 11], 16, 1839030562);\n    d = l(d, b, c, a, f[e + 14], 23, 4259657740);\n    a = l(a, d, b, c, f[e + 1], 4, 2763975236);\n    c = l(c, a, d, b, f[e + 4], 11, 1272893353);\n    b = l(b, c, a, d, f[e + 7], 16, 4139469664);\n    d = l(d, b, c, a, f[e + 10], 23, 3200236656);\n    a = l(a, d, b, c, f[e + 13], 4, 681279174);\n    c = l(c, a, d, b, f[e + 0], 11, 3936430074);\n    b = l(b, c, a, d, f[e + 3], 16, 3572445317);\n    d = l(d, b, c, a, f[e + 6], 23, 76029189);\n    a = l(a, d, b, c, f[e + 9], 4, 3654602809);\n    c = l(c, a, d, b, f[e + 12], 11, 3873151461);\n    b = l(b, c, a, d, f[e + 15], 16, 530742520);\n    d = l(d, b, c, a, f[e + 2], 23, 3299628645);\n    a = m(a, d, b, c, f[e + 0], 6, 4096336452);\n    c = m(c, a, d, b, f[e + 7], 10, 1126891415);\n    b = m(b, c, a, d, f[e + 14], 15, 2878612391);\n    d = m(d, b, c, a, f[e + 5], 21, 4237533241);\n    a = m(a, d, b, c, f[e + 12], 6, 1700485571);\n    c = m(c, a, d, b, f[e + 3], 10, 2399980690);\n    b = m(b, c, a, d, f[e + 10], 15, 4293915773);\n    d = m(d, b, c, a, f[e + 1], 21, 2240044497);\n    a = m(a, d, b, c, f[e + 8], 6, 1873313359);\n    c = m(c, a, d, b, f[e + 15], 10, 4264355552);\n    b = m(b, c, a, d, f[e + 6], 15, 2734768916);\n    d = m(d, b, c, a, f[e + 13], 21, 1309151649);\n    a = m(a, d, b, c, f[e + 4], 6, 4149444226);\n    c = m(c, a, d, b, f[e + 11], 10, 3174756917);\n    b = m(b, c, a, d, f[e + 2], 15, 718787259);\n    d = m(d, b, c, a, f[e + 9], 21, 3951481745);\n    a = g(a, r);\n    d = g(d, t);\n    b = g(b, u);\n    c = g(c, v)\n  }\n  return (q(a) + q(d) + q(b) +\n    q(c)).toLowerCase()\n};\n\n\nfunction handle_keypresses(e) {\n\n  // -- local .. step back / step forward\n\n  var $ = jQuery;\n\n  var keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n  // console.log('keyboard_controls.pause_play - ',keyboard_controls.pause_play);\n  // console.log('keyboard_controls - ',keyboard_controls);\n\n  // console.log('e.keyCode - ',e.keyCode, keyboard_controls);\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    var sw_pressed;\n\n\n    sw_pressed = false;\n    if (keyboard_controls.pause_play.indexOf('ctrl+') > -1) {\n\n      if (e.ctrlKey) {\n        keyboard_controls.pause_play = keyboard_controls.pause_play.replace('ctrl+', '');\n\n        if (e.keyCode == keyboard_controls.pause_play) {\n\n          sw_pressed = true;\n        }\n      }\n\n    } else {\n\n      if (e.keyCode == keyboard_controls.pause_play) {\n\n        sw_pressed = true;\n      }\n    }\n\n\n    if (sw_pressed) {\n\n      if ($(dzsap_currplayer_focused).hasClass('comments-writer-active') == false) {\n\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n\n          dzsap_currplayer_focused.api_pause_media();\n\n        } else {\n\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n\n        if (window.dzsap_mouseover) {\n\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n\n    sw_pressed = false;\n    if (keyboard_controls.step_back.indexOf('ctrl+') > -1) {\n\n      if (e.ctrlKey) {\n        keyboard_controls.step_back = keyboard_controls.step_back.replace('ctrl+', '');\n        if (e.keyCode == keyboard_controls.step_back) {\n\n\n          sw_pressed = true;\n\n        }\n      }\n    } else {\n\n      if (e.keyCode == keyboard_controls.step_back) {\n\n\n        sw_pressed = true;\n\n      }\n    }\n\n    if (sw_pressed) {\n\n\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n\n    }\n\n    sw_pressed = false;\n\n    if (keyboard_controls.step_forward.indexOf('ctrl+') > -1) {\n\n      if (e.ctrlKey) {\n        keyboard_controls.step_forward = keyboard_controls.step_forward.replace('ctrl+', '');\n        if (e.keyCode == keyboard_controls.step_forward) {\n\n          sw_pressed = true;\n\n        }\n      }\n    } else {\n      if (e.keyCode == keyboard_controls.step_forward) {\n\n        sw_pressed = true;\n\n      }\n    }\n\n    if (sw_pressed) {\n\n\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n\n    }\n\n    sw_pressed = false;\n\n    if (e.keyCode == keyboard_controls.sync_players_goto_next) {\n      sw_pressed = true;\n    }\n\n    if (sw_pressed) {\n      if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_sync_players_goto_next) {\n        dzsap_currplayer_focused.api_sync_players_goto_next();\n      }\n    }\n\n\n    sw_pressed = false;\n\n    if (e.keyCode == keyboard_controls.sync_players_goto_prev) {\n      sw_pressed = true;\n\n    }\n\n    if (sw_pressed) {\n      if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_sync_players_goto_prev) {\n        dzsap_currplayer_focused.api_sync_players_goto_prev();\n      }\n    }\n\n\n  }\n}\n\n\nfunction hexToRgb(hex, palpha) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (palpha) {\n      alpha = palpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  // console.log('hexToRgb ( hex - '+hex+' ) result ', str);\n\n  return str;\n\n\n}\n\nexports.assignHelperFunctionsToJquery = function ($) {\n\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this) // It's your element\n\n\n    //        console.log(argfind);\n    if (typeof (argfind) == 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] != 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this) // It's your element\n\n\n    if (typeof (argfind) == 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] != 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n};\n\n\nexports.registerTextWidth = function ($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName == 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n    //console.log(_lastspan, html_calc);\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n    //_t.html(html_org);\n    _lastspan.remove();\n    return width;\n  };\n}\nexports.player_checkIfWeShouldShowAComment = player_checkIfWeShouldShowAComment;\nfunction player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total){\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType == 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\nexports.sanitizeObjectForChangeMediaArgs = sanitizeObjectForChangeMediaArgs ;\nfunction sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n  // -- settle source\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n    // -- if it is a inline link\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  if (_feed_fakePlayer.attr('data-soft-watermark')) {\n    changeMediaArgs.watermark = _sourceForChange.attr('data-soft-watermark');\n  }\n  if (_feed_fakePlayer.attr('data-watermark-volume')) {\n    changeMediaArgs.watermark_volume = _sourceForChange.attr('data-watermark-volume');\n\n  }\n\n\n  return changeMediaArgs;\n\n\n}\n\nexports.dzsapInitjQueryRegisters = function () {\n\n  window.dzsap_generate_list_for_sync_players = function (pargs) {\n\n    var margs = {\n      'force_regenerate': false\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n    window.dzsap_list_for_sync_players = [];\n\n    // console.log('typeof(settings) != \"undefined\"  && typeof(settings.construct_player_list_for_sync) != \"undefined\"  && settings.construct_player_list_for_sync==\\'on\\' - ',typeof(settings) != \"undefined\"  && typeof(settings.construct_player_list_for_sync) != \"undefined\"  && settings.construct_player_list_for_sync=='on', typeof(settings) != \"undefined\", typeof(settings.construct_player_list_for_sync), settings.construct_player_list_for_sync=='on');\n\n\n    if (typeof (settings) != \"undefined\" && ((typeof (settings.construct_player_list_for_sync) != \"undefined\" && settings.construct_player_list_for_sync == 'on') || margs.force_regenerate)) {\n\n      jQuery('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t2 = jQuery(this);\n        if (_t2.attr('data-do-not-include-in-list') != 'on') {\n          if (_t2.attr('data-type') != 'fake' || _t2.attr('data-fakeplayer')) {\n\n            window.dzsap_list_for_sync_players.push(_t2);\n          }\n        }\n      })\n\n      // console.log('dzsap_list_for_sync_players -5 ',dzsap_list_for_sync_players);\n\n    }\n  }\n\n\n  jQuery(document).off('click.dzsap_global');\n  jQuery(document).on('click.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n\n      _t.find('.dzstooltip').toggleClass('active');\n      return;\n    }\n\n  })\n  jQuery(document).on('mouseover.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n      // console.log(_t.offset().left);\n      if (window.innerWidth < 500) {\n        // -- if we are in the left side of the screen, we move the tooltip to the right.\n        if (_t.offset().left < (window.innerWidth / 2)) {\n          _t.find('.dzstooltip').removeClass('talign-end').addClass('talign-start');\n        }\n      } else {\n        _t.find('.dzstooltip').addClass('talign-end').removeClass('talign-start');\n      }\n    }\n\n  });\n}\nexports.miscFunctions = function () {\n\n\n  window.dzsap_send_total_time = function (argtime, argcthis) {\n\n\n    // console.log('dzsap_send_total_time()',argtime,argcthis);\n\n    var data = {\n      action: 'dzsap_send_total_time_for_track'\n      , id_track: argcthis.attr('data-playerid')\n      , postdata: parseInt(argtime, 10)\n    };\n    jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      if (window.console != undefined) {\n        console.log('dzsap_send_total_time Got this from the server: ' + response);\n      }\n\n\n    });\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n    //Allow for borders.\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n    //Allow for title and status bars.\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    console.log('dzs_open_social_link()', arg, 'argthis - ', argthis);\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n    if (argthis) {\n\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    var aux = window.location.href;\n\n\n    var auxa = aux.split('?');\n\n    var cid = '';\n    var cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n    // console.log('argthis -> ', argthis);\n\n\n    if (argthis) {\n\n      var $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n    console.log('shareurl -> ', shareurl);\n\n    //console.log(argthis);\n    //console.log('arg - ',arg);\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n      // ,video_analytics_id: argcthis.attr('data-analytics-id')\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n    // console.log('dzsap_wp_send_contor_60_secs()',argcthis,argtitle);\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Ajax - submit view - ' + response);\n        }\n\n\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.warn('Got this from the server: ' + arg);\n        }\n        ;\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n    var $ = jQuery;\n    setTimeout(function () {\n      // console.log(\"LOAD MULTISHARER\");\n\n\n      // console.log('window.dzsap_multisharer_assets_loaded - ',window.dzsap_multisharer_assets_loaded);\n      if (window.dzsap_multisharer_assets_loaded) {\n\n      } else {\n        if (window.dzsap_multisharer_assets_loaded != true && window.loading_multi_sharer != true) {\n\n          // -- only if settings_php_handler is set\n\n\n          // - -load script for lightbox\n          window.loading_multi_sharer = true;\n          var head = document.getElementsByTagName('head')[0];\n          var link = document.createElement('link');\n\n          if (window.dzsap_settings && window.dzsap_settings.dzsap_site_url) {\n\n            link.id = 'dzsap-load-multi-sharer';\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = add_query_arg(window.dzsap_settings.dzsap_site_url, 'load-lightbox-css', 'on');\n            link.media = 'all';\n            head.appendChild(link);\n          }\n\n          // console.log('script for lightbox - ',add_query_arg(window.dzsap_settings.dzsap_site_url,'load-lightbox-css','on'));\n\n          // console.warn(\"APPEND MULTISHARER STYLE\");\n\n          setTimeout(function () {\n\n            if (window.dzsap_box_main_con == null) {\n\n              $('body').append('<div class=\"dzsap-main-con skin-default gallery-skin-default transition-slideup \"> <div class=\"overlay-background\"></div> <div class=\"box-mains-con\"> <div class=\"box-main box-main-for-share\" style=\"\"> <div class=\"box-main-media-con transition-target\"> <div class=\"close-btn-con\"> ' + dzsapSvgs.svg_close_btn + '</div> <div class=\"box-main-media type-inlinecontent\" style=\"width: 530px; height: 280px;\"><div class=\" real-media\" style=\"\"><div class=\"hidden-content share-content\" > <div class=\"social-networks-con\"></div> <div class=\"share-link-con\"></div> <div class=\"embed-link-con\"></div> </div> </div> </div> <div class=\"box-main-under\"></div> </div> </div> </div><!-- end .box-mains-con--> </div>');\n\n\n              window.dzsap_box_main_con = $('.dzsap-main-con').eq(0);\n\n              // console.log('dzsap_box_main_con - ', window.dzsap_box_main_con);\n            }\n\n          }, 1000);\n\n\n        }\n      }\n\n      // -- remove main con function\n      $(document).on('click.dzsap_global_sharer', '.dzsap-main-con .close-btn-con,.dzsap-main-con .overlay-background', function () {\n\n\n        var _c = $('.dzsap-main-con').eq(0);\n\n        _c.removeClass('loading-item loaded-item');\n      })\n\n    }, 2000)\n  }\n\n\n  window.dzsap_submit_like = function (argp, e) {\n    //only handles ajax call + result\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_submit_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n          if (typeof window.console != \"undefined\") {\n            console.log('Got this from the server: ' + response);\n          }\n\n\n          if (_t) {\n\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart-o', 'fa-heart'));\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' + arg, arg);\n          }\n          ;\n        }\n      });\n    }\n  }\n\n\n  window.dzsap_retract_like = function (argp, e) {\n    //only handles ajax call + result\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_retract_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n          if (typeof window.console != \"undefined\") {\n            console.log('Got this from the server: ' + response);\n          }\n\n\n          if (_t) {\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart', 'fa-heart-o'));\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' + arg, arg);\n          }\n          ;\n        }\n      });\n    }\n  }\n\n}\n\nexports.jQueryAuxBindings = function ($) {\n\n  // console.log('start aux bindings');\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer, .dzsap-wishlist-but', function () {\n    var _t = $(this);\n\n    // conso\n\n    if (_t.hasClass('audioplayer-song-changer')) {\n\n      // console.log('.audioplayer-song-changer', _t);\n      var _c = $(_t.attr('data-fakeplayer')).eq(0);\n      // console.log(_t, _t.attr('data-fakeplayer'), _t.attr('data-target'), _c, _c.get(0));\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n\n        _c.get(0).api_change_media(_t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n    if (_t.hasClass('dzsap-wishlist-but')) {\n\n\n      var data = {\n        action: 'dzsap_add_to_wishlist',\n        playerid: _t.attr('data-post_id'),\n        wishlist_action: 'add',\n      };\n\n\n      if (_t.find('.svg-icon').hasClass('fa-star')) {\n        data.wishlist_action = 'remove';\n      }\n\n\n      if (window.dzsap_lasto.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: window.dzsap_lasto.settings_php_handler,\n          data: data,\n          success: function (response) {\n            //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n\n            if (_t.find('.svg-icon').hasClass('fa-star-o')) {\n              _t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star');\n            } else {\n\n              _t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star-o');\n            }\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n          }\n        });\n      }\n\n      return false;\n\n\n    }\n\n  })\n\n\n  $(document).on('click.dzsiconhide', '.sticktobottom-close-con,.sticktobottom-close-con .svg-icon', function () {\n    var _t = $(this);\n\n    $('.dzsap-sticktobottom .audioplayer').get(0).api_pause_media();\n\n\n    console.log('_t sticktobottom-close-con -7', _t);\n\n    var _con = null;\n\n    if (_t.parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent();\n    }\n    if (_t.parent().parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent().parent();\n    }\n    if (_t.parent().parent().parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent().parent().parent();\n    }\n\n    console.log('_con - ', _con, _con.hasClass('audioplayer-loaded'));\n\n    if (_con.hasClass('audioplayer-loaded')) {\n\n      _con.removeClass('audioplayer-loaded');\n      _con.addClass('audioplayer-was-loaded');\n\n\n    } else {\n\n      _con.addClass('audioplayer-loaded');\n      _con.addClass('audioplayer-was-loaded');\n    }\n\n    return false;\n  })\n\n  $(document).on('click.dzsiconshow', '.dzsap-sticktobottom .icon-show', function () {\n    var _t = $(this);\n\n\n    // _t.parent().parent().addClass('audioplayer-loaded');\n    // _t.parent().parent().removeClass('audioplayer-was-loaded');\n    //\n    // _t.parent().parent().parent().addClass('audioplayer-loaded');\n    // _t.parent().parent().parent().removeClass('audioplayer-was-loaded');\n\n    return false;\n  })\n\n\n  if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver').length > 0) {\n    setInterval(function () {\n\n      //console.log($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver > .audioplayer').eq(0).hasClass('dzsap-loaded'));\n      if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver  .audioplayer').eq(0).hasClass('dzsap-loaded')) {\n        $('.dzsap-sticktobottom-placeholder').eq(0).addClass('active');\n\n        if ($('.dzsap-sticktobottom').hasClass('audioplayer-was-loaded') == false) {\n\n          $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver').addClass('audioplayer-loaded')\n        }\n      }\n    }, 1000);\n  }\n\n\n  if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave').length > 0) {\n    setInterval(function () {\n\n      // console.log($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer'), $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer').eq(0).hasClass('dzsap-loaded'));\n      if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer').eq(0).hasClass('dzsap-loaded')) {\n        $('.dzsap-sticktobottom-placeholder').eq(0).addClass('active');\n\n        if ($('.dzsap-sticktobottom').hasClass('audioplayer-was-loaded') == false) {\n\n          $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave').addClass('audioplayer-loaded')\n        }\n      }\n\n\n    }, 1000);\n  }\n\n\n  $(document).on('click.dzsap_multisharer', '.dzsap-multisharer-but', click_open_embed_ultibox);\n\n  function click_open_embed_ultibox(e, pargs) {\n\n    var margs = {\n      'call_from': 'default'\n\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    console.log('click_open_embed_ultibox() this - ', this);\n\n    open_dzsap_lightbox({\n      'call_from': 'click_open_embed_ultibox'\n      , 'lightbox_open': 'share'\n      , 'overwrite_this': this\n    });\n\n\n    return false;\n  }\n\n\n  function open_dzsap_lightbox(pargs) {\n\n    var margs = {\n      'call_from': 'default'\n      , 'lightbox_open': 'share'\n      , 'overwrite_this': null\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    // console.log('ceva');\n\n    var _c_mc = window.dzsap_box_main_con;\n    var _t = $(this);\n\n\n    if (margs.overwrite_this) {\n      _t = $(margs.overwrite_this);\n    }\n    // console.log('open_dzsap_lightbox() _c -> ',_c_mc, _c_mc.find('.social-networks-con'), 'margs - ',margs);\n\n\n    if (_t.data('cthis')) {\n      var cthis = _t.data('cthis');\n\n      console.log('found cthis in data');\n    }\n\n    if (cthis) {\n\n      window.dzsap_currplayer_from_share = cthis;\n    } else {\n\n      console.log('%c could not find this .. maybe we can find it in post_id', 'background-color: #da0000;', $('.audioplayer[data-playerid=\"' + _t.attr('data-post_id') + '\"]'));\n\n\n      if (_t.attr('data-post_id')) {\n        window.dzsap_currplayer_from_share = $('.audioplayer[data-playerid=\"' + _t.attr('data-post_id') + '\"]').eq(0);\n        _t.data('cthis', window.dzsap_currplayer_from_share);\n      } else {\n\n        if (_t.parent().parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n          // console.log(\"YES\");\n          window.dzsap_currplayer_from_share = _t.parent().parent().parent().parent().parent().parent();\n        }\n      }\n    }\n\n\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n\n\n    // console.log('_t -> ', _t, _t.data('cthis'));\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n    // console.log('_c_mc -5', _c_mc);\n\n\n    var aux = '';\n\n    if (window.dzsap_social_feed_for_social_networks) {\n      aux = window.dzsap_social_feed_for_social_networks;\n    }\n\n    // -- aux is feed from social_feed\n\n\n    if (window.dzsap_box_main_con) {\n\n      console.log('window.dzsap_box_main_con - ', window.dzsap_box_main_con);\n\n      window.dzsap_box_main_con.find('.social-networks-con').html(aux);\n\n\n      aux = '';\n      if (window.dzsap_social_feed_for_share_link) {\n        aux = window.dzsap_social_feed_for_share_link;\n      }\n\n\n      if (aux) {\n\n\n        // console.log('_t - ',_t);\n\n\n        var newloc = window.location.href;\n\n\n        if (_t.attr('data-post-url')) {\n          newloc = _t.attr('data-post-url');\n        }\n\n\n        aux = aux.replace('{{replacewithcurrurl}}', newloc);\n        aux = aux.replace('{{replacewithdataurl}}', newloc);\n        window.dzsap_box_main_con.find('.share-link-con').html(aux);\n      }\n\n      var aux_social = '';\n      if (window.dzsap_social_feed_for_embed_link) {\n        aux_social = window.dzsap_social_feed_for_embed_link;\n      }\n\n\n      // console.log(' o - ',o, cthis,'dzsap_currplayer_from_share - ',dzsap_currplayer_from_share);\n      if (window.dzsap_currplayer_from_share && dzsap_currplayer_from_share.data('embed_code')) {\n\n        console.log('o.embed_code - ', dzsap_currplayer_from_share.data('embed_code'));\n\n        if (aux_social) {\n\n          var replace_str = dzsap_currplayer_from_share.data('embed_code');\n\n          if (replace_str.indexOf('&lt;') == -1) {\n            replace_str = htmlEntities(replace_str);\n          }\n          aux_social = aux_social.replace('{{replacewithembedcode}}', (replace_str));\n          _c_mc.find('.embed-link-con').html(aux_social);\n        }\n\n      }\n\n      // console.log('_c_mc - ',_c_mc);\n      // console.log('o.embed_code - ',o.embed_code);\n      // console.log('aux_social - ',aux_social);\n\n      $(document).on('click.dzsap', '.field-for-view', function () {\n\n        console.log(\"select all test \", this);\n        selectText(this);\n\n        // $(this).select();\n      });\n      _c_mc.addClass('loading-box-main-' + margs.lightbox_open);\n      setTimeout(function () {\n        _c_mc.addClass('loading-item');\n      }, 100);\n\n      setTimeout(function () {\n        _c_mc.addClass('loaded-item');\n      }, 200);\n\n\n    } else {\n      console.log('warning missing box-main');\n    }\n  }\n\n\n  $(document).on('keydown.dzsapkeyup keypress.dzsapkeyup', function (e) {\n    // console.log('e - ',e);\n    // console.log('dzsap_currplayer_focused - ',dzsap_currplayer_focused);\n\n    handle_keypresses(e);\n  })\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n\n    // console.info(e.currentTarget.value);\n    var _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        var _target = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          _target = $(_t.attr('data-target'));\n        }\n        if (_target.get(0) && _target.get(0).api_filter) {\n\n          _target.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n\n\n  $(document).on('click', '.dzsap-like-but', function (e) {\n\n    var _t = $(this);\n\n\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n    window.dzsap_submit_like(playerid, e);\n\n    _t.removeClass('dzsap-like-but').addClass('dzsap-retract-like-but');\n\n    return false;\n  })\n\n  $(document).on('click', '.dzsap-retract-like-but', function (e) {\n\n    var _t = $(this);\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n\n\n    window.dzsap_retract_like(playerid, e);\n    _t.addClass('dzsap-like-but').removeClass('dzsap-retract-like-but');\n    return false;\n  })\n\n\n}\n\n\nexports.selectText = function (arg) {\n  if (document.selection) {\n    var range = document.body.createTextRange();\n    range.moveToElementText(arg);\n    range.select();\n  } else if (window.getSelection) {\n    var range = document.createRange();\n    range.selectNode(arg);\n    window.getSelection().removeAllRanges();\n    window.getSelection().addRange(range);\n  }\n}\n\n\nexports.ajax_submit_views = function (argp, the_player_id, currIp, data_source, o, $, increment_views, ajax_view_submitted) {\n\n  // console.log('ajax_submit_views()',argp);\n\n  var data = {\n    action: 'dzsap_submit_views',\n    postdata: 1,\n    playerid: the_player_id,\n    currip: currIp\n  };\n\n\n  if (cthis.attr('data-playerid-for-views')) {\n    data.playerid = cthis.attr('data-playerid-for-views');\n  }\n\n\n  if (data.playerid == '') {\n    data.playerid = dzs_clean_string(data_source);\n  }\n\n  //                console.log(ajax_view_submitted);\n\n\n  // -- submit view\n  if (o.settings_php_handler) {\n    $.ajax({\n      type: \"POST\",\n      url: o.settings_php_handler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // -- increase number of hits\n        var auxnr = cthis.find('.counter-hits .the-number').html();\n        auxnr = parseInt(auxnr, 10);\n        if (increment_views != 2) {\n          auxnr++;\n        }\n        if (response) {\n          if (decode_json(response)) {\n            auxnr = decode_json(response)['number'];\n          }\n        }\n\n        cthis.find('.counter-hits .the-number').html(auxnr);\n\n        ajax_view_submitted = 'on';\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var auxlikes = cthis.find('.counter-hits .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        cthis.find('.counter-hits .the-number').html(auxlikes);\n\n        ajax_view_submitted = 'on';\n      }\n    });\n    ajax_view_submitted = 'on';\n  }\n\n}\n\n\nexports.player_determineActualPlayer = player_determineActualPlayer;\nfunction player_determineActualPlayer(cthis, selfClass){\n\n  var $ = jQuery;\n  var _c = $(cthis.attr('data-fakeplayer'));\n\n  if (_c.length == 0) {\n    _c = $(String(cthis.attr('data-fakeplayer')).replace('#', '.'));\n    if (_c.length) {\n      selfClass._actualPlayer = $(String(cthis.attr('data-fakeplayer')).replace('#', '.'));\n      cthis.attr('data-fakeplayer', String(cthis.attr('data-fakeplayer')).replace('#', '.'));\n\n\n    }\n  }\n\n  if (_c.length == 0) {\n    cthis.attr('data-fakeplayer', '');\n  } else {\n    cthis.addClass('player-is-feeding is-source-player-for-actual-player');\n    if (cthis.attr('data-type')) {\n\n      selfClass._actualPlayer = $(cthis.attr('data-fakeplayer')).eq(0);\n      selfClass.actualDataTypeOfMedia = cthis.attr('data-type');\n      cthis.attr('data-original-type', selfClass.actualDataTypeOfMedia);\n    }\n  }\n}\nexports.configureAudioPlayerOptionsInitial = function (cthis, o, selfClass) {\n\n\n  if (isNaN(parseInt(o.design_thumbh, 10)) == false) {\n    o.design_thumbh = parseInt(o.design_thumbh, 10);\n  }\n\n  if(o.skinwave_wave_mode_canvas_normalize==''){\n    o.skinwave_wave_mode_canvas_normalize = 'on';\n  }\n  if(o.skinwave_wave_mode_canvas_waves_number=='' || isNaN(Number(o.skinwave_wave_mode_canvas_waves_number))){\n    o.skinwave_wave_mode_canvas_waves_number = 3;\n  }\n\n\n  if (o.autoplay == 'on' && o.cue == 'on') {\n    o.preload_method = 'auto';\n  }\n\n  cthis.addClass(o.extra_classes_player)\n\n  if (o.design_skin == '') {\n    o.design_skin = 'skin-default';\n  }\n\n  if(this.is_ios()){\n    // todo: ios not playing nice.. with audio context\n    if(selfClass.initOptions.skinwave_enableSpectrum=='on'){\n      selfClass.initOptions.skinwave_enableSpectrum = 'off';\n    }\n\n  }\n\n  var regexr = / skin-/g;\n\n\n  if (regexr.test(cthis.attr('class'))) {\n\n  } else {\n\n    cthis.addClass(o.design_skin);\n  }\n\n\n  if (cthis.hasClass('skin-default')) {\n    o.design_skin = 'skin-default';\n  }\n  if (cthis.hasClass('skin-wave')) {\n    o.design_skin = 'skin-wave';\n  }\n  if (cthis.hasClass('skin-justthumbandbutton')) {\n    o.design_skin = 'skin-justthumbandbutton';\n  }\n  if (cthis.hasClass('skin-pro')) {\n    o.design_skin = 'skin-pro';\n  }\n  if (cthis.hasClass('skin-aria')) {\n    o.design_skin = 'skin-aria';\n  }\n  if (cthis.hasClass('skin-silver')) {\n    o.design_skin = 'skin-silver';\n  }\n  if (cthis.hasClass('skin-redlights')) {\n    o.design_skin = 'skin-redlights';\n  }\n  if (cthis.hasClass('skin-steel')) {\n    o.design_skin = 'skin-steel';\n  }\n  if (cthis.hasClass('skin-customcontrols')) {\n    o.design_skin = 'skin-customcontrols';\n  }\n\n\n  if (o.design_skin == 'skin-wave') {\n    if (o.scrubbar_type == 'auto') {\n      o.scrubbar_type = 'wave';\n    }\n  }\n  if (o.scrubbar_type == 'auto') {\n    o.scrubbar_type = 'bar';\n  }\n\n\n  if (cthis.attr('data-viewsubmitted') == 'on') {\n    selfClass.ajax_view_submitted = 'on';\n\n    // console.log('selfClass.ajax_view_submitted from data-viewsubmitted', cthis);\n  }\n  if (cthis.attr('data-userstarrating')) {\n    selfClass.starrating_alreadyrated = Number(cthis.attr('data-userstarrating'));\n  }\n\n\n  if (cthis.hasClass('skin-minimal')) {\n    o.design_skin = 'skin-minimal';\n    if (o.disable_volume == 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n    o.disable_timer = 'on';\n  }\n  if (cthis.hasClass('skin-minion')) {\n    o.design_skin = 'skin-minion';\n    if (o.disable_volume == 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n\n    o.disable_timer = 'on';\n  }\n\n\n  if (o.design_color_bg) {\n    o.design_wave_color_bg = o.design_color_bg;\n  }\n\n\n  if (o.design_color_highlight) {\n    o.design_wave_color_progress = o.design_color_highlight;\n  }\n\n\n  if (o.design_skin == 'skin-justthumbandbutton') {\n    if (o.design_thumbh == 'default') {\n      o.design_thumbh = '';\n      //                        res_thumbh = true;\n    }\n    o.disable_timer = 'on';\n    o.disable_volume = 'on';\n\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n  }\n  if (o.design_skin == 'skin-redlights') {\n    o.disable_timer = 'on';\n    o.disable_volume = 'off';\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n  }\n  if (o.design_skin == 'skin-steel') {\n    if (o.disable_timer == 'default') {\n\n      o.disable_timer = 'off';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n  if (o.design_skin == 'skin-customcontrols') {\n    if (o.disable_timer == 'default') {\n\n      o.disable_timer = 'on';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n    // o.skinwave_wave_mode_canvas_waves_number=1;\n    // o.skinwave_wave_mode_canvas_waves_padding=0;\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n    // o.skinwave_timer_static='on';\n  }\n\n\n  if (o.embed_code == '') {\n    if (cthis.find('div.feed-embed-code').length > 0) {\n      o.embed_code = cthis.find('div.feed-embed-code').eq(0).html();\n    }\n  }\n\n  if (o.design_animateplaypause == 'default') {\n    o.design_animateplaypause = 'off';\n  }\n\n  if (o.design_animateplaypause == 'on') {\n    cthis.addClass('design-animateplaypause');\n  }\n\n  if (window.dzsap_settings) {\n    if (window.dzsap_settings.php_handler) {\n      if (!o.settings_php_handler) {\n\n        o.settings_php_handler = window.dzsap_settings.php_handler;\n      }\n    }\n  }\n  // console.log('o - ',o, selfClass);\n  if (o.settings_php_handler) {\n    selfClass.urlToAjaxHandler = o.settings_php_handler;\n  }\n\n\n}\n\n\n/**\n * from 1:01 to 61\n * @param arg\n * @returns {number}\n */\nexports.sanitize_from_point_time = function (arg) {\n  //formats the time\n\n\n  var fint = '';\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n    // console.log('result arr -  ',arr);\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\nexports.player_initSpectrumOnUserAction = function (selfClass) {\n\n  var javascriptNode = null;\n\n\n  console.log('setting up listeners for player_initSpectrumOnUserAction');\n  selfClass.cthis.get(0).addEventListener('mousedown', handleMouseDown, {once: true});\n  selfClass.cthis.get(0).addEventListener('touchdown', handleMouseDown, {once: true});\n\n  function handleMouseDown(e) {\n    console.log('setting up audio context --', e);\n\n    if (window.dzsap_audio_ctx == null) {\n      if (typeof AudioContext !== 'undefined') {\n        selfClass.spectrum_audioContext = new AudioContext();\n        window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        selfClass.spectrum_audioContext = new webkitAudioContext();\n        window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n      } else {\n        selfClass.spectrum_audioContext = null;\n      }\n    } else {\n      selfClass.spectrum_audioContext = window.dzsap_audio_ctx;\n    }\n\n\n    if (selfClass.spectrum_audioContext.createOscillator) {\n\n      // oscillatorNode = selfClass.spectrum_audioContext.createOscillator();\n    }\n\n    if (selfClass.spectrum_audioContext.destination) {\n\n      // selfClass.spectrum_audioContext_finish = selfClass.spectrum_audioContext.destination;\n    }\n\n\n    // console.log('selfClass.spectrum_audioContext - ', selfClass.spectrum_audioContext);\n\n    if (selfClass.spectrum_audioContext) {\n\n\n      // -- normal\n      // setup a analyzer\n      if(selfClass.spectrum_analyser===null){\n\n        selfClass.spectrum_analyser = selfClass.spectrum_audioContext.createAnalyser();\n        selfClass.spectrum_analyser.smoothingTimeConstant = 0.3;\n        selfClass.spectrum_analyser.fftSize = 512;\n\n        // console.log('selfClass.audioType - ', selfClass.audioType);\n        if (selfClass.audioType == 'selfHosted') {\n          // console.log(_cmedia);\n          // return;\n          selfClass._cmedia.crossOrigin = \"anonymous\";\n          selfClass.spectrum_mediaElementSource = selfClass.spectrum_audioContext.createMediaElementSource(selfClass._cmedia);\n\n          selfClass.spectrum_mediaElementSource.connect(selfClass.spectrum_analyser);\n          if (selfClass.spectrum_audioContext.createGain) {\n            selfClass.spectrum_gainNode = selfClass.spectrum_audioContext.createGain();\n          }\n          selfClass.spectrum_analyser.connect(selfClass.spectrum_audioContext.destination);\n\n          selfClass.spectrum_gainNode.gain.value = 1;\n\n          var frameCount = selfClass.spectrum_audioContext.sampleRate * 2.0;\n          selfClass.spectrum_audioContext_buffer = selfClass.spectrum_audioContext.createBuffer(2, frameCount, selfClass.spectrum_audioContext.sampleRate);\n        }\n      }\n    }\n\n  }\n\n\n}\n\nexports.player_stopOtherPlayers = function(dzsap_list, selfClass){\n\n  var i =0;\n  for (i = 0; i < dzsap_list.length; i++) {\n    // -- pause other players\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n      //console.error(\"LETS PAUSE\");\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') == 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\nexports.player_determineProperties = player_determineProperties;\nfunction player_determineProperties(){\n\n  var source = null;\n  var type = null;\n  var pcm = null;\n  var thumb = null;\n\n\n\n\n}\nexports.player_detect_skinwave_mode = player_detect_skinwave_mode;\nfunction player_detect_skinwave_mode () {\n\n  var selfClass = this;\n\n\n  selfClass.skinwave_mode = selfClass.initOptions.skinwave_mode;\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-small')) {\n    selfClass.skinwave_mode = 'small'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    selfClass.skinwave_mode = 'alternate'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-bigwavo')) {\n    selfClass.skinwave_mode = 'bigwavo'\n  }\n}\nexports.player_constructArtistAndSongCon = function (margs) {\n\n  var selfClass = this;\n\n  if (selfClass.cthis.find('.meta-artist').length == 0) {\n    if (selfClass.cthis.find('.feed-artist').length || selfClass.cthis.find('.feed-songname').length) {\n      var structHtml = '<span class=\"meta-artist player-artistAndSong\">';\n      if (selfClass.cthis.find('.feed-artist').length) {\n        structHtml += '<span class=\"the-artist\">' + selfClass.cthis.find('.feed-artist').eq(0).html() + '</span>';\n      }\n      if (selfClass.cthis.find('.feed-songname').length) {\n        structHtml += '<span class=\"the-name player-meta--songname\">' + selfClass.cthis.find('.feed-songname').eq(0).html() + '</span>';\n      }\n      structHtml += '</span>';\n      selfClass.cthis.append(structHtml);\n    }\n  }\n\n  if (selfClass.cthis.attr(\"data-type\") == 'fake') {\n    if (selfClass.cthis.find('.meta-artist').length == 0) {\n      selfClass.cthis.append('<span class=\"meta-artist\"><span class=\"the-artist\"></span><span class=\"the-name\"></span></span>')\n    }\n  }\n\n  if (!selfClass._metaArtistCon || margs.call_from == 'reconstruct') {\n    // -- reconstruct\n    if (selfClass.cthis.children('.meta-artist').length > 0) {\n      //console.log(cthis.hasClass('alternate-layout'));\n      if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n        //console.log(_conControls.children().last());\n\n        if (selfClass._conControls.children().last().hasClass('clear')) {\n          selfClass._conControls.children().last().remove();\n        }\n        selfClass._conControls.append(selfClass.cthis.children('.meta-artist'));\n      } else {\n\n        // -- normal\n        if (selfClass._audioplayerInner) {\n\n          selfClass._audioplayerInner.append(selfClass.cthis.children('.meta-artist'));\n        }\n      }\n\n    }\n\n\n    // -- we need meta-artist at this point\n    selfClass._audioplayerInner.find('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n\n    //console.log('ceva');\n\n    selfClass._metaArtistCon = selfClass._audioplayerInner.find('.meta-artist-con').eq(0);\n\n\n    var o = selfClass.initOptions;\n\n\n    if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n      selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right').eq(0);\n    }\n    if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n      selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n    }\n\n\n    if (o.design_skin == 'skin-pro') {\n      selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n    }\n\n    if (o.design_skin == 'skin-wave') {\n\n\n      if (selfClass.cthis.find('.dzsap-repeat-button').length) {\n        selfClass.cthis.find('.dzsap-repeat-button').after(selfClass._metaArtistCon);\n      } else {\n\n\n        if (selfClass.cthis.find('.dzsap-loop-button').length && selfClass.cthis.find('.dzsap-loop-button').eq(0).parent().hasClass('feed-dzsap-for-extra-html-right') == false) {\n          selfClass.cthis.find('.dzsap-loop-button').after(selfClass._metaArtistCon);\n        } else {\n\n          selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n        }\n      }\n\n      if (selfClass.skinwave_mode == 'alternate') {\n        selfClass._apControlsRight.before(selfClass._metaArtistCon);\n      }\n\n\n    }\n    if (o.design_skin == 'skin-aria') {\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n    }\n    if (o.design_skin == 'skin-redlights' || o.design_skin == 'skin-steel') {\n\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n\n    }\n    if (o.design_skin == 'skin-silver') {\n      selfClass._apControlsRight.append(selfClass._metaArtistCon);\n    }\n    if (o.design_skin == 'skin-default') {\n      selfClass._apControlsRight.before(selfClass._metaArtistCon);\n    }\n\n\n  }\n\n\n}\n\n\nexports.hexToRgb = hexToRgb;\nexports.handle_keypresses = handle_keypresses;\nexports.MD5 = MD5;\nexports.select_all = select_all;\nexports.dzsap_generate_keyboard_tooltip = dzsap_generate_keyboard_tooltip;\nexports.htmlEncode = htmlEncode;\nexports.dzsap_is_mobile = dzsap_is_mobile;\nexports.is_ios = is_ios;\nexports.is_android = is_android;\nexports.is_android_good = is_android_good;\nexports.get_query_arg = get_query_arg;\nexports.add_query_arg = add_query_arg;\nexports.can_history_api = can_history_api;\nexports.dzs_clean_string = dzs_clean_string;\nexports.formatTime = formatTime;\nexports.can_canvas = can_canvas;\n\n\nexports.dzsap_generate_keyboard_controls = dzsap_generate_keyboard_controls;\n\n\nfunction drawSpectrum(argarray) {\n\n  // todo: no functino ?\n  //console.log(array);\n  //console.log()\n  //console.log($('.scrub-bg-canvas').eq(0).get(0).width, canw);\n\n  //console.log(_scrubBgCanvas.get(0).width, _scrubBgCanvas.width())\n\n\n  // console.log(_scrubbarbg_canvas);\n  if (selfClass._scrubbarbg_canvas) {\n\n    draw_canvas(selfClass._scrubbarbg_canvas.get(0), argarray, o.design_wave_color_bg, {call_from: 'draw_spectrum_pcm_bg'});\n    // draw_canvas(_scrubbarprog_canvas.get(0), argarray, o.design_wave_color_progress);\n  }\n\n  return false;\n\n\n};\n\nexports.convertPluginOptionsToFinalOptions = function (elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options') {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var sw_setFromJson = false;\n  var _elThis = jQuery(elThis);\n\n  if (argOptions && typeof argOptions == 'object') {\n    tempOptions = argOptions;\n  } else {\n\n    if (_elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse(_elThis.attr(searchedAttr));\n        sw_setFromJson = true;\n      } catch (err) {\n\n        console.log('err - ', err);\n      }\n    }\n    if (!sw_setFromJson) {\n\n      if (typeof argOptions == 'undefined' || !argOptions) {\n        if (typeof _elThis.attr(searchedAttr) != 'undefined' && _elThis.attr('data-options') != '') {\n          var aux = _elThis.attr(searchedAttr);\n          aux = 'var aux_opts = ' + aux;\n          eval(aux);\n          tempOptions = Object.assign({}, aux_opts);\n        }\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexports.generateFakeArrayForPcm = function () {\n\n  //console.log('generateFakeArray()');\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (var it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n\n\n\nexports.draw_canvas = draw_canvas;\n\n\nexports.scrubbar_modeWave_clearObsoleteCanvas = scrubbar_modeWave_clearObsoleteCanvas;\nfunction scrubbar_modeWave_clearObsoleteCanvas(selfClass){\n  if(selfClass._scrubbar){\n    selfClass._scrubbar.find('.scrubbar-type-wave--canvas.transitioning-out').remove();\n  }\n}\nexports.scrubbar_modeWave_setupCanvas = scrubbar_modeWave_setupCanvas;\nfunction scrubbar_modeWave_setupCanvas(pargs, selfClass){\n\n  var margs = {\n    prepare_for_transition_in: false\n  }\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  var struct_scrubBg_str = '';\n  var struct_scrubProg_str = '';\n  var aux_selector = '';\n  var o = selfClass.initOptions;\n\n\n  struct_scrubBg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-bg-img';\n  struct_scrubBg_str += '\" ></canvas>';\n\n  struct_scrubProg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-prog-img';\n  struct_scrubProg_str += '\" ></canvas>';\n\n  selfClass._scrubbar.children('.scrub-bg').eq(0).append(struct_scrubBg_str);\n  selfClass._scrubbar.children('.scrub-prog').eq(0).append(struct_scrubProg_str);\n\n\n  selfClass._scrubbarbg_canvas = selfClass._scrubbar.find('.scrub-bg-img').last();\n  selfClass._scrubbarprog_canvas = selfClass._scrubbar.find('.scrub-prog-img').last();\n\n  if (o.skinwave_enableSpectrum == 'on') {\n    selfClass._scrubbarprog_canvas.hide();\n  }\n\n\n  if (margs.prepare_for_transition_in) {\n    selfClass._scrubbarbg_canvas.addClass('preparing-transitioning-in');\n    selfClass._scrubbarprog_canvas.addClass('preparing-transitioning-in');\n    setTimeout(()=>{\n      selfClass._scrubbarbg_canvas.addClass('transitioning-in');\n      selfClass._scrubbarprog_canvas.addClass('transitioning-in');\n    },20);\n  }\n}\n\n/**\n * draw canvas here\n * @param _arg\n * @param pcm_arr\n * @param hexcolor\n * @param pargs\n * @returns {boolean}\n */\nfunction draw_canvas(_arg, pcm_arr, hexcolor, pargs) {\n\n  var margs = {\n    'call_from': 'default',\n    'is_sample':false,\n    'selfClass':null,\n    'sample_time_start':0,\n    'sample_time_end':0,\n    'sample_time_total':0,\n  };\n\n  var $ = jQuery;\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n\n  var _canvas = $(_arg);\n  var __canvas = _arg;\n  var static_hexcolor = '';\n  var sw_draw = false;\n  var {is_sample, sample_time_start, sample_time_total, sample_time_end, selfClass, skinwave_wave_mode_canvas_waves_number, skinwave_wave_mode_canvas_waves_padding} = margs;\n\n  if (margs.call_from == 'canvas_normal_pcm_bg') {\n    static_hexcolor = hexcolor;\n\n    if (hexcolor.indexOf(',') > -1) {\n      static_hexcolor = hexcolor.split(',')[0];\n\n    }\n  }\n\n  if(selfClass){\n    var o = selfClass.initOptions;\n  }\n  // console.log('o - ', o);\n\n\n  // console.log('[dzsap] draw_canvas() - ', margs, 'hexcolor - ', hexcolor, _canvas);\n  if (_canvas && _canvas.get(0)) {\n\n  } else {\n    return false;\n  }\n\n  var _canvasContext = _canvas.get(0).getContext(\"2d\");\n\n  var ar_str = pcm_arr;\n\n\n  var ar = [];\n  // console.log('selfClass - ', selfClass);\n  if (selfClass && selfClass._scrubbar) {\n    if (selfClass._scrubbarprog_canvas) {\n      selfClass._scrubbarprog_canvas.width(selfClass._scrubbar.width());\n      _arg.width = selfClass._scrubbar.width();\n      _arg.height = selfClass._scrubbar.height();\n    }\n  }\n  // ctx.translate(0.5, 0.5);\n  // ctx.lineWidth = .5;\n\n  _canvasContext.imageSmoothingEnabled = false;\n  _canvasContext.imageSmoothing = false;\n  _canvasContext.imageSmoothingQuality = \"high\";\n  _canvasContext.webkitImageSmoothing = false;\n\n  if (pcm_arr) {\n\n  } else {\n    setTimeout(function () {\n      // draw_canvas(_arg,pcm_arr,hexcolor);\n    }, 1000);\n    return false;\n  }\n\n  if (typeof (ar_str) == 'object') {\n    ar = ar_str;\n  } else {\n    try {\n\n      ar = JSON.parse(ar_str);\n    } catch (err) {\n      // console.error('parse error - ',ar_str, ar_str!='');\n    }\n  }\n\n\n  var i = 0,\n    max = 0;\n\n  // console.log(ar);\n\n  // -- normalizing\n  for (i = 0; i < ar.length; i++) {\n    if ((ar[i]) > max) {\n      max = (ar[i]);\n    }\n  }\n\n  var ar_new = [];\n  for (i = 0; i < ar.length; i++) {\n    ar_new[i] = parseFloat(Math.abs(ar[i]) / Number(max));\n  }\n\n  ar = ar_new;\n\n\n  var cww;\n  var chh;\n  var gradient = null;\n\n\n  if(selfClass){\n\n    __canvas.width = selfClass._scrubbar.width();\n  }\n\n  cww = __canvas.width;\n  chh = __canvas.height;\n\n\n  _canvasContext.clearRect(0, 0, cww, chh);\n\n\n  var bar_len = skinwave_wave_mode_canvas_waves_number;\n  var bar_space = skinwave_wave_mode_canvas_waves_padding;\n\n  // console.log(bar_len);\n  if (bar_len == 1) {\n    bar_len = cww / bar_len;\n  }\n  if (bar_len == 2) {\n    bar_len = cww / 2;\n  }\n  if (bar_len == 3) {\n    bar_len = (cww) / 3;\n  }\n\n  // console.log('bar_len - ',bar_len);\n  // console.log('pcm_arr - ',pcm_arr);\n\n\n  var reflection_size = parseFloat(o.skinwave_wave_mode_canvas_reflection_size);\n\n  if (cww / bar_len < 1) {\n    bar_len = Math.ceil(bar_len / 3);\n\n  }\n\n\n  var bar_w = Math.ceil(cww / bar_len);\n  var normal_size_ratio = 1 - reflection_size;\n\n  // console.log(\"bar_w - \",bar_w);\n\n  if (bar_w == 0) {\n    bar_w = 1;\n    bar_space = 0;\n  }\n  if (bar_w == 1) {\n    bar_space = bar_space / 2;\n  }\n  // console.log('bar_w - ', bar_w, bar_space);\n\n\n  // console.log('chh - ', chh, ' normal_size_ratio - ', normal_size_ratio, 'ar - ', ar);\n  var lastval = 0;\n  var searched_index = null;\n\n\n  // -- left right gradient\n  var temp_hex = hexcolor;\n  temp_hex = temp_hex.replace('#', '');\n  var hexcolors = []; // -- hex colors array\n  if (temp_hex.indexOf(',') > -1) {\n    hexcolors = temp_hex.split(',');\n  }\n\n\n  var progress_hexcolor = '';\n  var progress_hexcolors = '';\n\n\n  if (margs.call_from == 'spectrum') {\n\n\n    progress_hexcolor = o.design_wave_color_progress;\n    progress_hexcolor = progress_hexcolor.replace('#', '');\n    progress_hexcolors = []; // -- hex colors array\n    if (progress_hexcolor.indexOf(',') > -1) {\n      progress_hexcolors = progress_hexcolor.split(',');\n\n    }\n  }\n\n\n  var is_progress = false; // -- color the bar in progress colors\n\n  // -- left right gradient END\n\n\n  /**\n   * draw with different color\n   * @param i\n   * @returns {boolean}\n   */\n  function sampleDetermineIfCurrentDrawIsBeforeOrAfterSample(i){\n\n    if ((i / bar_len < sample_time_start / sample_time_total) || i / bar_len > sample_time_end / sample_time_total) {\n\n      _canvasContext.fillStyle = hexToRgb(static_hexcolor, 0.5);\n\n      if (margs.call_from.indexOf('pcm_prog') > -1) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  // console.log('bar_len - ', bar_len);\n  for (i = 0; i < bar_len; i++) {\n    sw_draw = true;\n    _canvasContext.save();\n\n    // console.log('ar[searched_index] - ', ar[searched_index]);\n    searched_index = Math.ceil(i * (ar.length / bar_len));\n\n    // -- we'll try to prevent\n    if (i < bar_len / 5) {\n      if (ar[searched_index] < 0.1) {\n        ar[searched_index] = 0.1;\n      }\n    }\n    if (ar.length > bar_len * 2.5 && i > 0 && i < ar.length - 1) {\n      ar[searched_index] = Math.abs(ar[searched_index] + ar[searched_index - 1] + ar[searched_index + 1]) / 3\n    }\n\n\n    // var barh = Math.abs(ar[searched_index] * chh);\n    var barh_normal = Math.abs(ar[searched_index] * chh * normal_size_ratio);\n\n    // -- let's try to normalize\n    if (o.skinwave_wave_mode_canvas_normalize == 'on') {\n      barh_normal = barh_normal / 1.5 + lastval / 2.5;\n    }\n    lastval = barh_normal;\n    // console.log('ar searched_index', ar[searched_index], 'barh - ',barh);\n\n    //            var barh =\n\n\n    _canvasContext.lineWidth = 0;\n\n    // console.log('bar w - ',bar_w);\n    // bar_w = parseInt(bar)\n\n    barh_normal = Math.floor(barh_normal);\n\n    // var y = chh * normal_size_ratio - barh_normal;\n    var y = Math.ceil(chh * normal_size_ratio - barh_normal);\n    if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n      barh_normal++;\n    }\n\n    _canvasContext.beginPath();\n    _canvasContext.rect(i * bar_w, y, bar_w - bar_space, barh_normal);\n\n    // console.log('[dzsap] draw rect props - ', i * bar_w, chh * normal_size_ratio, bar_w - bar_space, barh_ref);\n    // console.log('barh_normal - ', barh_normal, ' y - ', y);\n\n\n    if (margs.call_from == 'spectrum') {\n      if (i / bar_len < selfClass.timeCurrent / selfClass.timeTotal) {\n        is_progress = true;\n      } else {\n        is_progress = false;\n      }\n    }\n\n\n    if (is_progress) {\n      // -- only for spectrum\n      _canvasContext.fillStyle = '#' + progress_hexcolor;\n\n      if (progress_hexcolors.length) {\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n        gradient.addColorStop(0, '#' + progress_hexcolors[0]);\n        gradient.addColorStop(1, '#' + progress_hexcolors[1]);\n        _canvasContext.fillStyle = gradient;\n      }\n\n\n      if (is_sample) {\n        if ((i / bar_len < sample_time_start / sample_time_total) || i / bar_len > sample_time_end / sample_time_total) {\n          _canvasContext.fillStyle = dzsapHelpers.hexToRgb(static_hexcolor, 0);\n        }\n      }\n    } else {\n\n      // -- not progress\n\n      _canvasContext.fillStyle = hexcolor;\n\n      // -- if we have gradient\n      if (hexcolors.length) {\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n        hexcolors[0] = String(hexcolors[0]).replace('#', '');\n        hexcolors[1] = String(hexcolors[1]).replace('#', '');\n        gradient.addColorStop(0, '#' + hexcolors[0]);\n        gradient.addColorStop(1, '#' + hexcolors[1]);\n        _canvasContext.fillStyle = gradient;\n      }\n\n      // ctx.fillRect(20,20,150,100);\n      // console.log('ctx.fillStyle - ',ctx.fillStyle);\n\n      if (is_sample) {\n        if(sampleDetermineIfCurrentDrawIsBeforeOrAfterSample(i)===false){\n          sw_draw = false;\n        }\n      }\n    }\n\n\n    if (sw_draw) {\n\n      // console.log('ctx.fillStyle - ',ctx.fillStyle);\n      _canvasContext.fill();\n      _canvasContext.closePath();\n    }\n\n\n    _canvasContext.restore();\n\n  }\n\n\n  // -- reflection\n  if (reflection_size > 0) {\n    for (var i = 0; i < bar_len; i++) {\n      sw_draw = true;\n      searched_index = Math.ceil(i * (ar.length / bar_len));\n\n\n      // console.log(searched_index);\n\n      var barh_ref = Math.abs(ar[searched_index] * chh * reflection_size);\n\n\n      _canvasContext.beginPath();\n      _canvasContext.rect(i * bar_w, chh * normal_size_ratio, bar_w - bar_space, barh_ref);\n\n      if (margs.call_from == 'spectrum') {\n        if (i / bar_len < selfClass.timeCurrent / selfClass.timeTotal) {\n          is_progress = true;\n        } else {\n          is_progress = false;\n        }\n      }\n\n      if (is_progress) {\n\n        // -- spectrum\n\n        if (o.skinwave_wave_mode_canvas_mode != 'reflecto') {\n\n          _canvasContext.fillStyle = dzsapHelpers.hexToRgb(progress_hexcolor, 0.25);\n        }\n\n\n        if (progress_hexcolors.length) {\n          var gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n          var aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[1], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[1], 1);\n          }\n          gradient.addColorStop(0, aux);\n          aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[0], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[0], 1);\n          }\n          gradient.addColorStop(1, aux);\n          _canvasContext.fillStyle = gradient;\n        }\n      } else {\n\n        if (margs.call_from == 'canvas_normal_pcm_prog') {\n          // console.log('hexcolor -> ',hexcolor);\n        }\n\n        _canvasContext.fillStyle = hexcolor;\n\n        // -- we make this trapsnarent\n        if (o.skinwave_wave_mode_canvas_mode != 'reflecto') {\n\n          _canvasContext.fillStyle = this.hexToRgb(hexcolor, 0.25);\n        }\n\n\n        if (hexcolors.length) {\n          var gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n          var aux = this.hexToRgb('#' + hexcolors[1], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = this.hexToRgb('#' + hexcolors[1], 1);\n          }\n          gradient.addColorStop(0, aux);\n          aux = this.hexToRgb('#' + hexcolors[0], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = this.hexToRgb('#' + hexcolors[0], 1);\n          }\n          gradient.addColorStop(1, aux);\n          _canvasContext.fillStyle = gradient;\n        }\n\n\n        if (is_sample) {\n          if(sampleDetermineIfCurrentDrawIsBeforeOrAfterSample(i)===false){\n            sw_draw = false;\n          }\n        }\n      }\n\n\n      if (sw_draw) {\n        _canvasContext.fill();\n        _canvasContext.closePath();\n      }\n\n    }\n  }\n\n  setTimeout(function () {\n    selfClass.scrubbar_reveal();\n  }, 100)\n}\n","exports.constants = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1' : 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2' : 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3' : 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER : 'https://unpkg.com/wavesurfer.js@3.3.3/dist/wavesurfer.min.js',\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;'\n}\n","exports.decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n      console.log(err, arg);\n      return null;\n    }\n  }\n\n  return fout;\n}\n\n\n\nexports.isInt = function(n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexports.isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n","\nvar svg_play_icon = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"11.161px\" height=\"12.817px\" viewBox=\"0 0 11.161 12.817\" enable-background=\"new 0 0 11.161 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M8.233,4.589c1.401,0.871,2.662,1.77,2.801,1.998c0.139,0.228-1.456,1.371-2.896,2.177l-4.408,2.465 c-1.44,0.805-2.835,1.474-3.101,1.484c-0.266,0.012-0.483-1.938-0.483-3.588V3.666c0-1.65,0.095-3.19,0.212-3.422 c0.116-0.232,1.875,0.613,3.276,1.484L8.233,4.589z\"/> </g> </g> </g> </svg>  ';\n\nvar svg_heart_icon = '<svg xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"15\" height=\"15\"  viewBox=\"0 0 645 700\" id=\"svg2\"> <defs id=\"defs4\" /> <g id=\"layer1\"> <path d=\"M 297.29747,550.86823 C 283.52243,535.43191 249.1268,505.33855 220.86277,483.99412 C 137.11867,420.75228 125.72108,411.5999 91.719238,380.29088 C 29.03471,322.57071 2.413622,264.58086 2.5048478,185.95124 C 2.5493594,147.56739 5.1656152,132.77929 15.914734,110.15398 C 34.151433,71.768267 61.014996,43.244667 95.360052,25.799457 C 119.68545,13.443675 131.6827,7.9542046 172.30448,7.7296236 C 214.79777,7.4947896 223.74311,12.449347 248.73919,26.181459 C 279.1637,42.895777 310.47909,78.617167 316.95242,103.99205 L 320.95052,119.66445 L 330.81015,98.079942 C 386.52632,-23.892986 564.40851,-22.06811 626.31244,101.11153 C 645.95011,140.18758 648.10608,223.6247 630.69256,270.6244 C 607.97729,331.93377 565.31255,378.67493 466.68622,450.30098 C 402.0054,497.27462 328.80148,568.34684 323.70555,578.32901 C 317.79007,589.91654 323.42339,580.14491 297.29747,550.86823 z\" id=\"path2417\" style=\"\" /> <g transform=\"translate(129.28571,-64.285714)\" id=\"g2221\" /> </g> </svg> ';\nvar svg_arrow_resize = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"12px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g><path d=\"M328.906,401.994h-36.553V109.636h36.553c4.948,0,9.236-1.809,12.847-5.426c3.613-3.615,5.421-7.898,5.421-12.845 c0-4.949-1.801-9.231-5.428-12.851l-73.087-73.09C265.044,1.809,260.76,0,255.813,0c-4.948,0-9.229,1.809-12.847,5.424 l-73.088,73.09c-3.618,3.619-5.424,7.902-5.424,12.851c0,4.946,1.807,9.229,5.424,12.845c3.619,3.617,7.901,5.426,12.85,5.426 h36.545v292.358h-36.542c-4.952,0-9.235,1.808-12.85,5.421c-3.617,3.621-5.424,7.905-5.424,12.854 c0,4.945,1.807,9.227,5.424,12.847l73.089,73.088c3.617,3.617,7.898,5.424,12.847,5.424c4.95,0,9.234-1.807,12.849-5.424 l73.087-73.088c3.613-3.62,5.421-7.901,5.421-12.847c0-4.948-1.808-9.232-5.421-12.854 C338.142,403.802,333.857,401.994,328.906,401.994z\" fill=\"#363636\"/> </g></svg>';\n\n\nvar svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\nexports.svg_preloader_code = ' <svg class=\"loading-svg\" width=\"30\" height=\"30\" viewBox=\"0 0 44 44\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\"> <g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\"> <circle cx=\"22\" cy=\"22\" r=\"1\"> <animate attributeName=\"r\" begin=\"0s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /> <animate attributeName=\"stroke-opacity\" begin=\"0s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /> </circle> <circle cx=\"22\" cy=\"22\" r=\"1\"> <animate attributeName=\"r\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /> <animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /> </circle> </g> </svg> ';\nvar svg_volume_static = ' <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"57px\" height=\"12px\" viewBox=\"0 0 57 12\" enable-background=\"new 0 0 57 12\" xml:space=\"preserve\"> <rect y=\"9\" fill=\"#414042\" width=\"3\" height=\"3\"/> <rect x=\"6\" y=\"8\" fill=\"#414042\" width=\"3\" height=\"4\"/> <rect x=\"12\" y=\"7\" fill=\"#414042\" width=\"3\" height=\"5\"/> <rect x=\"18\" y=\"5.958\" fill=\"#414042\" width=\"3\" height=\"6\"/> <rect x=\"24\" y=\"4.958\" fill=\"#414042\" width=\"3\" height=\"7\"/> <rect x=\"30\" y=\"4\" fill=\"#414042\" width=\"3\" height=\"8\"/> <rect x=\"36\" y=\"3\" fill=\"#414042\" width=\"3\" height=\"9\"/> <rect x=\"42\" y=\"2\" fill=\"#414042\" width=\"3\" height=\"10\"/> <rect x=\"48\" y=\"1\" fill=\"#414042\" width=\"3\" height=\"11\"/> <rect x=\"54\" fill=\"#414042\" width=\"3\" height=\"12\"/> </svg> ';\nvar svg_embed_button = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10.975px\" height=\"14.479px\" viewBox=\"0 0 10.975 14.479\" enable-background=\"new 0 0 10.975 14.479\" xml:space=\"preserve\"> <g> <path d=\"M2.579,1.907c0.524-0.524,1.375-0.524,1.899,0l4.803,4.804c0.236-0.895,0.015-1.886-0.687-2.587L5.428,0.959 c-1.049-1.05-2.75-1.05-3.799,0L0.917,1.671c-1.049,1.05-1.049,2.751,0,3.801l3.167,3.166c0.7,0.702,1.691,0.922,2.587,0.686 L1.867,4.52c-0.524-0.524-0.524-1.376,0-1.899L2.579,1.907z M5.498,13.553c1.05,1.05,2.75,1.05,3.801,0l0.712-0.713 c1.05-1.05,1.05-2.75,0-3.8L6.843,5.876c-0.701-0.7-1.691-0.922-2.586-0.686l4.802,4.803c0.524,0.525,0.524,1.376,0,1.897 l-0.713,0.715c-0.523,0.522-1.375,0.522-1.898,0L1.646,7.802c-0.237,0.895-0.014,1.886,0.686,2.586L5.498,13.553z\"/> </g> </svg> ';\n\n\n\nvar svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nvar svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\nvar svg_prev_btn_steel = '<svg class=\"svg1\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"3.208,7.674 5.208,9.104 5.208,5.062 3.208,5.652 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.306\" y=\"3.074\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -1.4203 4.7299)\" fill=\"#E6E7E8\" width=\"9.386\" height=\"2.012\"/> <rect x=\"0.307\" y=\"8.29\" transform=\"matrix(0.7072 0.707 -0.707 0.7072 8.0362 -0.8139)\" fill=\"#E6E7E8\" width=\"9.387\" height=\"2.012\"/> </g> </svg> <svg class=\"svg2\"  version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"3.208,7.674 5.208,9.104 5.208,5.062 3.208,5.652 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.306\" y=\"3.074\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -1.4203 4.7299)\" fill=\"#E6E7E8\" width=\"9.386\" height=\"2.012\"/> <rect x=\"0.307\" y=\"8.29\" transform=\"matrix(0.7072 0.707 -0.707 0.7072 8.0362 -0.8139)\" fill=\"#E6E7E8\" width=\"9.387\" height=\"2.012\"/> </g> </svg>';\nvar svg_next_btn_steel = '<svg class=\"svg1\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"7.035,5.695 5.074,4.292 5.074,8.257 7.035,7.678 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.677\" y=\"8.234\" transform=\"matrix(-0.7071 0.7071 -0.7071 -0.7071 15.532 12.0075)\" fill=\"#E6E7E8\" width=\"9.204\" height=\"1.973\"/> <rect x=\"0.674\" y=\"3.118\" transform=\"matrix(-0.7072 -0.707 0.707 -0.7072 6.1069 10.7384)\" fill=\"#E6E7E8\" width=\"9.206\" height=\"1.974\"/> </g> </svg><svg class=\"svg2\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"7.035,5.695 5.074,4.292 5.074,8.257 7.035,7.678 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.677\" y=\"8.234\" transform=\"matrix(-0.7071 0.7071 -0.7071 -0.7071 15.532 12.0075)\" fill=\"#E6E7E8\" width=\"9.204\" height=\"1.973\"/> <rect x=\"0.674\" y=\"3.118\" transform=\"matrix(-0.7072 -0.707 0.707 -0.7072 6.1069 10.7384)\" fill=\"#E6E7E8\" width=\"9.206\" height=\"1.974\"/> </g> </svg>';\nvar playbtn_svg = '<svg version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nvar pausebtn_svg = '<svg version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M9.812,29.7c0,0.166-0.178,0.3-0.398,0.3H2.461c-0.22,0-0.398-0.134-0.398-0.3V0.3c0-0.166,0.178-0.3,0.398-0.3h6.953 c0.22,0,0.398,0.134,0.398,0.3V29.7z\"/> <path d=\"M23.188,29.7c0,0.166-0.178,0.3-0.398,0.3h-6.953c-0.22,0-0.398-0.134-0.398-0.3V0.3c0-0.166,0.178-0.3,0.398-0.3h6.953 c0.22,0,0.398,0.134,0.398,0.3V29.7z\"/> </svg>';\n\n\nvar svg_pause = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>  ';\n\nvar svg_volume = '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"57px\" height=\"12px\" viewBox=\"0 0 57 12\" enable-background=\"new 0 0 57 12\" xml:space=\"preserve\"> <rect y=\"9\" fill=\"#414042\" width=\"3\" height=\"3\"/> <rect x=\"6\" y=\"8\" fill=\"#414042\" width=\"3\" height=\"4\"/> <rect x=\"12\" y=\"7\" fill=\"#414042\" width=\"3\" height=\"5\"/> <rect x=\"18\" y=\"5.958\" fill=\"#414042\" width=\"3\" height=\"6\"/> <rect x=\"24\" y=\"4.958\" fill=\"#414042\" width=\"3\" height=\"7\"/> <rect x=\"30\" y=\"4\" fill=\"#414042\" width=\"3\" height=\"8\"/> <rect x=\"36\" y=\"3\" fill=\"#414042\" width=\"3\" height=\"9\"/> <rect x=\"42\" y=\"2\" fill=\"#414042\" width=\"3\" height=\"10\"/> <rect x=\"48\" y=\"1\" fill=\"#414042\" width=\"3\" height=\"11\"/> <rect x=\"54\" fill=\"#414042\" width=\"3\" height=\"12\"/> </svg>';\nvar svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nvar svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\nvar svg_footer_playlist = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nvar svg_close_btn = '<svg enable-background=\"new 0 0 40 40\" id=\"\" version=\"1.1\" viewBox=\"0 0 40 40\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M28.1,26.8c0.4,0.4,0.4,1,0,1.4c-0.2,0.2-0.5,0.3-0.7,0.3s-0.5-0.1-0.7-0.3l-6.8-6.8l-6.8,6.8c-0.2,0.2-0.5,0.3-0.7,0.3 s-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l6.8-6.8l-6.8-6.8c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l6.8,6.8l6.8-6.8 c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L21.3,20L28.1,26.8z\"></path></g><g><path d=\"M19.9,40c-11,0-20-9-20-20s9-20,20-20c4.5,0,8.7,1.5,12.3,4.2c0.4,0.3,0.5,1,0.2,1.4c-0.3,0.4-1,0.5-1.4,0.2 c-3.2-2.5-7-3.8-11-3.8c-9.9,0-18,8.1-18,18s8.1,18,18,18s18-8.1,18-18c0-3.2-0.9-6.4-2.5-9.2c-0.3-0.5-0.1-1.1,0.3-1.4 c0.5-0.3,1.1-0.1,1.4,0.3c1.8,3.1,2.8,6.6,2.8,10.2C39.9,31,30.9,40,19.9,40z\"></path></g></svg>';\n\nexports.svg_footer_playlist = svg_footer_playlist;\nexports.svg_close_btn = svg_close_btn;\nexports.svg_pause = svg_pause;\nexports.svg_embed_btn = svg_embed_btn;\nexports.svg_prev_btn = svg_prev_btn;\nexports.svg_next_btn = svg_next_btn;\nexports.svg_prev_btn_steel = svg_prev_btn_steel;\nexports.svg_next_btn_steel = svg_next_btn_steel;\nexports.svg_menu_state = svg_menu_state;\nexports.svg_volume = svg_volume;\nexports.svg_play_icon = svg_play_icon;\nexports.svg_heart_icon = svg_heart_icon;\nexports.svg_arrow_resize = svg_arrow_resize;\nexports.svg_volume_static = svg_volume_static;\nexports.svg_embed_button = svg_embed_button;\nexports.playbtn_svg = playbtn_svg;\nexports.svg_share_icon = svg_share_icon;\nexports.pausebtn_svg = pausebtn_svg;\n","const dzsHelpers = require('../js_common/_dzs_helpers');\nconst dzsapHelpers = require('./_dzsap_helpers');\nexports.ajax_submit_views = function (argp) {\n\n  // console.log('ajax_submit_views()',argp);\n\n  // console.log('this - ', this);\n  var selfClass = this;\n  var $ = jQuery;\n  var data = {\n    action: 'dzsap_submit_views',\n    postdata: 1,\n    playerid: selfClass.the_player_id,\n    currip: selfClass.currIp\n  };\n\n\n  if (selfClass.cthis.attr('data-playerid-for-views')) {\n    data.playerid = selfClass.cthis.attr('data-playerid-for-views');\n  }\n\n\n  if (data.playerid == '') {\n    data.playerid = dzs_clean_string(selfClass.data_source);\n  }\n\n  //                console.log(ajax_view_submitted);\n\n\n  // -- submit view\n  if (selfClass.urlToAjaxHandler) {\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // -- increase number of hits\n        var auxnr = selfClass.cthis.find('.counter-hits .the-number').html();\n        auxnr = parseInt(auxnr, 10);\n        if (selfClass.increment_views != 2) {\n          auxnr++;\n        }\n        if (response) {\n          if (dzsHelpers.decode_json(response)) {\n            auxnr = dzsHelpers.decode_json(response)['number'];\n          }\n        }\n\n        selfClass.cthis.find('.counter-hits .the-number').html(auxnr);\n\n        selfClass.ajax_view_submitted = 'on';\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var auxlikes = selfClass.cthis.find('.counter-hits .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-hits .the-number').html(auxlikes);\n\n        selfClass.ajax_view_submitted = 'on';\n      }\n    });\n    selfClass.ajax_view_submitted = 'on';\n  }\n\n}\n\n\nexports.ajax_get_views = function (argp) {\n  // -- only used for local ... wp gets this directly\n  //only handles ajax call + result\n  var mainarg = argp;\n  var selfClass = this;\n  var data = {\n    action: 'dzsap_get_views',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n\n  if (data.playerid == '') {\n    data.playerid = dzsapHelpers.dzs_clean_string(data_source);\n  }\n\n\n  if (selfClass.urlToAjaxHandler) {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // console.log(response);\n        var responseViews = String('');\n\n\n        var aux = dzsHelpers.decode_json(response);\n        if (aux) {\n          responseViews = aux.views;\n          // console.log(' responseViews - ', responseViews, res);\n        } else {\n          responseViews = response;\n        }\n\n        if (!responseViews) {\n          responseViews = '';\n        }\n\n\n        if (responseViews.indexOf('viewsubmitted') > -1) {\n          responseViews = responseViews.replace('viewsubmitted', '');\n          selfClass.ajax_view_submitted = 'on';\n          selfClass.increment_views = 0;\n        }\n\n        if (responseViews == '') {\n          responseViews = 0;\n        }\n\n\n        if (String(responseViews).indexOf('{{theip') > -1) {\n\n          var auxa = /{\\{theip-(.*?)}}/g.exec(responseViews);\n          if (auxa[1]) {\n            selfClass.currIp = auxa[1];\n          }\n\n          responseViews = responseViews.replace(/{\\{theip-(.*?)}}/g, '');\n\n\n        }\n\n\n        // console.log('selfClass.increment_views', selfClass.increment_views);\n        if (selfClass.increment_views == 1) {\n\n\n          if (exports) {\n            (exports.ajax_submit_views.bind(selfClass))();\n\n          }\n          //console.log('responseViews iz '+responseViews);\n          responseViews = Number(responseViews) + selfClass.increment_views;\n          ;\n          //console.log(responseViews);\n          selfClass.increment_views = 2;\n        }\n\n        var auxhtml = selfClass.cthis.find('.extra-html').eq(0).html();\n\n\n        auxhtml = auxhtml.replace('{{get_plays}}', responseViews);\n\n\n        selfClass.cthis.find('.extra-html').eq(0).html(auxhtml);\n        selfClass.index_extrahtml_toloads--;\n\n\n        if (selfClass.index_extrahtml_toloads == 0) {\n          selfClass.cthis.find('.extra-html').addClass('active');\n        }\n\n      },\n      error: function (arg) {\n\n        selfClass.index_extrahtml_toloads--;\n        if (selfClass.index_extrahtml_toloads == 0) {\n          selfClass.cthis.find('.extra-html').addClass('active');\n        }\n      }\n    });\n  }\n}\n\n\nexports.ajax_submit_rating = function (argp) {\n  //only handles ajax call + result\n  var selfClass = this;\n  var $ = jQuery;\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_rate',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n  if (selfClass.starrating_alreadyrated > -1) {\n    return;\n  }\n  selfClass.cthis.find('.star-rating-con').addClass('just-rated');\n\n\n  if (selfClass.urlToAjaxHandler) {\n    selfClass.initOptions.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n        ;\n\n\n        var resp_arr = {};\n\n        try {\n          resp_arr = JSON.parse(response);\n        } catch (e) {\n          console.log(e);\n        }\n\n        var aux = selfClass.cthis.find('.star-rating-set-clip').outerWidth() / selfClass.cthis.find('.star-rating-bg').outerWidth();\n        var nrrates = parseInt(selfClass.cthis.find('.counter-rates .the-number').html(), 10);\n\n        nrrates++;\n\n        var aux2 = ((nrrates - 1) * (aux * 5) + selfClass.starrating_index) / (nrrates)\n\n        //                        console.log(aux, aux2, nrrates);\n\n        setTimeout(function () {\n\n          selfClass.cthis.find('.star-rating-con').removeClass('just-rated');\n        }, 100);\n        selfClass.cthis.find('.counter-rates .the-number').html(resp_arr.number);\n\n        selfClass.cthis.find('.star-rating-con').attr('data-initial-rating-index', Number(resp_arr.index) / 5);\n        selfClass.cthis.find('.star-rating-con .rating-prog').css('width', (Number(resp_arr.index) / 5 * 100) + '%');\n\n        if (selfClass.initOptions.parentgallery && $(selfClass.initOptions.parentgallery).get(0) != undefined && $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n          $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted();\n        }\n\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var aux = selfClass.selfClass.cthis.find('.star-rating-set-clip').outerWidth() / selfClass.cthis.find('.star-rating-bg').outerWidth();\n        var nrrates = parseInt(selfClass.cthis.find('.counter-rates .the-number').html(), 10);\n\n        nrrates++;\n\n        var aux2 = ((nrrates - 1) * (aux * 5) + selfClass.starrating_index) / (nrrates)\n\n        //                        console.log(aux, aux2, nrrates);\n        selfClass.cthis.find('.star-rating-set-clip').width(aux2 * (parseInt(cthis.find('.star-rating-bg').width(), 10) / 5));\n        selfClass.cthis.find('.counter-rates .the-number').html(nrrates);\n\n        if (selfClass.initOptions.parentgallery && $(selfClass.initOptions.parentgallery).get(0) != undefined && $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n          $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted();\n        }\n\n      }\n    });\n  }\n}\n\n\nexports.ajax_submit_like = function (argp, playerid, pargs) {\n\n  // -- from gallery -- todo:replace with universal form!!\n\n  //only handles ajax call + result\n\n\n  var selfClass = this;\n  var $ = jQuery;\n\n\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_like',\n    postdata: mainarg,\n    playerid: playerid\n  };\n\n  var margs = {\n    refferer: null\n  }\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n\n  //console.log(margs,pargs,o.settings_php_handler);\n\n\n  if (selfClass.urlToAjaxHandler) {\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        if (margs.refferer) {\n          margs.refferer.addClass('active');\n        }\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n      }\n    });\n  }\n}\n\n\nexports.ajax_submit_like = function (argp) {\n  var selfClass = this;\n  var $ = jQuery;\n\n  //only handles ajax call + result\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_like',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n\n  selfClass.cthis.find('.btn-like').addClass('disabled');\n\n  if (selfClass.urlToAjaxHandler || selfClass.cthis.hasClass('is-preview')) {\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        selfClass.cthis.find('.btn-like').addClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        selfClass.cthis.find('.btn-like').addClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      }\n    });\n  }\n}\n\nexports.ajax_retract_like = function (argp) {\n  var selfClass = this;\n  var $ = jQuery;\n\n  //only handles ajax call + result\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_retract_like',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n  selfClass.cthis.find('.btn-like').addClass('disabled');\n\n\n  if (selfClass.urlToAjaxHandler) {\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        selfClass.cthis.find('.btn-like').removeClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes--;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n        selfClass.cthis.find('.btn-like').removeClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes--;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      }\n    });\n  }\n}\n\n\nexports.ajax_comment_publish = function (argp) {\n  // -- only handles ajax call + result\n  var selfClass = this;\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  console.log(' o - ', o, selfClass);\n\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_front_submitcomment',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id,\n    comm_position: selfClass.commentPositionPerc,\n    skinwave_comments_process_in_php: o.skinwave_comments_process_in_php,\n    skinwave_comments_avatar: o.skinwave_comments_avatar,\n    skinwave_comments_account: o.skinwave_comments_account\n  };\n\n  if (selfClass.cthis.find('*[name=comment-email]').length > 0) {\n\n    data.email = selfClass.cthis.find('*[name=comment-email]').eq(0).val();\n  }\n\n\n  if (selfClass.urlToAjaxHandler) {\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (response.charAt(response.length - 1) == '0') {\n          response = response.slice(0, response.length - 1);\n        }\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        //console.log(data.postdata);\n\n\n        var aux = '';\n        if (selfClass.initOptions.skinwave_comments_process_in_php !== 'on') {\n\n          // -- process the comment now, in javascript\n          aux = (data.postdata);\n\n        } else {\n\n          // -- process php\n          aux = '';\n          aux += '<span class=\"dzstooltip-con\" style=\"left:' + selfClass.commentPositionPerc + '\"><span class=\"dzstooltip arrow-from-start transition-slidein arrow-bottom skin-black\" style=\"width: 250px;\"><span class=\"the-comment-author\">@' + selfClass.initOptions.skinwave_comments_account + '</span> says:<br>';\n          aux += dzsapHelpers.htmlEncode(data.postdata);\n\n\n          aux += '</span><div class=\"the-avatar\" style=\"background-image: url(' + selfClass.initOptions.skinwave_comments_avatar + ')\"></div></span>';\n\n\n        }\n\n        // console.log(aux);\n        // selfClass._commentsHolder.append(aux);\n\n        selfClass._commentsHolder.children().each(function () {\n          var _t2 = $(this);\n\n          if (_t2.hasClass('dzstooltip-con') == false) {\n            _t2.addClass('dzstooltip-con');\n          }\n        })\n\n        selfClass._commentsHolder.append(aux);\n\n\n        if (selfClass.action_audio_comment) {\n          selfClass.action_audio_comment(selfClass.cthis, aux);\n        }\n\n\n        //jQuery('#save-ajax-loading').css('visibility', 'hidden');\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n        selfClass._commentsHolder.append(data.postdata);\n      }\n    });\n  }\n}\n\n\n\n","/*\n * Author: Audio Player with Playlist\n * Website: http://digitalzoomstudio.net/\n * Portfolio: http://bit.ly/nM4R6u\n * Version: 5.73\n * */\n\n\nif (!(window.dzsap_init_calls)) {\n  window.dzsap_init_calls = [];\n}\n\n\nconst dzsHelpers = require('./js_common/_dzs_helpers');\nconst dzsapHelpers = require('./jsinc/_dzsap_helpers');\nconst dzsapSvgs = require('./jsinc/_dzsap_svgs');\nconst dzsapPlaylist = require('./jsinc/_dzsap_playlist');\nconst dzsapAjax = require('./jsinc/_dzsap_ajax');\nconst dzsapMisc = require('./jsinc/_dzsap_misc');\nconst dzsapWaveFunctions = require('./jsinc/wave-render/_wave-render-functions');\nconst ConstantsDzsAp = require('./configs/_constants').constants;\n\n\nvar dzsap_list = []; // -- this is for the players\nvar dzsap_yt_list = []; // -- this is for the youtube players\nvar dzsap_ytapiloaded = false;\nvar dzsap_globalidind = 20;\n\nvar dzsap_list_for_sync_sw_built = false;\nvar dzsap_list_for_sync_inter_build = 0;\n\nwindow.loading_multi_sharer = false;\n\nwindow.dzsap_moving_playlist_item = false;\nwindow.dzsap_playlist_con = null;\nwindow.dzsap_playlist_item_moving = null;\nwindow.dzsap_playlist_item_target = null;\n\nwindow.dzsap_player_interrupted_by_dzsap = null;\nwindow.dzsap_audio_ctx = null;\nwindow.dzsap__style = null;\nwindow.dzsap_sticktobottom_con = null;\n\nwindow.dzsap_self_options = {};\n\nwindow.dzsap_generating_pcm = false;\nwindow.dzsap_box_main_con = null;\nwindow.dzsap_lasto = null;\nwindow.dzsap_wavesurfer_load_attempt = 0;\nwindow.dzsap_list_for_sync_players = []; // -- used for next .. prev .. footer playlist\n\n\nwindow.dzsap_player_index = 0; // -- the player index on the page\n\n\nclass DzsAudioPlayer {\n\n  constructor(argThis, argOptions, $) {\n\n    this.argThis = argThis;\n    this.argOptions = argOptions;\n    this.$ = $;\n\n    this.ajax_view_submitted = 'auto';\n    this.increment_views = 0;\n    this.the_player_id = '';\n    this.currIp = '127.0.0.1';\n    this.index_extrahtml_toloads = 0;\n    this.starrating_alreadyrated = -1;\n    this.data_source = '';\n    this._actualPlayer = null;\n\n    this.urlToAjaxHandler = null;\n\n\n    // -- time vars\n    this.sample_time_start = 0;\n    this.sample_time_end = 0;\n    this.timeCurrent = 0;\n    this.timeTotal = 0;\n\n    this._audioplayerInner = null;\n    this._metaArtistCon = null;\n    this._conControls = null;\n    this._conPlayPauseCon = null;\n    this._apControls = null;\n    this._apControlsLeft = null;\n    this._apControlsRight = null;\n    this._commentsHolder = null;\n    this._cmedia = null;\n    this._scrubbar = null;\n    this._scrubbarbg_canvas = null;\n    this._scrubbarprog_canvas = null;\n    this._feed_fakeButton = null;\n    this._sourcePlayer = null;\n\n    this.audioType = 'normal';\n    this.skinwave_mode = 'normal';\n    this.action_audio_comment = null; // -- set a outer ended function ( for example for tracking your analytics\n\n    this.commentPositionPerc = 0;// --the % at which the comment will be placed\n\n    this.spectrum_audioContext = null;\n    this.spectrum_audioContextBufferSource = null;\n    this.spectrum_audioContext_buffer = null;\n    this.spectrum_mediaElementSource = null;\n    this.spectrum_analyser = null;\n    this.spectrum_gainNode = null;\n\n    this.lastArray = null;\n    this.last_lastArray = null;\n\n    this.player_playing = false;\n    this.playerIsLoaded = false;\n\n    this.actualDataTypeOfMedia = 'audio';\n\n    this.youtube_retryPlayTimeout = 0;\n\n    // -- pcm\n    this.identifier_pcm = ''; // -- can be either player id or source if player id is not set\n    this.isRealPcm = false;\n    this.isPcmTryingToGenerate = false;\n    this.isPcmPromisingToGenerateOnMetaLoad = false // -- we are promising generating on meta load\n    this.isPlayPromised = false // -- we are promising generating on meta load\n\n    this.src_real_mp3 = '';\n    this.original_real_mp3 = '' // -- this is the original real mp3 for sainvg and identifying in the database\n\n    this.classInit();\n  }\n\n  classInit() {\n    // console.log('this -> ', this);\n\n    // console.log('process - ', process);\n\n    var $ = this.$;\n    var o = this.argOptions;\n    var cthis = $(this.argThis);\n\n    var selfClass = this;\n\n\n    selfClass.cthis = cthis;\n    selfClass.initOptions = o;\n\n    var cthisId = 'ap1'\n      , cclass = ''\n    ;\n    var currNr = -1;\n    var i = 0;\n    var ww, wh, tw, th, cw // -- controls width\n      , ch // -- controls height\n      , sw = 0 // -- scrubbar width\n      ,\n      sh, spos = 0 //== scrubbar prog pos\n    ;\n    var _conControls,\n      _conPlayPause = null\n      , _controlsVolume, __scrubbProg,\n      _theMedia\n      , _cwatermark = null\n      , _commentsSelector = null\n      , _theThumbCon, _scrubBgReflect = null\n      , _extra_html\n      , _playlistTooltip = null\n      , _scrubBgCanvas = null,\n      _scrubBgCanvasCtx = null,\n      _commentsWriter = null,\n      _currTime = null,\n      _totalTime = null;\n    var busy = false,\n      muted = false,\n      yt_inited = false,\n      destroyed = false,\n      google_analytics_sent_play_event = false,\n      destroyed_for_rebuffer = false\n      , loop_active = false // -- if loop_active the track will loop\n      , is_sample = false\n      , dzsap_can_canvas = false\n      , curr_time_first_set = false\n      , scrub_showing_scrub_time = false\n      , setuped_listeners = false\n      , setuped_media = false // -- linked with loaded\n      , safe_to_change_track = false // -- only after 2 seconds of init is it safe to change track\n    ;\n    var last_time_total = 0\n\n      , time_curr_for_visual = -1\n      , time_curr_for_real = -1\n\n      , time_total_for_visual = -1\n      , time_total_for_real = -1\n\n      , real_time_curr = 0 // -- we need these for sample..\n      , real_time_total = 0 // -- we need these for sample..\n      , sample_time_start = 0\n      , sample_time_end = 0\n      , pseudo_sample_time_start = 0\n      , pseudo_sample_time_end = 0\n      , sample_time_total = 0\n      , sample_perc_start = 0\n      , playlist_inner_currNr = 0\n      , sample_perc_end = 0\n      , attempt_reload = 0\n      , currTime_outerWidth = 0\n      , media_changed_index = 0\n      , player_index_in_gallery = -1 // -- the player index in gallery\n    ;\n\n    var last_vol = 1,\n      last_vol_before_mute = 1\n    ;\n    var inter_check\n      , inter_checkReady\n      , inter_check_yt_ready\n      , inter_audiobuffer_workaround_id = 0\n      , inter_ended = 0\n      , inter_60_secs_contor = 0\n      , inter_trigger_resize;\n    var skin_minimal_canvasplay;\n    var data_station_main_url = ''\n      , id_real_mp3 = '' // -- the real source of the mp3\n    ;\n\n    var res_thumbh = false\n      , debug_var = false\n      , debug_var2 = false\n      , volume_dragging = false\n      , volume_set_by_user = false // -- this shows if the user actioned on the volume\n      , sw_enable_multisharer = false\n      , is_under_400 = false\n      , first_drawn_canvas = false\n      , sent_received_time_total = false\n      , ended = false\n      , youtube_cmedia_converted = false\n      , sw_mouse_over = false\n\n\n    ; // resize thumb height\n\n    var _sticktobottom = null;\n\n    var skin_minimal_button_size = 0;\n\n    // -- touch controls\n    var scrubbar_moving = false\n      , scrubbar_moving_x = 0\n      , aux3 = 0\n    ;\n\n    var radio_update_artist_name = false;\n    var radio_update_song_name = false;\n\n\n    var _feed_extra_html = null;\n    var dataSrc = '';\n    var canw = 100;\n    var canh = 100;\n    var barh = 100,\n      scrubbar_h = 75\n      , design_thumbh\n    ;\n\n\n    var _commentsChildren = null;\n\n    var str_audio_element = '';\n\n    var lasttime_inseconds = 0;\n\n    var controls_left_pos = 0;\n    var controls_right_pos = 0;\n\n\n    var yt_curr_id = ''\n\n    var starrating_index = 0,\n      starrating_nrrates = 0;\n\n    var playfrom = 'off',\n      playfrom_ready = false\n    ;\n\n\n    var defaultVolume = 1;\n\n    var action_audio_end = null\n      , action_audio_play = null\n      , action_audio_play2 = null\n      , action_audio_pause = null\n\n\n    var sw_suspend_enter_frame = true\n      , sw_spectrum_fakeit = 'auto'\n      , sw_spectrum_fakeit_decided = '' // -- shows where fakeit was decided\n    ;\n\n    var type_normal_stream_type = ''; // -- normal icecast or shoutcast\n\n\n    var settings_extrahtml_in_float_right = ''; // -- the html to have in right of controls\n\n\n    var duration_viy = 20;\n    var begin_viy = 0;\n    var change_viy = 0;\n\n\n    var draw_canvas_inter = 0;\n\n    // -- temp functions\n\n    var func_audio_error = null;\n\n\n    // console.log(cthis, o);\n\n\n    window.dzsap_player_index++;\n\n\n    settle_sample_times();\n\n\n    var keyboard_controls = dzsapHelpers.dzsap_generate_keyboard_controls();\n    cthis.addClass('preload-method-' + o.preload_method);\n\n    o.wavesurfer_pcm_length = Number(o.wavesurfer_pcm_length);\n\n    if (o.skinwave_preloader_code == 'default') {\n      o.skinwave_preloader_code = dzsapSvgs.svg_preloader_code;\n    }\n\n\n    //console.log(sample_perc_start,sample_perc_end);\n\n    o.settings_trigger_resize = parseInt(o.settings_trigger_resize, 10);\n    o.watermark_volume = parseFloat(o.watermark_volume);\n\n    settings_extrahtml_in_float_right = o.settings_extrahtml_in_float_right;\n\n    if (cthis.children('.extra-html-in-controls-right').length > 0) {\n\n\n      settings_extrahtml_in_float_right += cthis.children('.extra-html-in-controls-right').eq(0).html();\n\n\n    }\n\n\n    if (cthis.children('.extra-html-in-controls-left').length > 0 && o.settings_extrahtml_in_float_left == '') {\n      o.settings_extrahtml_in_float_left = cthis.children('.extra-html-in-controls-left').eq(0).html();\n\n\n    }\n\n    if (settings_extrahtml_in_float_right) {\n\n\n      // console.log('settings_extrahtml_in_float_right - ',settings_extrahtml_in_float_right);\n\n\n      settings_extrahtml_in_float_right = String(settings_extrahtml_in_float_right).replace(/{{svg_share_icon}}/g, dzsapSvgs.svg_share_icon);\n    }\n\n\n    init();\n\n    function init() {\n      //console.log(typeof(o.parentgallery)=='undefined');\n\n\n      // console.log('cthis - - on init - ', cthis);\n\n\n      if (cthis.hasClass('dzsap-inited')) {\n        return false;\n      }\n\n      selfClass.youtube_checkReady = youtube_checkReady;\n      selfClass.play_media = play_media;\n      selfClass.scrubbar_reveal = scrubbar_reveal;\n      selfClass.calculate_dims_time = calculate_dims_time;\n\n      cthis.css({'opacity': ''});\n      cthis.addClass('dzsap-inited');\n      window.dzsap_player_index++;\n\n\n      // console.log('cthis - ',cthis,o);\n\n\n      dzsapHelpers.configureAudioPlayerOptionsInitial(cthis, o, selfClass);\n\n\n      (dzsapHelpers.player_detect_skinwave_mode.bind(selfClass))()\n\n      //console.log(o.design_skin, o.disable_volume);\n\n      //                console.log(selfClass.starrating_alreadyrated);\n\n\n      if (o.design_skin == 'skin-default') {\n        if (o.design_thumbh == 'default') {\n          design_thumbh = cthis.height() - 40;\n          res_thumbh = true;\n        }\n      }\n\n\n      // console.log('o.mobile_delete -> ',o.mobile_delete, cthis);\n      if (dzsapHelpers.dzsap_is_mobile()) {\n        $('body').addClass('is-mobile');\n      }\n      if (o.mobile_delete == 'on') {\n        if (dzsapHelpers.dzsap_is_mobile()) {\n          var _con = null;\n          if (cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n            _con = cthis.parent().parent();\n          }\n          if (_con) {\n            if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n              _con.prev().remove();\n            }\n\n            _con.remove();\n          }\n\n\n          cthis.remove();\n\n\n          return false;\n        }\n      }\n\n      dzsap_can_canvas = dzsapHelpers.can_canvas();\n\n      apply_skinwave_mode_class();\n\n\n      // console.log(o.design_wave_color_bg, o.design_wave_color_prog); 1\n\n\n      if (o.design_thumbh == 'default') {\n        design_thumbh = 200;\n      }\n\n\n      //                console.log(selfClass.the_player_id, o.skinwave_comments_enable, o.skinwave_comments_playerid);\n\n      if (o.skinwave_comments_playerid == '') {\n\n\n        if (typeof (cthis.attr('id')) != 'undefined') {\n          selfClass.the_player_id = cthis.attr('id');\n        }\n        if (cthis.attr('data-playerid')) {\n          selfClass.the_player_id = cthis.attr('data-playerid');\n        }\n      } else {\n        selfClass.the_player_id = o.skinwave_comments_playerid;\n\n        if (!(cthis.attr('id'))) {\n          cthis.attr('id', selfClass.the_player_id);\n        }\n      }\n\n      // console.log('selfClass.the_player_id - ',selfClass.the_player_id);\n\n      if (cthis.attr('data-playerid')) {\n\n      } else {\n        // console.log('selfClass.the_player_id - ',selfClass.the_player_id);\n        if (selfClass.the_player_id == '') {\n          selfClass.the_player_id = dzsapHelpers.dzs_clean_string(cthis.attr('data-source'));\n          cthis.attr('data-playerid', selfClass.the_player_id);\n        }\n      }\n\n\n      if (isNaN(Number(selfClass.the_player_id))) {\n        // TODO: maybe if we except only number for wp database, maybe convert ascii to number\n\n\n      }\n\n\n      if (selfClass.the_player_id == '') {\n        o.skinwave_comments_enable = 'off';\n\n      }\n\n      // console.log('o.skinwave_comments_enable - ',o.skinwave_comments_enable);\n\n\n      // -- disable fakeplayer on mobile for some reason\n      if (o.mobile_disable_fakeplayer == 'on' && dzsapHelpers.dzsap_is_mobile()) {\n        selfClass.cthis.attr('data-fakeplayer', '');\n      }\n\n      if (cthis.attr('data-fakeplayer')) {\n        dzsapHelpers.player_determineActualPlayer(selfClass.cthis, selfClass);\n      }\n\n      selfClass.cthis.addClass('scrubbar-type-' + o.scrubbar_type);\n\n\n      if (cthis.children('.extra-html').length > 0 && o.settings_extrahtml == '') {\n        o.settings_extrahtml = cthis.children('.extra-html').eq(0).html();\n\n        _feed_extra_html = cthis.children('.extra-html').eq(0);\n\n        // console.log('o.settings_extrahtml - ',o.settings_extrahtml);\n\n\n        var re_ratesubmitted = /{\\{ratesubmitted=(.?)}}/g;\n        if (re_ratesubmitted.test(String(o.settings_extrahtml))) {\n          re_ratesubmitted.lastIndex = 0;\n          var auxa = (re_ratesubmitted.exec(String(o.settings_extrahtml)));\n\n\n          selfClass.starrating_alreadyrated = auxa[1];\n\n          o.settings_extrahtml = String(o.settings_extrahtml).replace(re_ratesubmitted, '');\n\n          if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n            $(o.parentgallery).get(0).api_player_rateSubmitted();\n          }\n        }\n\n\n        selfClass.cthis.children('.extra-html').remove();\n      }\n\n      if (o.construct_player_list_for_sync == 'on') {\n        if (dzsap_list_for_sync_sw_built == false) {\n          dzsap_list_for_sync_players = [];\n\n          dzsap_list_for_sync_sw_built = true;\n\n          $('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n            var _t23 = $(this);\n\n\n            if (_t23.hasClass('dzsap_footer')) {\n              return;\n            }\n\n            // console.log(_t23);\n\n            if (_t23.attr('data-do-not-include-in-list') != 'on') {\n\n              dzsap_list_for_sync_players.push(_t23);\n            }\n          })\n\n          // console.log(dzsap_list_for_sync_players);\n\n          clearTimeout(dzsap_list_for_sync_inter_build);\n\n          dzsap_list_for_sync_inter_build = setTimeout(function () {\n            dzsap_list_for_sync_sw_built = false;\n          }, 500);\n\n        }\n      }\n\n      // console.log('dzsap_list_for_sync_players - ',dzsap_list_for_sync_players);\n\n\n      playfrom = o.playfrom;\n\n      if (dzsHelpers.isValid(cthis.attr('data-playfrom'))) {\n        playfrom = cthis.attr('data-playfrom');\n      }\n\n      if (isNaN(parseInt(playfrom, 10)) == false) {\n        playfrom = parseInt(playfrom, 10);\n      }\n\n\n      if (playfrom == 'off' || playfrom == '') {\n        if (dzsapHelpers.get_query_arg(window.location.href, 'audio_time')) {\n          playfrom = sanitize_from_point_time(dzsapHelpers.get_query_arg(window.location.href, 'audio_time'));\n        }\n      }\n\n      // console.log('playfrom - ',playfrom);\n\n\n      selfClass.identifier_pcm = selfClass.the_player_id; // -- the pcm identifier to send via ajax\n\n\n      var _feed_obj = null;\n\n      if (selfClass._feed_fakeButton) {\n        _feed_obj = selfClass._feed_fakeButton;\n      } else {\n        if (selfClass._sourcePlayer) {\n          _feed_obj = selfClass._sourcePlayer;\n        } else {\n          _feed_obj = null;\n        }\n      }\n\n\n      if (selfClass.identifier_pcm == 'dzs_footer') {\n        selfClass.identifier_pcm = dzsapHelpers.dzs_clean_string(cthis.attr('data-source'));\n      }\n\n      if (_feed_obj) {\n\n        if (_feed_obj.attr('data-playerid')) {\n\n          selfClass.identifier_pcm = _feed_obj.attr('data-playerid');\n        } else {\n\n          if (_feed_obj.attr('data-source')) {\n\n            selfClass.identifier_pcm = _feed_obj.attr('data-source');\n          }\n        }\n      }\n\n      // console.log('inited - ', selfClass.the_player_id, ' skinwave_comments_enable - ', o.skinwave_comments_enable, cthis);\n\n      if (cthis.attr('data-type') == 'youtube') {\n        o.type = 'youtube';\n\n        selfClass.audioType = 'youtube';\n      }\n      if (cthis.attr('data-type') == 'soundcloud') {\n        o.type = 'soundcloud';\n        selfClass.audioType = 'soundcloud';\n\n        o.skinwave_enableSpectrum = 'off';\n        cthis.removeClass('skin-wave-is-spectrum');\n      }\n      if (cthis.attr('data-type') == 'mediafile') {\n        o.type = 'audio';\n        selfClass.audioType = 'audio';\n      }\n\n      // todo: move shoutcast\n      if (cthis.attr('data-type') == 'shoutcast') {\n        o.type = 'shoutcast';\n        selfClass.audioType = 'audio';\n        o.disable_timer = 'on';\n        o.skinwave_enableSpectrum = 'off';\n        // -- might still use it for skin-wave\n\n        if (o.design_skin == 'skin-default') {\n          o.disable_scrub = 'on';\n        }\n        //                    o.disable_scrub = 'on';\n      }\n\n\n      if (selfClass.audioType == 'audio' || selfClass.audioType == 'normal' || selfClass.audioType == '') {\n        selfClass.audioType = 'selfHosted';\n      }\n\n\n      type_normal_stream_type = '';\n\n      // console.log('type - ',type, cthis.attr('data-streamtype'));\n\n\n      if (selfClass.audioType == 'selfHosted') {\n        if (cthis.attr('data-streamtype') && cthis.attr('data-streamtype') != 'off') {\n          type_normal_stream_type = cthis.attr('data-streamtype');\n          data_station_main_url = cthis.attr('data-source');\n          cthis.addClass('is-radio-type');\n\n        } else {\n          type_normal_stream_type = '';\n        }\n      }\n\n      // -- no shoutcast autoupdate at the moment 2 3 4 5 6 7 8\n      if (type_normal_stream_type == 'shoutcast') {\n        // type_normal_stream_type = '';\n\n        // -- todo: we\n      }\n\n\n      // console.log('type_normal_stream_type - ', type_normal_stream_type);\n\n      selfClass.src_real_mp3 = cthis.attr('data-source');\n      if (selfClass.audioType === 'selfHosted') {\n        selfClass.src_real_mp3 = cthis.attr('data-source');\n      }\n\n      //====we disable the function if audioplayer inited\n      if (cthis.hasClass('audioplayer')) {\n        return;\n      }\n      //console.log('ceva');\n\n      if (cthis.attr('id') != undefined) {\n        cthisId = cthis.attr('id');\n      } else {\n        cthisId = 'ap' + dzsap_globalidind++;\n      }\n\n\n      yt_curr_id = 'ytplayer_' + cthisId;\n\n\n      cthis.removeClass('audioplayer-tobe');\n      cthis.addClass('audioplayer');\n\n      draw_scrub_prog();\n\n      setTimeout(function () {\n        draw_scrub_prog()\n      }, 1000);\n\n\n      if (cthis.find('.the-comments').length > 0 && cthis.find('.the-comments').eq(0).children().length > 0) {\n        _commentsChildren = cthis.find('.the-comments').eq(0).children();\n      } else {\n        if (o.skinwave_comments_retrievefromajax == 'on') {\n          var data = {\n            action: 'dzsap_get_comments',\n            postdata: '1',\n            playerid: selfClass.the_player_id\n          };\n\n\n          // -- get comments\n          if (selfClass.urlToAjaxHandler) {\n            $.ajax({\n              type: \"POST\",\n              url: selfClass.urlToAjaxHandler,\n              data: data,\n              success: function (response) {\n                //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n                cthis.prependOnce('<div class=\"the-comments\"></div>', '.the-comments');\n\n                if (response.indexOf('a-comment') > -1) {\n\n                  response = response.replace(/a-comment/g, 'a-comment dzstooltip-con');\n                  response = response.replace(/dzstooltip arrow-bottom/g, 'dzstooltip arrow-from-start transition-slidein arrow-bottom');\n\n                }\n                cthis.find('.the-comments').eq(0).html(response);\n\n                _commentsChildren = cthis.find('.the-comments').eq(0).children();\n\n                setup_controls_commentsHolder({call_from: 'ajax_complete'});\n\n              },\n              error: function (arg) {\n                if (typeof window.console != \"undefined\") {\n                  // console.log('Got this from the server: ' + arg, arg);\n                }\n                ;\n              }\n            });\n          }\n\n        }\n      }\n\n\n      // -- try to get pcm data via ajax\n      // console.log(cthis);\n      if (o.skinwave_wave_mode == 'canvas' && (o.design_skin == 'skin-wave' || cthis.attr('data-fakeplayer'))) {\n        dzsapWaveFunctions.wave_mode_canvas_try_to_get_pcm(selfClass);\n      }\n\n\n      //===ios does not support volume controls so just let it die\n      //====== .. or autoplay FORCE STAFF\n\n\n      if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n        o.autoplay = 'off';\n        o.disable_volume = 'on';\n        if (o.cue == 'off') {\n          o.cue = 'on';\n        }\n        o.cue = 'on';\n      }\n\n\n      // console.log('o.autoplay here - ',o.autoplay, cthis);  22\n\n      if (o.cue == 'off') {\n\n        // -- cue is forcing autoplay on\n        cthis.addClass('cue-off');\n        o.autoplay = 'on';\n      }\n\n      // console.log('o.autoplay here - ',o.autoplay, cthis);\n\n      if (selfClass.audioType == 'youtube') {\n\n        load_yt_api();\n      }\n      selfClass.data_source = cthis.attr('data-source');\n\n\n      //====sound cloud INTEGRATION //\n      if (cthis.attr('data-source') != undefined && String(cthis.attr('data-source')).indexOf('https://soundcloud.com/') > -1) {\n        selfClass.audioType = 'soundcloud';\n      }\n      //console.log(o.type);\n      if (selfClass.audioType == 'soundcloud') {\n        dzsapMisc.retrieve_soundcloud_url(selfClass);\n\n        //                    type='audio';\n      }\n      // -- END soundcloud INTEGRATION//\n\n\n      setup_structure(); //  -- inside init()\n\n      //console.log(cthis, dzsapHelpers.is_ios(), o.type);\n      //trying to access the youtube api with ios did not work\n\n\n      //                console.log(o.design_skin, type, o.skinwave_comments_enable, o.design_skin=='skin-wave' && (type=='audio'||type=='soundcloud') && o.skinwave_comments_enable=='on');\n\n      //console.log(o.design_skin, type, o.skinwave_comments_enable)\n\n      if (o.design_skin == 'skin-wave' && (selfClass.audioType == 'selfHosted' || selfClass.audioType == 'soundcloud' || selfClass.audioType == 'fake') && o.skinwave_comments_enable == 'on') {\n\n        var str_comments_holder = '<div class=\"comments-holder\">';\n\n\n        if (o.skinwave_comments_links_to) {\n\n          str_comments_holder += '<a href=\"' + o.skinwave_comments_links_to + '\" target=\"_blank\" class=\"the-bg\"></a>';\n        } else {\n\n          str_comments_holder += '<div class=\"the-comments-holder-bg\"></div>';\n        }\n\n\n        str_comments_holder += '</div><div class=\"clear\"></div><div class=\"comments-writer\"><div class=\"comments-writer-inner\"><div class=\"setting\"><div class=\"setting-label\"></div><textarea name=\"comment-text\" placeholder=\"Your comment..\" type=\"text\" class=\"comment-input\"></textarea><div class=\"float-right\"><button class=\"submit-ap-comment dzs-button-dzsap float-right\">Submit</button><button class=\"cancel-ap-comment dzs-button-dzsap float-right\">Cancel</button></div><div class=\"overflow-it\"><input placeholder=\"Your email..\" name=\"comment-email\" type=\"text\" class=\"comment-input\"/></div><div class=\"clear\"></div></div></div></div>';\n\n\n        if (selfClass.skinwave_mode == 'normal') {\n          selfClass._apControls.appendOnce(str_comments_holder);\n        } else {\n          selfClass.cthis.appendOnce(str_comments_holder);\n        }\n        selfClass._commentsHolder = cthis.find('.comments-holder').eq(0);\n        _commentsWriter = cthis.find('.comments-writer').eq(0);\n\n\n        setup_controls_commentsHolder({call_from: 'default'});\n\n        // console.log('selfClass._commentsHolder -> ',selfClass._commentsHolder);\n        // selfClass._commentsHolder.on('click', '.the-comments-holder-bg', click_comments_bg);\n        selfClass._commentsHolder.on('click', click_comments_bg);\n        _commentsWriter.find('.cancel-ap-comment').bind('click', click_cancel_comment);\n        _commentsWriter.find('.submit-ap-comment').bind('click', click_submit_comment);\n      }\n\n\n      if (o.settings_extrahtml != '') {\n\n\n        // console.log('_feed_extra_html - ',_feed_extra_html);\n        if (_feed_extra_html) {\n\n\n          // console.log('_feed_extra_html.attr(\\'data-playerid\\') - ' , _feed_extra_html.attr('data-playerid'));\n        }\n        cthis.append('<div class=\"extra-html\">' + o.settings_extrahtml + '</div>');\n\n        _extra_html = cthis.children('extra-html');\n\n\n        if (_feed_extra_html && _feed_extra_html.attr('data-playerid')) {\n          _extra_html = _feed_extra_html.attr('data-playerid');\n        }\n\n\n        if (_feed_extra_html && _feed_extra_html.attr('data-posttype')) {\n          _extra_html = _feed_extra_html.attr('data-posttype');\n        }\n\n\n      }\n\n\n      //console.log();\n\n\n      if (selfClass.audioType == 'selfHosted') {\n\n\n        //                    img = document.createElement('img'); my source\n        //                    img.onerror = function(){\n        //                        return;\n        //                        if(cthis.children('.meta-artist').length>0){\n        //                            selfClass._audioplayerInner.children('.meta-artist').html('audio not found...');\n        //                        }else{\n        //                            selfClass._audioplayerInner.append('<div class=\"meta-artist\">audio not found...</div>');\n        //                            selfClass._audioplayerInner.children('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n        //                        }\n        //                    };\n        //                    img.src= cthis.attr('data-source');\n\n      }\n\n      if (o.autoplay == 'on' && o.cue == 'on') {\n        selfClass.increment_views = 1;\n      }\n\n\n      if (selfClass.audioType == 'selfHosted' && dzsapHelpers.is_ios() && 1 == 0) {\n        if (cthis.height() < 200) {\n          cthis.height(200);\n        }\n        aux = '<iframe width=\"100%\" height=\"100%\" src=\"//www.youtube.com/embed/' + selfClass.data_source + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        cthis.html(aux);\n        return;\n      } else {\n        // -- soundcloud will setupmedia when api done\n\n        // console.log(o.cue, type);\n        if (o.cue == 'on' && selfClass.audioType != 'soundcloud') {\n\n\n          if (dzsapHelpers.is_android() || dzsapHelpers.is_ios()) {\n\n            cthis.find('.playbtn').bind('click', play_media);\n          }\n\n\n          // console.log('source - ',cthis.attr('data-source'), dataSrc);\n\n\n          dataSrc = cthis.attr('data-source');\n\n          if (dataSrc.indexOf('{{generatenonce}}') > -1) {\n\n\n            var original_id = '';\n\n            var aux = /id=(\\d*?)/g.exec(dataSrc);\n\n            if (aux) {\n\n              original_id = aux[1];\n            }\n\n            // -- generate nonce\n            $.ajax({\n              type: \"POST\",\n              url: dataSrc,\n              data: {},\n              success: function (response) {\n                if (response) {\n\n                  if (response.indexOf(original_id) > -1) {\n\n                    cthis.attr('data-source', response);\n\n                    setup_media({'called_from': 'nonce generated'});\n                  }\n                }\n              }\n            })\n            ;\n\n\n          } else {\n\n            // console.log('type_normal_stream_type - ',type_normal_stream_type);\n            if (type_normal_stream_type != 'icecast') {\n              setup_media({'called_from': 'normal setup media .. --- icecast must wait'});\n              if (type_normal_stream_type == 'shoutcast') {\n                // -- we can just set an interval for retrieving shoutcast current artist\n                setInterval(function () {\n                    icecast_shoutcast_get_data()\n                  }\n                  , 10000\n                );\n              }\n            } else {\n              if (type_normal_stream_type == 'icecast') {\n\n\n                // -- if we have icecast we can update currently playing song\n                setInterval(function () {\n                    icecast_shoutcast_get_data()\n                  }\n                  , 10000\n                );\n              }\n            }\n\n          }\n\n\n        } else {\n\n\n          //console.log(' -- cue is of so set autoplay to on')\n          // o.autoplay = 'on';\n          cthis.find('.playbtn').bind('click', click_for_setup_media);\n          cthis.find('.scrubbar').bind('click', click_for_setup_media);\n          handleResize();\n        }\n\n      }\n\n      setInterval(function () {\n        debug_var = true;\n      }, 3000);\n\n      setInterval(function () {\n        debug_var2 = true;\n      }, 2000);\n\n      // -- we call the api functions here\n      //console.log('api sets');\n\n\n      if (cthis.parent().hasClass('dzsap-sticktobottom')) {\n\n        _sticktobottom = cthis.parent();\n\n      }\n      if (cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n\n        _sticktobottom = cthis.parent().parent();\n      }\n\n\n      // console.log('_sticktobottom -> ',_sticktobottom, cthis,cthis.parent().attr('class'),cthis.parent().parent().attr('class'));\n      if (_sticktobottom) {\n        if (cthis.hasClass('theme-dark')) {\n          _sticktobottom.addClass('theme-dark');\n        }\n\n        setTimeout(function () {\n\n          _sticktobottom.addClass('inited');\n        }, 500)\n        _sticktobottom.addClass('dzsap-sticktobottom-for-' + o.design_skin);\n        _sticktobottom.prev().addClass('dzsap-sticktobottom-for-' + o.design_skin);\n\n        if (o.design_skin == 'skin-wave') {\n          _sticktobottom.addClass('dzsap-sticktobottom-for-' + o.design_skin + '--mode-' + selfClass.skinwave_mode)\n          _sticktobottom.prev().addClass('dzsap-sticktobottom-for-' + o.design_skin + '--mode-' + selfClass.skinwave_mode)\n        }\n\n\n        cclass = cthis.attr('class');\n\n\n        var regex = /(skinvariation-.*?)($| )/g\n\n        var aux = regex.exec(cclass);\n\n        // console.log('aux - ',aux);\n\n        if (aux && aux[1]) {\n\n          // console.log(\"YESSS \",aux[1]);\n          _sticktobottom.addClass(aux[1]);\n          _sticktobottom.prev().addClass(aux[1]);\n        }\n      }\n\n      // -- api calls\n\n      cthis.get(0).api_destroy = destroy_it; // -- destroy the player and the listeners\n      cthis.get(0).api_play = play_media; // -- play the media\n      cthis.get(0).api_get_last_vol = get_last_vol; // -- play the media\n      cthis.get(0).api_click_for_setup_media = click_for_setup_media; // -- play the media\n      cthis.get(0).api_init_loaded = init_loaded; // -- force resize event\n      cthis.get(0).api_handleResize = handleResize; // -- force resize event\n      cthis.get(0).api_set_playback_speed = set_playback_speed; // -- set the playback speed, only works for local hosted mp3\n      cthis.get(0).api_change_media = change_media; // -- change the media file from the API\n      cthis.get(0).api_seek_to_perc = seek_to_perc; // -- seek to percentage ( for example seek to 0.5 skips to half of the song )\n      cthis.get(0).api_seek_to = seek_to; // -- seek to percentage ( for example seek to 0.5 skips to half of the song )\n      cthis.get(0).api_seek_to_visual = seek_to_visual; // -- seek to perchange but only visually ( does not actually skip to that ) , good for a fake player\n      cthis.get(0).api_set_volume = set_volume; // -- set a volume\n      cthis.get(0).api_visual_set_volume = visual_set_volume; // -- set a volume\n      cthis.get(0).api_destroy_listeners = destroy_listeners; // -- set a volume\n\n      cthis.get(0).api_pause_media = pause_media; // -- pause the media\n      cthis.get(0).api_pause_media_visual = pause_media_visual; // -- pause the media, but only visually\n      cthis.get(0).api_play_media = play_media; // -- play the media\n      cthis.get(0).api_play_media_visual = play_media_visual; // -- play the media, but only visually\n      cthis.get(0).api_handle_end = handle_end; // -- play the media, but only visually\n      cthis.get(0).api_change_visual_target = change_visual_target; // -- play the media, but only visually\n      cthis.get(0).api_change_design_color_highlight = change_design_color_highlight; // -- play the media, but only visually\n      cthis.get(0).api_draw_scrub_prog = draw_scrub_prog; // -- render the scrub progress\n      cthis.get(0).api_draw_curr_time = draw_curr_time; // -- render the current time\n      cthis.get(0).api_get_times = get_times; // -- refresh the current time\n      cthis.get(0).api_check_time = handleTickChange; // -- do actions required in the current frame\n      cthis.get(0).api_sync_players_goto_next = sync_players_goto_next; // -- in the sync playlist, go to the next song\n      cthis.get(0).api_sync_players_goto_prev = sync_players_goto_prev; // -- in the sync playlist, go to the previous song\n      cthis.get(0).api_regenerate_playerlist_inner = function () {\n        // -- call with window.dzsap_generate_list_for_sync_players({'force_regenerate': true})\n        player_setup_playlist_inner();\n      }; // -- regenerate the playlist innter\n\n\n      // -- get current time\n      cthis.get(0).api_get_time_curr = function () {\n        return time_curr_for_real;\n      };\n      // -- set current time\n      cthis.get(0).api_set_time_curr = function (arg) {\n        time_curr_for_visual = arg;\n\n        curr_time_first_set = true;\n\n\n        if (pseudo_sample_time_start == 0) {\n\n          if (sample_time_start > 0) {\n            time_curr_for_visual = sample_time_start + time_curr_for_visual;\n\n          }\n        }\n\n      };\n      // -- get total time\n      cthis.get(0).api_get_time_total = function () {\n        return time_total_for_visual;\n      };\n      // -- set total time\n      cthis.get(0).api_set_time_total = function (arg) {\n        time_total_for_visual = arg;\n        curr_time_first_set = true;\n      };\n\n\n      cthis.get(0).api_seek_to_0 = function () {\n        seek_to(0);\n      };\n      cthis.get(0).api_step_back = function (arg) {\n\n        if (arg) {\n\n        } else {\n          arg = keyboard_controls.step_back_amount;\n        }\n        seek_to(selfClass.timeCurrent - arg);\n      }\n      cthis.get(0).api_step_forward = function (arg) {\n\n        if (arg) {\n\n        } else {\n          arg = keyboard_controls.step_back_amount;\n        }\n        seek_to(selfClass.timeCurrent + arg);\n      } // --\n      cthis.get(0).api_playback_slow = function (arg) {\n        if (selfClass._cmedia && selfClass._cmedia.playbackRate) {\n          selfClass._cmedia.playbackRate = 0.65;\n        }\n      } // -- slow to 2/3 of the current song\n      cthis.get(0).api_playback_reset = function (arg) {\n        // seek_to(0);\n        if (selfClass._cmedia && selfClass._cmedia.playbackRate) {\n          selfClass._cmedia.playbackRate = 1;\n        }\n      } // -- playback speed to one\n\n\n      cthis.get(0).api_set_action_audio_play = function (arg) {\n        action_audio_play = arg;\n      }; // -- set action on audio play\n      cthis.get(0).api_set_action_audio_pause = function (arg) {\n        action_audio_pause = arg;\n      }; // -- set action on audio pause\n      cthis.get(0).api_set_action_audio_end = function (arg) {\n        action_audio_end = arg;\n        cthis.data('has-action-end', 'on');\n      }; // -- set action on audio end\n      cthis.get(0).api_set_action_audio_comment = function (arg) {\n        selfClass.action_audio_comment = arg;\n      }; // -- set the function to call on audio song comment\n      cthis.get(0).api_try_to_submit_view = try_to_submit_view; // -- try to submit a new play analytic\n\n      //console.log(cthis.get(0));\n\n      //console.log(o);\n      if (o.action_audio_play) {\n        action_audio_play = o.action_audio_play;\n      }\n      ;\n      if (o.action_audio_pause) {\n        action_audio_pause = o.action_audio_pause;\n      }\n      ;\n      if (o.action_audio_play2) {\n        action_audio_play2 = o.action_audio_play2;\n      }\n      ;\n\n      if (o.action_audio_end) {\n        action_audio_end = o.action_audio_end;\n        cthis.data('has-action-end', 'on');\n      }\n\n\n      handleTickChange({\n        'fire_only_once': true\n      });\n\n\n      setInterval(check_every_05_secs, 500);\n\n      //console.log(o.design_skin);\n      if (o.design_skin == 'skin-minimal') {\n        handleTickChange({\n          'fire_only_once': true\n        });\n      }\n\n\n      cthis.on('click', '.dzsap-repeat-button,.dzsap-loop-button,.btn-zoomsounds-download,.zoomsounds-btn-step-backward,.zoomsounds-btn-step-forward,.zoomsounds-btn-go-beginning,.zoomsounds-btn-slow-playback,.zoomsounds-btn-reset, .playlist-menu-item, .tooltip-indicator--btn-footer-playlist', handle_mouse);\n      // cthis.on('mouseover',handle_mouse);\n      cthis.on('mouseenter', handle_mouse);\n      cthis.on('mouseleave', handle_mouse);\n\n\n      //console.log('_conPlayPause - ',_conPlayPause, cthis);\n      _conPlayPause.on('click', click_playpause);\n      //cthis.on('click','.con-playpause', click_playpause);\n\n\n      cthis.on('click', '.skip-15-sec', function () {\n        cthis.get(0).api_step_forward(15);\n      });\n\n\n      $(window).on('resize.dzsap', handleResize);\n      handleResize();\n\n      if (selfClass._scrubbar && selfClass._scrubbar.get(0)) {\n\n        selfClass._scrubbar.get(0).addEventListener('touchstart', function (e) {\n          if (selfClass.player_playing) {\n\n            scrubbar_moving = true;\n          }\n        }, {passive: true})\n      }\n\n\n      if (type_normal_stream_type == 'icecast' || type_normal_stream_type == 'shoutcast') {\n\n\n        icecast_shoutcast_get_data();\n\n      }\n\n      // selfClass._scrubbar.on('touchstart', function(e) {\n      //     if(selfClass.player_playing){\n      //\n      //         scrubbar_moving = true;\n      //     }\n      // }, {passive: true})\n      $(document).on('touchmove', function (e) {\n        if (scrubbar_moving) {\n          scrubbar_moving_x = e.originalEvent.touches[0].pageX;\n\n\n          aux3 = scrubbar_moving_x - selfClass._scrubbar.offset().left;\n\n          if (aux3 < 0) {\n            aux3 = 0;\n          }\n          if (aux3 > selfClass._scrubbar.width()) {\n            aux3 = selfClass._scrubbar.width();\n          }\n\n          seek_to_perc(aux3 / selfClass._scrubbar.width());\n\n\n          return false;\n          //console.log(aux3);\n\n\n        }\n      });\n\n      $(document).on('touchend', function (e) {\n        scrubbar_moving = false;\n      });\n\n\n      // console.log('skinwave_comments_mode_outer_selector - ',o.skinwave_comments_mode_outer_selector);\n\n      if (o.skinwave_comments_mode_outer_selector) {\n        _commentsSelector = $(o.skinwave_comments_mode_outer_selector);\n\n        if (_commentsSelector.data) {\n\n          _commentsSelector.data('parent', cthis);\n\n          if (o.skinwave_comments_account && o.skinwave_comments_account != 'none') {\n            _commentsSelector.find('.comment_email,*[name=comment_user]').remove();\n          }\n\n          _commentsSelector.on('click', '.comments-btn-cancel,.comments-btn-submit', comments_selector_event);\n          _commentsSelector.on('focusin', 'input', comments_selector_event);\n          _commentsSelector.on('focusout', 'input', comments_selector_event);\n\n          // console.log(_commentsSelector, _commentsSelector.find('input'));\n        } else {\n          console.log('%c, data not available .. ', 'color: #990000;', $(o.skinwave_comments_mode_outer_selector));\n        }\n      }\n\n\n      // console.log(\"hmm\",cthis);\n      cthis.off('click', '.btn-like');\n      cthis.on('click', '.btn-like', click_like);\n\n\n      $(document).on('mousemove', '.star-rating-con', mouse_starrating);\n      $(document).on('mouseleave', '.star-rating-con', mouse_starrating);\n      $(document).on('click', '.star-rating-con', mouse_starrating);\n\n      setTimeout(function () {\n\n        handleResize();\n\n\n        if (o.skinwave_wave_mode == 'canvas') {\n\n          calculate_dims_time();\n\n          setTimeout(function () {\n            calculate_dims_time();\n\n\n          }, 100)\n        }\n\n      }, 100)\n\n\n      cthis.find('.btn-menu-state').eq(0).bind('click', click_menu_state);\n\n\n      //console.log('init');\n\n\n      cthis.on('click', '.prev-btn,.next-btn', handle_mouse);\n    }\n\n\n    function settle_sample_times() {\n\n      sample_time_start = 0;\n      sample_time_total = 0;\n      pseudo_sample_time_start = 0;\n      pseudo_sample_time_end = 0;\n\n      if (o.sample_time_start) {\n\n      } else {\n        if (cthis.attr('data-sample_time_start')) {\n          sample_time_start = Number(cthis.attr('data-sample_time_start'));\n        }\n        if (cthis.attr('data-sample_time_end')) {\n          sample_time_end = Number(cthis.attr('data-sample_time_end'));\n        }\n        if (cthis.attr('data-pseudo-sample_time_start')) {\n          pseudo_sample_time_start = Number(cthis.attr('data-pseudo-sample_time_start'));\n        }\n        if (cthis.attr('data-pseudo-sample_time_end')) {\n          pseudo_sample_time_end = Number(cthis.attr('data-pseudo-sample_time_end'));\n        }\n        if (cthis.attr('data-sample_time_total')) {\n          sample_time_total = Number(cthis.attr('data-sample_time_total'));\n        }\n      }\n      // console.log('pseudo_sample_time_start ( from settle_sample_times ) -> ',pseudo_sample_time_start, cthis);\n\n\n      if (isNaN(Number(o.sample_time_start)) == false && Number(o.sample_time_start) > 0) {\n        sample_time_start = Number(o.sample_time_start);\n        if (Number(o.sample_time_end) > 0) {\n          sample_time_end = Number(o.sample_time_end);\n\n          if (Number(o.sample_time_total) > 0) {\n            sample_time_total = Number(o.sample_time_total);\n\n\n            sample_perc_start = sample_time_start / sample_time_total;\n            sample_perc_end = sample_time_end / sample_time_total;\n\n          }\n        }\n      }\n\n      if (pseudo_sample_time_start) {\n        sample_time_start = pseudo_sample_time_start;\n        sample_time_end = pseudo_sample_time_end;\n      }\n\n\n      if ((sample_time_total && sample_time_start) || (pseudo_sample_time_start && pseudo_sample_time_end)) {\n        is_sample = true;\n      } else {\n        is_sample = false;\n      }\n\n    }\n\n    function icecast_shoutcast_get_data() {\n\n\n      var url = cthis.attr('data-source');\n\n      if (type_normal_stream_type == 'shoutcast') {\n\n        url = dzsapHelpers.add_query_arg(selfClass.urlToAjaxHandler, 'action', 'dzsap_shoutcast_get_streamtitle');\n        url = dzsapHelpers.add_query_arg(url, 'source', (dataSrc));\n      }\n\n\n      $.ajax({\n        type: \"GET\",\n        url: url,\n        crossDomain: true,\n        success: function (response) {\n\n          if (response.documentElement && response.documentElement.innerHTML) {\n            response = response.documentElement.innerHTML;\n          }\n\n          // console.log(' response - ',response);\n\n          var regex_title = '';\n          var regex_creator = '';\n          var new_title = '';\n          var new_artist = '';\n\n          if (type_normal_stream_type == 'icecast') {\n\n            var regex_location = /<location>(.*?)<\\/location>/g\n\n            var aux = null;\n            if (aux = regex_location.exec(response)) {\n              // console.log(' aux - ', aux);\n\n              if (aux[1] != selfClass.data_source) {\n                selfClass.data_source = aux[1];\n                setup_media({\n                  'called_from': 'icecast setup'\n                });\n              }\n            }\n          }\n\n          if (radio_update_song_name) {\n\n            if (type_normal_stream_type == 'icecast') {\n              regex_title = /<title>(.*?)<\\/title>/g\n\n              if (aux = regex_title.exec(response)) {\n                new_title = aux[1];\n              }\n            }\n            if (type_normal_stream_type == 'shoutcast') {\n\n              new_title = response;\n            }\n\n          }\n          if (radio_update_artist_name) {\n            if (type_normal_stream_type == 'icecast') {\n\n              regex_creator = /<creator>(.*?)<\\/creator>/g;\n\n              if (aux = regex_creator.exec(response)) {\n                new_artist = aux[1];\n              }\n            }\n            if (type_normal_stream_type == 'shoutcast') {\n            }\n          }\n\n          if (radio_update_song_name) {\n\n            selfClass._metaArtistCon.find('.the-name').html(new_title);\n          }\n          if (radio_update_artist_name) {\n\n            selfClass._metaArtistCon.find('.the-artist').html(new_artist)\n          }\n        },\n        error: function (err) {\n          console.log('error loading icecast - ', err);\n        }\n      });\n    }\n\n\n    function check_every_05_secs() {\n\n\n      // console.log('check_every_05_secs',cthis);\n      if (!cthis) {\n        return false;\n      }\n      if (cthis.hasClass('first-played') == false) {\n\n        if (!(cthis.attr('data-playfrom')) || cthis.attr('data-playfrom') == '0') {\n          time_total_for_real = 0;\n          selfClass.timeTotal = 0;\n          if ($(selfClass._cmedia) && $(selfClass._cmedia).html() && $(selfClass._cmedia).html().indexOf('api.soundcloud.com') > -1) {\n            if (selfClass._cmedia.currentTime != 0) {\n\n              seek_to(0, {\n                'call_from': 'first_played_false'\n              });\n            }\n          }\n        }\n\n      }\n\n\n      if (selfClass.audioType == 'fake' || selfClass._actualPlayer) {\n\n\n        // console.log('curr_time_first_set -> ',curr_time_first_set);\n        if (cthis.hasClass('current-feeder-for-parent-player') == false) {\n          if (time_curr_for_visual) {\n            selfClass.timeCurrent = time_curr_for_visual;\n          }\n        }\n\n        // console.log(time_curr,selfClass._cmedia.currentTime,selfClass._cmedia);\n\n\n        if (selfClass.timeTotal == 0) {\n          if (selfClass._cmedia) {\n            selfClass.timeTotal = selfClass._cmedia.duration;\n            if (inter_audiobuffer_workaround_id == 0) {\n              selfClass.timeCurrent = selfClass._cmedia.currentTime;\n            }\n          }\n        }\n        if (selfClass.timeCurrent == 5) {\n          // selfClass.timeCurrent = 0;\n        }\n\n\n        // console.log(selfClass.timeCurrent);\n        // -- trying to fix some soundcloud wrong reporting\n\n\n        // console.log(selfClass.timeCurrent,cthis.hasClass('first-played'), cthis.attr('data-playfrom'), cthis)\n        real_time_curr = selfClass.timeCurrent;\n        real_time_total = selfClass.timeTotal;\n      }\n\n\n      // -- trying to get current time\n      if (selfClass.audioType == 'youtube') {\n\n\n        time_total_for_real = -1;\n        time_curr_for_real = -1;\n        try {\n          if (selfClass._cmedia && selfClass._cmedia.getDuration) {\n            time_total_for_real = selfClass._cmedia.getDuration();\n            if (selfClass._actualPlayer == null) {\n              time_curr_for_real = selfClass._cmedia.getCurrentTime();\n            }\n          }\n          if (playfrom == 'last' && playfrom_ready) {\n            if (typeof Storage != 'undefined') {\n              localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = time_curr_for_real;\n            }\n          }\n        } catch (err) {\n          console.log('yt error - ', err);\n        }\n      }\n\n\n      if (o.design_skin == 'skin-wave' && o.skinwave_comments_displayontime == 'on') {\n        dzsapHelpers.player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total);\n      }\n    }\n\n    function load_yt_api() {\n\n      // console.error(\"LOAD YT API\");\n\n      if (dzsap_ytapiloaded == false) {\n        var tag = document.createElement('script');\n        tag.src = \"https://www.youtube.com/iframe_api\";\n        var firstScriptTag = document.getElementsByTagName('script')[0];\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        dzsap_ytapiloaded = true;\n      }\n    }\n\n\n    function comments_selector_event(e) {\n      var _t = $(this);\n      var _con = null;\n\n      if (_t.parent().parent().hasClass('zoomsounds-comment-wrapper')) {\n        _con = _t.parent().parent();\n      }\n      if (_t.parent().parent().parent().hasClass('zoomsounds-comment-wrapper')) {\n        _con = _t.parent().parent().parent();\n      }\n      // console.log(_t, e.type);\n      if (e.type == 'focusin') {\n\n        // console.log(_t);\n\n\n        var spx = selfClass.timeCurrent / selfClass.timeTotal * selfClass._commentsHolder.width();\n        spx += 'px';\n        // console.log(spx);\n\n\n        selfClass.commentPositionPerc = selfClass.timeCurrent / selfClass.timeTotal * 100 + '%';\n\n        _con.addClass('active');\n\n        add_comments_placeholder(spx);\n      }\n      if (e.type == 'focusout') {\n\n\n      }\n      if (e.type == 'click') {\n\n        if (_t.hasClass('comments-btn-cancel')) {\n\n          _con.removeClass('active');\n          _con.find('input').val('');\n        }\n        if (_t.hasClass('comments-btn-submit')) {\n\n\n          var comment_email = '';\n\n          if (_con.find('.comment_email').length) {\n            comment_email = _con.find('.comment_email').eq(0).val();\n          }\n\n\n          comment_submit(_con.find('.comment_text').eq(0).val(), comment_email);\n\n\n          _con.removeClass('active');\n          _con.find('input').val('');\n\n\n          return false;\n        }\n\n\n      }\n    }\n\n\n    function calculate_dims_time() {\n      var reflection_size = parseFloat(o.skinwave_wave_mode_canvas_reflection_size);\n\n\n      reflection_size = 1 - reflection_size;\n\n\n      var scrubbarh = selfClass._scrubbar.height();\n\n      if (o.design_skin == 'skin-wave') {\n\n\n        // console.log('selfClass.skinwave_mode - ',selfClass.skinwave_mode);\n        if (selfClass.skinwave_mode == 'small') {\n          scrubbarh = 60;\n        }\n\n        if (selfClass._commentsHolder) {\n\n          if (reflection_size == 0) {\n\n            // console.log(selfClass._scrubbar.offset().top - cthis.offset().top + scrubbarh *reflection_size - selfClass._commentsHolder.height())\n\n            selfClass._commentsHolder.css('top', selfClass._scrubbar.offset().top - cthis.offset().top + scrubbarh * reflection_size - selfClass._commentsHolder.height());\n          } else {\n\n\n            selfClass._commentsHolder.css('top', selfClass._scrubbar.offset().top - selfClass._scrubbar.parent().offset().top + scrubbarh * reflection_size);\n            _commentsWriter.css('top', selfClass._scrubbar.offset().top - selfClass._scrubbar.parent().offset().top + scrubbarh * reflection_size);\n          }\n        }\n\n        if (_currTime) {\n\n\n          _currTime.css('top', scrubbarh * reflection_size - _currTime.outerHeight());\n        }\n        if (_totalTime) {\n\n          _totalTime.css('top', scrubbarh * reflection_size - _totalTime.outerHeight());\n        }\n      }\n\n      //console.log('reflection_size - ',reflection_size);\n\n      cthis.attr('data-reflection-size', reflection_size);\n    }\n\n\n    function change_visual_target(arg, pargs) {\n      // -- change the visual target, the main is the main palyer selfClass.player_playing and the visual target is the player which is a visual representation of this\n\n      console.log('change_visual_target() - ', arg);\n\n      var margs = {}\n\n\n      // return false;\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      if (selfClass._sourcePlayer && selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n        selfClass._sourcePlayer.get(0).api_pause_media_visual({\n          'call_from': 'change_visual_target'\n        });\n      }\n      selfClass._sourcePlayer = arg;\n\n\n      console.log('new selfClass._sourcePlayer -  ', selfClass._sourcePlayer);\n\n      var __c = selfClass._sourcePlayer.get(0);\n      if (selfClass.player_playing) {\n        if (selfClass._sourcePlayer && __c && __c.api_play_media_visual) {\n          __c.api_play_media_visual();\n        }\n      }\n\n      if (__c && __c.api_draw_curr_time) {\n\n\n        __c.api_set_time_curr(selfClass.timeCurrent);\n        __c.api_get_times({\n          'call_from': ' change visual target .. in api '\n        });\n        __c.api_check_time({\n          'fire_only_once': true\n        });\n        __c.api_draw_curr_time();\n        __c.api_draw_scrub_prog();\n      }\n\n      setTimeout(function () {\n\n        // console.log('__c.api_draw_curr_time - ',__c.api_draw_curr_time);\n        if (__c && __c.api_draw_curr_time) {\n          __c.api_get_times();\n          __c.api_check_time({\n            'fire_only_once': true\n          });\n          __c.api_draw_curr_time();\n          __c.api_draw_scrub_prog();\n        }\n      }, 800);\n\n    }\n\n    function change_design_color_highlight(arg) {\n      // -- change the visual target, the main is the main palyer selfClass.player_playing and the visual target is the player which is a visual representation of this\n\n      //console.log(arg);\n\n      o.design_wave_color_progress = arg;\n      if (o.skinwave_wave_mode == 'canvas') {\n        dzsapHelpers.draw_canvas(selfClass._scrubbarbg_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_bg, {\n          call_from: 'canvas_change_pcm_bg',\n          selfClass,\n          'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n          'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n        });\n        dzsapHelpers.draw_canvas(selfClass._scrubbarprog_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_progress, {\n          call_from: 'canvas_change_pcm_prog',\n          selfClass,\n          'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n          'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n        });\n      }\n\n    }\n\n\n    /**\n     * change media source for the player / change_media(\"song.mp3\", {type:\"audio\", fakeplayer_is_feeder:\"off\"});\n     * @param _argSource - can be player dom element\n     * @param pargs - {type:\"audio\", fakeplayer_is_feeder:\"off\"}\n     * @returns {boolean}\n     */\n    function change_media(_argSource, pargs = {}) {\n\n\n      var changeMediaArgsDefaults = {\n        type: '',\n        fakeplayer_is_feeder: 'off' // -- this is OFF in case there is a button feeding it, and on if it's an actual player\n        , call_from: 'default'\n        , source: 'default'\n        , pcm: ''\n        , artist: \"\"\n        , song_name: \"\"\n        , thumb: \"\"\n        , thumb_link: \"\"\n        , autoplay: \"on\"\n        , cue: \"on\"\n        , feeder_type: \"player\"\n        , source_player_do_not_update: \"off\"\n        , watermark: \"\"\n        , watermark_volume: \"\"\n        , playerid: \"\"\n      };\n\n\n      selfClass.ajax_view_submitted = 'on'; // -- view submitted from caller\n\n      // console.log('%c change_media() -','background-color: #444; color: #dd5555;');\n      // console.log('margs initial -> ',Object.assign({},margs));\n      // console.log('pargs initial -> ',Object.assign({},pargs));\n      var handle_resize_delay = 500;\n      var changeMediaArgs = Object.assign(changeMediaArgsDefaults, pargs);\n      // margs = Object.assign(margs, pargs);\n      // console.log(\"_argSource -\",_argSource,'changeMediaArgs - ',Object.assign({},changeMediaArgs), 'pargs -5 ', Object.assign({},pargs));\n\n      var _sourceForChange = _argSource;\n\n      media_changed_index++;\n\n\n      var isSourceAStringSource = false;\n\n      $('.current-feeder-for-parent-player').removeClass('current-feeder-for-parent-player');\n      //console.log('change_media', \"margs - \", margs, cthis, selfClass._sourcePlayer, arg);\n\n      if (typeof _sourceForChange == 'string') {\n        isSourceAStringSource = true;\n      }\n\n\n      // -- let us decide if we pause old player\n      var sw_pause_old_player = true;\n\n      if (!isSourceAStringSource && cthis.attr('data-source') == _sourceForChange.attr('data-source')) {\n        sw_pause_old_player = false;\n      }\n      if (isSourceAStringSource && cthis.attr('data-source') == _sourceForChange) {\n        sw_pause_old_player = false;\n      }\n\n      // -- old feed fake player\n\n      if (sw_pause_old_player && selfClass._sourcePlayer) {\n        selfClass._sourcePlayer.get(0).api_pause_media_visual({\n          'call_from': 'change_media'\n        });\n      }\n\n      // -- we are in one mode, so we need to preserve the originalSettings of the first item\n      if (!(selfClass.cthis.data('original-settings')) && selfClass.data_source != 'fake') {\n        selfClass.cthis.data('original-settings', dzsapHelpers.sanitizeObjectForChangeMediaArgs(selfClass.cthis))\n      }\n\n\n      if (!isSourceAStringSource) {\n        changeMediaArgs = dzsapHelpers.sanitizeObjectForChangeMediaArgs(_sourceForChange);\n      }\n\n      selfClass.data_source = changeMediaArgs.source;\n\n      const isSourceHasClassForDomSource = isSourceAStringSource == false && !!(!!_sourceForChange.hasClass('audioplayer') === true || _sourceForChange.hasClass('is-zoomsounds-source-player'));\n\n\n      if ((isSourceHasClassForDomSource) || changeMediaArgs.fakeplayer_is_feeder == 'on') {\n        selfClass._sourcePlayer = _sourceForChange;\n\n        selfClass.cthis.data('feeding-from', selfClass._sourcePlayer.get(0));\n        selfClass._sourcePlayer.addClass('current-feeder-for-parent-player');\n\n\n        // console.log(\"selfClass._sourcePlayer.find('.meta-artist') -> \",selfClass._sourcePlayer.find('.meta-artist'));\n\n\n        if (selfClass._sourcePlayer.attr('data-sample_time_start')) {\n          selfClass.cthis.attr('data-sample_time_start', _sourceForChange.attr('data-sample_time_start'));\n        } else {\n          selfClass.cthis.attr('data-sample_time_start', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-sample_time_end')) {\n          cthis.attr('data-sample_time_end', _sourceForChange.attr('data-sample_time_end'));\n        } else {\n          cthis.attr('data-sample_time_end', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-pseudo-sample_time_start')) {\n          cthis.attr('data-pseudo-sample_time_start', selfClass._sourcePlayer.attr('data-pseudo-sample_time_start'));\n        } else {\n          cthis.attr('data-pseudo-sample_time_start', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-pseudo-sample_time_end')) {\n          cthis.attr('data-pseudo-sample_time_end', selfClass._sourcePlayer.attr('data-pseudo-sample_time_end'));\n        } else {\n          cthis.attr('data-pseudo-sample_time_end', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-sample_time_total')) {\n          cthis.attr('data-sample_time_total', _sourceForChange.attr('data-sample_time_total'));\n        } else {\n          cthis.attr('data-sample_time_total', '');\n        }\n      }\n\n      if (!isSourceAStringSource && _sourceForChange) {\n        if (_sourceForChange.attr('data-playerid')) {\n          cthis.attr('data-feed-playerid', _sourceForChange.attr('data-playerid'));\n        } else {\n          cthis.attr('data-feed-playerid', '');\n          changeMediaArgs.playerid = '';\n        }\n      }\n\n\n      // console.log('change_media', \"changeMediaArgs - \", changeMediaArgs);\n\n\n      // console.log('change_media() - ');\n      // --- if the media is the same DON'T CHANGE IT\n      if (selfClass._sourcePlayer && changeMediaArgsDefaults.source_player_do_not_update !== 'on') {\n        // console.error(cthis.attr('data-source'), arg.attr('data-source'));\n        if (cthis.attr('data-source') == _sourceForChange.attr('data-source')) {\n          return false;\n        }\n      } else {\n        if (cthis.attr('data-source') == _sourceForChange) {\n          return false;\n        }\n\n      }\n\n\n      if (changeMediaArgs.type == 'detect' || changeMediaArgs.type == 'audio' || changeMediaArgs.type == 'normal') {\n        changeMediaArgs.type = 'selfHosted';\n      }\n      if (changeMediaArgs.type == 'youtube') {\n\n        var ytid = 'ytplayer_' + cthisId;\n\n        if (media_changed_index) {\n          ytid += media_changed_index;\n        }\n      }\n\n\n      // console.log('changeMediaArgs here -2 ',Object.assign({},changeMediaArgs), isSourceAStringSource);\n\n      // console.log('change_media() changeMediaArgs - ',changeMediaArgs);\n      cthis.removeClass('meta-loaded');\n\n      // console.log('change_media()',arg,changeMediaArgs, cthis);\n\n      // -- footer placeholder\n      if (cthis.parent().hasClass('audioplayer-was-loaded')) {\n\n        cthis.parent().addClass('audioplayer-loaded');\n        $('body').addClass('footer-audioplayer-loaded');\n        cthis.parent().removeClass('audioplayer-was-loaded');\n      }\n\n      if (_sticktobottom) {\n        _sticktobottom.addClass('audioplayer-loaded');\n      }\n\n\n      cthis.removeClass('errored-out');\n\n\n      destroy_media();\n\n\n      //console.log(cthis);\n\n\n      cthis.attr('data-source', changeMediaArgs.source);\n      cthis.attr('data-soft-watermark', changeMediaArgs.watermark);\n\n\n      if (changeMediaArgs.watermark_volume) {\n        o.watermark_volume = changeMediaArgs.watermark_volume;\n      } else {\n\n        o.watermark_volume = 1;\n      }\n\n\n      //console.log('o.watermark_volume - ',o.watermark_volume);\n\n\n      var original_type = changeMediaArgs.type;\n      if (changeMediaArgs.type == 'mediafile') {\n        changeMediaArgs.type = 'audio';\n      }\n      if (changeMediaArgs.type) {\n        if (changeMediaArgs.type == 'soundcloud') {\n          changeMediaArgs.type = 'audio';\n        }\n        if (changeMediaArgs.type == 'album_part') {\n          changeMediaArgs.type = 'audio';\n        }\n        cthis.attr('data-type', changeMediaArgs.type);\n        selfClass.audioType = changeMediaArgs.type;\n        o.type = changeMediaArgs.type;\n      }\n\n      selfClass.playerIsLoaded = false;\n\n\n      if (o.design_skin == 'skin-wave') {\n        if (o.skinwave_wave_mode == 'canvas') {\n          if (selfClass._sourcePlayer) {\n            selfClass.src_real_mp3 = _sourceForChange.attr('data-source');\n          } else {\n            selfClass.src_real_mp3 = _sourceForChange;\n          }\n\n          if (_sourceForChange && changeMediaArgs.pcm) {\n\n            cthis.attr('data-pcm', _sourceForChange.attr('data-pcm'));\n            dzsapWaveFunctions.scrubModeWave__transitionIn(selfClass, _sourceForChange.attr('data-pcm'));\n          } else {\n\n            dzsapWaveFunctions.scrubModeWave__initGenerateWaveData(selfClass, {\n              'call_from': 'change_media() regenerate_canvas_from_change_media'\n            });\n          }\n\n\n          if (changeMediaArgs.pcm != '') {\n\n            dzsapWaveFunctions.scrubModeWave__transitionIn(selfClass, changeMediaArgs.pcm);\n            cthis.attr('data-pcm', changeMediaArgs.pcm);\n          } else {\n            selfClass._scrubbar.addClass('fast-animate-scrubbar');\n\n            cthis.removeClass('scrubbar-loaded');\n            setTimeout(function () {\n            }, 10)\n            setTimeout(function () {\n              cthis.removeClass('fast-animate-scrubbar');\n\n\n              // -- we have no new pcm data\n              selfClass.isRealPcm = false;\n\n              cthis.attr('data-pcm', '');\n\n              dzsapWaveFunctions.wave_mode_canvas_try_to_get_pcm(selfClass);\n              dzsapWaveFunctions.scrubModeWave__initGenerateWaveData(selfClass, {\n                'call_from': 'regenerate_canvas_from_change_media - generate data for new'\n              });\n\n            }, 120);\n\n\n          }\n\n\n        }\n\n\n        // console.log(' artist - ',changeMediaArgs.artist, cthis.find('.the-artist'), changeMediaArgs)\n\n\n        // -- inside skin-wave\n        if (changeMediaArgs.thumb) {\n\n          if (cthis.find('.the-thumb').length) {\n\n            cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n          } else {\n            cthis.attr('data-thumb', changeMediaArgs.thumb);\n            struct_generate_thumb();\n          }\n\n        }\n      }\n\n\n      if (changeMediaArgs.thumb) {\n\n        if (cthis.find('.the-thumb').length) {\n\n          cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n        } else {\n          cthis.attr('data-thumb', changeMediaArgs.thumb);\n          struct_generate_thumb();\n        }\n\n        cthis.removeClass('does-not-have-thumb');\n        cthis.addClass('has-thumb');\n      } else {\n        cthis.addClass('does-not-have-thumb');\n        cthis.removeClass('has-thumb');\n      }\n\n\n      if (changeMediaArgs.pcm == '') {\n        setup_pcm_random_for_now();\n      }\n\n      // console.log('%c selfClass._sourcePlayer.attr(\\'data-playerid\\') - ','color: #da00ff;',selfClass._sourcePlayer.attr('data-playerid'), cthis);\n\n\n      if (selfClass._sourcePlayer) {\n\n        if (selfClass._sourcePlayer.attr('data-playerid')) {\n          selfClass.identifier_pcm = selfClass._sourcePlayer.attr('data-playerid');\n        } else {\n\n          if (selfClass._sourcePlayer.attr('data-source')) {\n            selfClass.identifier_pcm = selfClass._sourcePlayer.attr('data-source');\n          }\n        }\n      }\n      // console.log('%c selfClass.identifier_pcm - ','color: #da00ff;',selfClass.identifier_pcm);\n\n\n      if (_playlistTooltip) {\n        var ind = 0;\n        var _cach = _playlistTooltip.children('.dzstooltip--inner');\n        _cach.children().removeClass('current-playlist-item');\n        _cach.children().each(function () {\n          var _t = $(this);\n\n          // console.log('_t - ',_t);\n\n          if (_t.attr('data-playerid') == changeMediaArgs.playerid) {\n            _t.addClass('current-playlist-item');\n            playlist_inner_currNr = ind;\n          }\n        })\n      }\n\n\n      handle_resize_delay = 100;\n      if (selfClass._sourcePlayer && _sourceForChange.find('.meta-artist').eq(0).html()) {\n\n      }\n\n      if (selfClass._sourcePlayer) {\n\n        // console.log('let us check selfClass._sourcePlayer for feed-dzsap-for-extra-html-rigth - ',selfClass._sourcePlayer, selfClass._sourcePlayer.find('.feed-dzsap-for-extra-html-right'));\n        // -- .feed-dzsap-for-extra-html-right will be appended to the footer player\n\n        var selector = '';\n        var _el = null;\n        if (selfClass._sourcePlayer.find('.feed-dzsap-for-extra-html-right').length) {\n          _el = selfClass._sourcePlayer.find('.feed-dzsap-for-extra-html-right').eq(0);\n        } else {\n          // -- we use this for Shop Builder\n          if (selfClass._sourcePlayer.attr('data-playerid') && $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').length) {\n            _el = $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').eq(0);\n\n          }\n        }\n        if (_el) {\n          cthis.find('.extrahtml-in-float-right').eq(0).html(_el.html());\n        }\n      }\n\n      if (changeMediaArgs.artist) {\n\n\n        cthis.find('.the-artist').html(changeMediaArgs.artist);\n\n      }\n      if (changeMediaArgs.song_name) {\n\n        cthis.find('.the-name').html(changeMediaArgs.song_name);\n\n      }\n\n\n      if (changeMediaArgsDefaults.source_player_do_not_update == 'on') {\n        selfClass._sourcePlayer = null;\n      }\n\n\n      // console.error('changeMediaArgs.source - ',changeMediaArgs.source,changeMediaArgs.type, type);\n      if (original_type === 'soundcloud' && changeMediaArgs.source.indexOf('api.soundcloud') == -1) {\n        selfClass.data_source = changeMediaArgs.source;\n        console.log(\"RETRIEVE SOUNDCLOUD URL\");\n        selfClass.isPlayPromised = true;\n        setTimeout(function () {\n          selfClass.isPlayPromised = true;\n        }, 501);\n        dzsapMisc.retrieve_soundcloud_url(selfClass);\n\n      } else {\n\n        // -- setup media for all sources\n        // -- make sure source is not fake\n        setup_media({\n          'called_from': 'change_media'\n        });\n      }\n\n\n      settle_sample_times();\n\n      if (last_vol) {\n\n        set_volume(last_vol, {\n          call_from: \"change_media\"\n        });\n      }\n\n\n      if (selfClass.audioType == 'fake') {\n        return false;\n\n      }\n\n      if (o.action_audio_change_media) {\n        o.action_audio_change_media(changeMediaArgs.source, changeMediaArgs);\n      }\n\n\n      //console.log(\"IS MOBILE - \",dzsapHelpers.dzsap_is_mobile());\n      // console.log('%c before autoplay changeMediaArgs - ','color: #dadada;',changeMediaArgs, dzsapHelpers.dzsap_is_mobile());\n\n      if (changeMediaArgs.autoplay == 'on' && dzsapHelpers.dzsap_is_mobile() == false) {\n        play_media_visual();\n\n        setTimeout(function () {\n\n          play_media({\n            'call_from': 'changeMediaArgs.autoplay'\n          });\n        }, 500);\n      }\n      setTimeout(function () {\n\n        handleResize();\n      }, handle_resize_delay)\n    }\n\n\n    function destroy_listeners() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n\n      sw_suspend_enter_frame = true;\n\n    }\n\n    function destroy_it() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n      if (selfClass.player_playing) {\n        pause_media();\n      }\n\n\n      $(window).off('resize.dzsap');\n\n      cthis.remove();\n      cthis = null;\n\n      destroyed = true;\n    }\n\n    function click_for_setup_media(e, pargs) {\n      // console.log('click_for_setup_media', cthis, pargs);\n\n      //console.log(e.target);\n      //cthis.unbind('click', click_for_setup_media);\n\n\n      var margs = {\n\n        'do_not_autoplay': false\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      cthis.find('.playbtn').unbind('click', click_for_setup_media);\n      cthis.find('.scrubbar').unbind('click', click_for_setup_media);\n\n      setup_media(margs);\n\n\n      if (dzsapHelpers.is_android() || dzsapHelpers.is_ios()) {\n\n        play_media({\n          'call_from': 'click_for_setup_media'\n        });\n      }\n    }\n\n    function blur_ap() {\n      //console.log('ceva');\n      hide_comments_writer();\n    }\n\n    function click_menu_state(e) {\n\n      if (o.parentgallery && typeof (o.parentgallery.get(0)) != \"undefined\") {\n        o.parentgallery.get(0).api_toggle_menu_state();\n      }\n    }\n\n    function click_comments_bg(e) {\n\n      // console.log('click_comments_bg() --- ');\n      var _t = $(this);\n      var lmx = parseInt(e.clientX, 10) - _t.offset().left;\n      selfClass.commentPositionPerc = (lmx / _t.width()) * 100 + '%';\n\n\n      if (o.skinwave_comments_links_to) {\n        return;\n      }\n\n      if (o.skinwave_comments_allow_post_if_not_logged_in == 'off' && o.skinwave_comments_account == 'none') {\n\n        return false;\n      }\n\n      var sw = true;\n\n      selfClass._commentsHolder.children().each(function () {\n        var _t2 = $(this);\n        //console.log(_t2);\n\n        if (_t2.hasClass('placeholder') || _t2.hasClass('the-bg')) {\n          return;\n        }\n\n        var lmx2 = _t2.offset().left - _t.offset().left;\n\n        //console.log(lmx2, Math.abs(lmx2-lmx));\n\n        if (Math.abs(lmx2 - lmx) < 20) {\n          selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n          sw = false;\n\n          return false;\n        }\n      })\n\n\n      if (!sw) {\n        return false;\n      }\n\n      var comments_offset = selfClass._commentsHolder.offset().left - cthis.offset().left;\n\n\n      var aux3 = lmx + comments_offset - (_commentsWriter.width() / 2) + 7;\n\n      var aux4 = -1;\n\n      if (aux3 < comments_offset) {\n        aux4 = aux3 + 32;\n        aux3 = comments_offset;\n\n        // console.error(aux4);\n\n\n        cthis.append('<style class=\"comments-writter-temp-css\">.audioplayer.skin-wave .comments-writer .comments-writer-inner:before{ left:' + aux4 + 'px  }</style>');\n\n      } else {\n\n        if (aux3 > tw - comments_offset - (_commentsWriter.width() / 2)) {\n          aux4 = lmx - (_commentsWriter.offset().left - cthis.offset().left) + (_commentsWriter.width() / 3);\n          aux3 = tw - comments_offset - (_commentsWriter.width() / 2);\n\n          // console.error(lmx, _commentsWriter.offset().left - cthis.offset().left,  aux4);\n\n\n          cthis.append('<style class=\"comments-writter-temp-css\">.audioplayer.skin-wave .comments-writer .comments-writer-inner:before{ left:' + aux4 + 'px  }</style>');\n\n        } else {\n\n          cthis.find('.comments-writter-temp-css').remove();\n        }\n      }\n\n\n      _commentsWriter.css('left', (aux3) + 'px')\n\n\n      _commentsWriter.css({\n        'left': '50%'\n        , 'top': '80px'\n        , 'transform': 'translate3d(-50%,0,0)'\n        , 'width': '100%'\n      })\n\n\n      // console.log('parseInt(selfClass._commentsHolder.css(\\'top\\'),10) + \\'px\\' -5 ', parseInt(selfClass._commentsHolder.css('top'),10) + 'px');\n      _commentsWriter.css('top', ((parseInt(selfClass._commentsHolder.css('top'), 10) + 20) + 'px'))\n\n\n      if (_commentsWriter.hasClass('active') == false) {\n        _commentsWriter.css({\n          'height': _commentsWriter.find('.comments-writer-inner').eq(0).outerHeight() + 20\n        });\n\n\n        _commentsWriter.addClass('active');\n\n        cthis.addClass('comments-writer-active');\n\n        if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_handleResize != undefined) {\n          $(o.parentgallery).get(0).api_handleResize();\n        }\n      }\n\n      if (o.skinwave_comments_account != 'none') {\n        cthis.find('input[name=comment-email]').remove();\n      }\n\n\n      add_comments_placeholder();\n\n      //cthis.unbind('focusout', blur_ap);\n      //cthis.bind('blur', blur_ap);\n    }\n\n\n    function add_comments_placeholder() {\n\n\n      selfClass._commentsHolder.remove('.dzsap-style-comments');\n      selfClass._commentsHolder.append('<style class=\"dzsap-style-comments\">.dzstooltip-con:not(.placeholder) { opacity: 0.5; }</style>')\n      selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n      selfClass._commentsHolder.append('<span class=\"dzstooltip-con placeholder\" style=\"left:' + selfClass.commentPositionPerc + ';\"><div class=\"the-avatar\" style=\"background-image: url(' + o.skinwave_comments_avatar + ')\"></div></span>');\n    }\n\n    function click_cancel_comment(e) {\n      hide_comments_writer();\n    }\n\n\n    function comment_submit(comment_text, comment_email, comment_username) {\n      var comm_author = '';\n      if (comment_email) {\n        var regex_mail = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        if (regex_mail.test(comment_email) == false) {\n          alert('please insert email, your email is just used for gravatar. it will not be sent or stored anywhere');\n          return false;\n        }\n\n        comm_author = String(comment_email).split('@')[0];\n        o.skinwave_comments_account = comm_author;\n        //console.log(comm_author);\n\n\n        if (_commentsSelector) {\n\n          _commentsSelector.find('*[name=comment_email],*[name=comment_user]').remove();\n        }\n\n\n        o.skinwave_comments_avatar = 'https://secure.gravatar.com/avatar/' + dzsapHelpers.MD5(String(cthis.find('input[name=comment-email]').eq(0).val()).toLowerCase()) + '?s=20';\n      } else {\n\n      }\n\n\n      console.log('comment_submit() - ', comment_text, comment_email);\n\n      // return false;\n\n      comm_author = o.skinwave_comments_account;\n\n      var aux = '';\n\n\n      if (o.skinwave_comments_process_in_php != 'on') {\n\n        // -- process the comment now, in javascript\n\n        aux += '<span class=\"dzstooltip-con zoomsounds-comment\" style=\"left:' + selfClass.commentPositionPerc + '\"><div class=\"the-avatar tooltip-indicator\" style=\"background-image: url(' + o.skinwave_comments_avatar + ')\"></div><span class=\"dzstooltip arrow-bottom style-rounded color-dark-light talign-start  transition-slidein arrow-bottom \" style=\"width: 250px;\"><span class=\"dzstooltip--inner\"><span class=\"the-comment-author\">@' + comm_author + '</span> says:<br>';\n        aux += dzsapHelpers.htmlEncode(comment_text);\n\n\n        aux += '</span></span></span>';\n      } else {\n\n\n        // -- process php\n\n        aux += comment_text;\n      }\n\n\n      cthis.find('*[name=comment-text]').eq(0).val('');\n\n\n      cthis.find('.comments-writter-temp-css,.dzsap-style-comments').remove();\n\n\n      (dzsapAjax.ajax_comment_publish.bind(selfClass))(aux);\n\n      hide_comments_writer();\n\n      if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_commentSubmitted != undefined) {\n        $(o.parentgallery).get(0).api_player_commentSubmitted();\n      }\n\n    }\n\n    function click_submit_comment(e) {\n\n      var comment_email = '';\n\n      if (cthis.find('input[name=comment-email]').length) {\n        comment_email = cthis.find('input[name=comment-email]').eq(0).val();\n      }\n\n\n      comment_submit(cthis.find('*[name=comment-text]').eq(0).val(), comment_email);\n\n\n      return false;\n    }\n\n    function hide_comments_writer() {\n\n      //console.log(_commentsWriter);\n      cthis.removeClass('comments-writer-active');\n      selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n      _commentsWriter.removeClass('active');\n      _commentsWriter.css({\n        'height': 0\n      })\n\n\n      if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_handleResize != undefined) {\n        $(o.parentgallery).get(0).api_handleResize();\n      }\n\n      setTimeout(function () {\n\n        cthis.find('.comments-writter-temp-css,.dzsap-style-comments').remove();\n      }, 300);\n      //cthis.unbind('focusout', blur_ap);\n    }\n\n    function youtube_checkReady(argid) {\n      //console.log(loaded);\n\n\n      // console.log('check_yt_ready()', loaded, window.YT, cthis);\n      if (selfClass.playerIsLoaded == true) {\n        return;\n      }\n      // console.log('yt inited');\n      //var player;\n\n      if (argid) {\n\n      } else {\n        argid = yt_curr_id;\n      }\n\n      if (_theMedia.children().length == 0) {\n        _theMedia.append('<div id=\"' + argid + '\"></div>');\n      }\n\n      // console.log('argid - ', argid, $(argid), Object.assign({}, $(argid)));\n      selfClass._cmedia = new YT.Player(argid + '', {\n        height: '200',\n        width: '200',\n        videoId: cthis.attr('data-source'),\n        playerVars: {\n          origin: ''\n          ,\n          controls: 1,\n          'showinfo': 0,\n          'playsinline': 1,\n          rel: 0,\n          autohide: 0,\n          wmode: 'transparent',\n          iv_load_policy: '3'\n        },\n        events: {\n          'onReady': check_yt_ready_phase_two,\n          'onStateChange': change_yt_state\n        }\n      });\n      cthis.addClass('yt-inited');\n\n      yt_inited = true;\n\n\n      return false;\n      //init_loaded();\n    }\n\n    function check_yt_ready_phase_two(arg) {\n\n      // console.log('check_yt_ready_phase_two', arg);\n\n\n      // console.log('selfClass._cmedia - ', Object.assign({},selfClass._cmedia), selfClass._cmedia.getPlayerState, cthis);\n\n      if (yt_inited == false) {\n        youtube_checkReady(yt_curr_id);\n        setTimeout(function () {\n          check_yt_ready_phase_two(arg)\n        }, 1000);\n      } else {\n        if (selfClass._cmedia) {\n          // --  && selfClass._cmedia.getPlayerState\n          init_loaded({\n            'call_from': 'check_yt_ready_phase_two'\n          });\n\n          if (selfClass.youtube_retryPlayTimeout) {\n            // console.log('try to play ')\n            setTimeout(function () {\n              play_media({\n                'call_from': 'check_yt_ready_phase_two'\n              });\n            }, 500);\n          }\n        } else {\n          setTimeout(function () {\n            check_yt_ready_phase_two(arg)\n          }, 1000);\n        }\n\n      }\n    }\n\n    function change_yt_state(arg) {\n      // console.log('change_yt_state - ', arg);\n\n      if (arg.data == 4) {\n\n      }\n      if (arg.data == 2) {\n\n        pause_media({\n          'call_from': 'youtube paused'\n        });\n      }\n      if (arg.data == 1) {\n\n        play_media({\n          'call_from': 'youtube playing'\n        });\n        cthis.addClass('dzsap-loaded');\n      }\n      if (arg.data == -1) {\n\n        // console.log('selfClass.player_playing - ',selfClass.player_playing);\n\n        if (selfClass.player_playing) {\n          seek_to(0);\n        }\n      }\n    }\n\n    function check_ready(pargs) {\n      // console.log('check_ready()', cthis, selfClass._cmedia, selfClass._cmedia.readyState);\n      //=== do a little ready checking\n\n\n      var margs = {\n\n        'do_not_autoplay': false\n      };\n\n      if (selfClass._actualPlayer && dzsapHelpers.is_ios()) {\n        return false;\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log(selfClass._cmedia.readyState);\n      if (selfClass.audioType == 'youtube') {\n\n        init_loaded(margs);\n      } else {\n        if (typeof (selfClass._cmedia) != 'undefined' && selfClass._cmedia) {\n\n\n          //                        return false;\n          if (selfClass._cmedia.nodeName != \"AUDIO\" || o.type == 'shoutcast') {\n            init_loaded(margs);\n          } else {\n            if (is_safari()) {\n\n              if (selfClass._cmedia.readyState >= 1) {\n                //console.log(\"CALL INIT LOADED FROM \",selfClass._cmedia.readyState);\n\n                if (selfClass.playerIsLoaded == false) {\n                }\n\n                init_loaded(margs);\n                clearInterval(inter_checkReady);\n\n                if (o.action_audio_loaded_metadata) {\n                  o.action_audio_loaded_metadata(cthis);\n                }\n              }\n            } else {\n              if (selfClass._cmedia.readyState >= 2) {\n                //console.log(\"CALL INIT LOADED FROM \",selfClass._cmedia.readyState);\n                if (selfClass.playerIsLoaded == false) {\n                }\n                init_loaded(margs);\n                clearInterval(inter_checkReady);\n\n                // console.log(selfClass._cmedia.duration);\n\n\n                // console.log(o.action_audio_loaded_metadata)\n                if (o.action_audio_loaded_metadata) {\n                  o.action_audio_loaded_metadata(cthis);\n                }\n              }\n            }\n\n          }\n        }\n\n      }\n\n    }\n\n    function scrubbar_reveal() {\n      setTimeout(function () {\n        if (cthis) {\n          cthis.addClass('scrubbar-loaded');\n        }\n      }, 1000);\n    }\n\n\n    function struct_generate_thumb() {\n\n      // return false;\n\n\n      var str_thumbh = \"\";\n      if (design_thumbh != '') {\n        str_thumbh = ' height:' + o.design_thumbh + 'px;';\n      }\n      if (cthis.attr('data-thumb')) {\n\n\n        cthis.addClass('has-thumb');\n        var aux_thumb_con_str = '';\n\n        if (cthis.attr('data-thumb_link')) {\n          aux_thumb_con_str += '<a href=\"' + cthis.attr('data-thumb_link') + '\"';\n        } else {\n          aux_thumb_con_str += '<div';\n        }\n        aux_thumb_con_str += ' class=\"the-thumb-con\"><div class=\"the-thumb\" style=\" background-image:url(' + cthis.attr('data-thumb') + ')\"></div>';\n\n\n        if (cthis.attr('data-thumb_link')) {\n          aux_thumb_con_str += '</a>';\n        } else {\n          aux_thumb_con_str += '</div>';\n        }\n\n\n        if (cthis.children('.the-thumb-con').length) {\n          aux_thumb_con_str = cthis.children('.the-thumb-con').eq(0);\n        }\n\n\n        if (o.design_skin != 'skin-customcontrols') {\n          if (o.design_skin == 'skin-wave' && (selfClass.skinwave_mode == 'small' || selfClass.skinwave_mode == 'alternate')) {\n\n            if (selfClass.skinwave_mode == 'alternate') {\n\n              // console.log(\"WHERE IS INNER ? \",selfClass._audioplayerInner);\n              selfClass._audioplayerInner.prepend(aux_thumb_con_str);\n            } else {\n\n              selfClass._apControlsLeft.prepend(aux_thumb_con_str);\n            }\n          } else if (o.design_skin == 'skin-steel') {\n\n\n            selfClass._apControlsLeft.prepend(aux_thumb_con_str);\n          } else {\n\n            selfClass._audioplayerInner.prepend(aux_thumb_con_str);\n          }\n        }\n\n        _theThumbCon = selfClass._audioplayerInner.children('.the-thumb-con').eq(0);\n      } else {\n\n        cthis.removeClass('has-thumb');\n      }\n    }\n\n    function apply_skinwave_mode_class() {\n\n\n      cthis.removeClass('skin-wave-mode-normal');\n      if (o.design_skin == 'skin-wave') {\n        cthis.addClass('skin-wave-mode-' + selfClass.skinwave_mode);\n\n\n        if (selfClass.skinwave_mode == 'small') {\n          if (o.design_thumbh == 'default') {\n            design_thumbh = 80;\n          }\n        }\n        cthis.addClass('skin-wave-wave-mode-' + o.skinwave_wave_mode);\n\n        if (o.skinwave_enableSpectrum == 'on') {\n\n          cthis.addClass('skin-wave-is-spectrum');\n        }\n        cthis.addClass('skin-wave-wave-mode-canvas-mode-' + o.skinwave_wave_mode_canvas_mode);\n\n      }\n\n    }\n\n\n    function playlist_goto_item(arg, pargs) {\n      // -- this is the function called from playlist menu item ( footer )\n\n\n      var margs = {\n        'call_from': \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      // console.log('playlist_goto_item - margs -4 ',margs, 'arg - ',arg);\n\n\n      var _cach_con = null;\n\n\n      if (_playlistTooltip) {\n        _cach_con = _playlistTooltip.find('.dzstooltip--inner');\n\n        var _cach = _cach_con.children().eq(arg);\n\n        // console.log(_cach);\n\n        var playerid = _cach.attr('data-playerid');\n\n\n        // console.log('playerid && $(\\'.audioplayer[data-playerid=\"\\'+playerid+\\'\"]\\').length && $(\\'.audioplayer[data-playerid=\"\\'+playerid+\\'\"]\\').eq(0).get(0).api_play_media - ',playerid);\n        // console.log('the-player - ', $('.audioplayer[data-playerid=\"'+playerid+'\"],.audioplayer-tobe[data-playerid=\"'+playerid+'\"]'));\n\n\n        var _cach = $('.audioplayer[data-playerid=\"' + playerid + '\"],.audioplayer-tobe[data-playerid=\"' + playerid + '\"]');\n\n\n        if (playerid && _cach.length && _cach.eq(0).get(0) && _cach.eq(0).get(0).api_play_media) {\n\n\n          $('.audioplayer[data-playerid=\"' + playerid + '\"]').eq(0).get(0).api_play_media({\n\n            'call_from': 'api_sync_players_prev'\n          });\n\n        } else {\n\n\n          if (_cach.parent().parent().parent().hasClass('audiogallery')) {\n            _cach.parent().parent().parent().get(0).api_goto_item(arg);\n          } else {\n\n            // -- in case we change the page ;)\n            change_media(_cach);\n          }\n\n\n        }\n\n        playlist_inner_currNr = arg;\n\n      }\n    }\n\n\n    function player_setup_playlist_inner(pargs) {\n      // -- setup playlist for footer\n\n\n      var margs = {\n        'call_from': \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      // console.log('player_setup_playlist_inner() dzsap_list_for_sync_players -4 ',dzsap_list_for_sync_players,margs,cthis);\n\n      // console.log('dzsap_list_for_sync_players - dzsap_list_for_sync_players len - ', dzsap_list_for_sync_players.length, _playlistTooltip);\n\n\n      if (_playlistTooltip) {\n        (dzsap_list_for_sync_players.length) ? _playlistTooltip.parent().removeClass('is-empty') : _playlistTooltip.parent().addClass('is-empty');\n        // -- clear all before adding\n        _playlistTooltip.find('.dzstooltip--inner').html('');\n        var aux = '';\n        for (var lab in dzsap_list_for_sync_players) {\n          // -- setup inner playlist for sticky player\n\n\n          var _c = dzsap_list_for_sync_players[lab];\n\n          if (_c.hasClass('number-wrapper') || _c.hasClass('for-number-wrapper')) {\n            continue;\n          }\n\n          aux += '<div class=\"playlist-menu-item\"';\n\n\n          $.each(_c.get(0).attributes, function () {\n            // -- we remember attributes in case the page has changed and we lost..\n            if (this.specified && this.name && this.name != 'id' && this.name != 'style') {\n\n              aux += ' ' + this.name + '=\"' + this.value + '\"';\n              // console.log(this.name, this.value);\n            }\n          });\n\n\n          aux += '>';\n\n\n          aux += '<div class=\"pi-thumb-con\">';\n          aux += '<div class=\"pi-thumb divimage\" style=\"background-image: url(' + _c.attr('data-thumb') + ')\">';\n          aux += '</div>'\n          aux += '</div>'\n          aux += '<div class=\"pi-meta-con\">';\n\n          aux += '<div class=\"pi-the-artist\">';\n          aux += _c.find('.the-artist').eq(0).text();\n          aux += '</div>';\n\n          aux += '<div class=\"pi-the-name\">';\n          aux += _c.find('.the-name').eq(0).text();\n          aux += '</div>';\n\n          aux += '</div>';\n\n\n          aux += '<div class=\"the-sort-handle\">';\n          aux += dzsapSvgs.svg_arrow_resize;\n          aux += '</div>';\n\n          aux += '</div>';\n\n        }\n        _playlistTooltip.find('.dzstooltip--inner').append(aux);\n\n\n        cthis.on('mousedown', '.the-sort-handle', handle_mouse);\n        $(document).on('mousemove.dzsap_playlist_item', function (e) {\n\n          if (window.dzsap_moving_playlist_item) {\n\n            var my = e.clientY;\n\n            my -= dzsap_playlist_con.offset().top;\n\n            // console.log(mx,my);\n\n            dzsap_playlist_item_moving.css('top', my - 20);\n\n\n            dzsap_playlist_item_target.parent().children(':not(\".target-playlist-item\"):not(\".cloner\")').each(function () {\n              var _t = $(this);\n\n              var tmy = _t.offset().top - dzsap_playlist_con.offset().top;\n\n\n              // console.log(my,tmy);\n              if (my > tmy) {\n                _t.after(dzsap_playlist_item_target);\n              }\n            })\n\n            if (my < 50) {\n              dzsap_playlist_item_target.parent().prepend(dzsap_playlist_item_target);\n            }\n          }\n        });\n        $(document).on('mouseup.dzsap_playlist_item', function (e) {\n\n          if (window.dzsap_moving_playlist_item) {\n\n            window.dzsap_moving_playlist_item = false;\n\n\n            dzsap_playlist_item_moving.parent().children('.cloner').remove();\n            dzsap_playlist_item_target.removeClass('target-playlist-item');\n            dzsap_playlist_item_moving.remove();\n            dzsap_playlist_item_moving = null;\n            dzsap_playlist_item_target = null;\n          }\n        })\n      } else {\n        console.error('no tooltip .. why, should be here?');\n      }\n\n    }\n\n\n    function setup_structure(pargs) {\n      // -- setup structure here\n\n\n      var margs = {\n        'setup_inner_player': true\n        , 'setup_media': true\n        , 'setup_otherstructure': true\n        , 'call_from': \"default\"\n\n\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('%c .setup_structure', 'color: #da23da', margs);\n\n\n      if (margs.call_from == 'reconstruct') {\n        if (selfClass._metaArtistCon) {\n\n          //selfClass._metaArtistCon.remove();\n        }\n\n\n        selfClass._metaArtistCon = null;\n        if (cthis.hasClass('skin-wave')) {\n          o.design_skin = 'skin-wave';\n        }\n        if (cthis.hasClass('skin-silver')) {\n          o.design_skin = 'skin-silver';\n        }\n      }\n\n      // console.log('new design skin - ' ,cthis.hasClass('skin-silver'), o.design_skin, margs, cthis.attr('class'));\n\n      //alert('ceva');\n\n      // console.log('margs.setup_inner_player -5 ',margs.setup_inner_player);\n      if (margs.setup_inner_player) {\n        cthis.append('<div class=\"audioplayer-inner\"></div>');\n        selfClass._audioplayerInner = cthis.children('.audioplayer-inner');\n      }\n\n      if (margs.setup_media) {\n        selfClass._audioplayerInner.append('<div class=\"the-media\"></div>');\n        _theMedia = selfClass._audioplayerInner.children('.the-media').eq(0);\n      }\n\n      // -- end setup inner\n\n\n      if (margs.setup_otherstructure == false) {\n        return false;\n      }\n\n      if (o.design_skin != 'skin-customcontrols') {\n\n        selfClass._audioplayerInner.append('<div class=\"ap-controls\"></div>');\n      }\n      selfClass._apControls = selfClass._audioplayerInner.children('.ap-controls').eq(0);\n\n\n      if (cthis.attr('data-wrapper-image')) {\n        var img = new Image();\n\n\n        if (cthis.hasClass('zoomsounds-no-wrapper') == false) {\n\n          img.onload = function () {\n            // console.log('image loaded', this, this.src);\n\n\n            cthis.css('background-image', 'url(' + this.src + ')');\n            // selfClass._audioplayerInner.prepend('<div class=\"zoomsounds-bg\" style=\"background-image: url('+this.src+'); \"></div>');\n            setTimeout(function () {\n\n              cthis.find('.zoomsounds-bg').addClass('loaded');\n\n              //var tw = cthis.width();\n\n              if (tw > 300) {\n                tw = 300;\n              }\n\n              if (cthis.hasClass('zoomsounds-wrapper-bg-bellow')) {\n\n                //cthis.css('padding-top', tw - selfClass._audioplayerInner.outerHeight())\n                cthis.css('padding-top', 200);\n              }\n            }, 100);\n          }\n\n          img.src = cthis.attr('data-wrapper-image');\n        }\n\n      }\n\n\n      var aux_str_scrubbar = '<div class=\"scrubbar\">';\n      var aux_str_con_controls = '';\n      var aux_str_con_controls_part2 = '';\n      var aux_str_volume = '';\n      var aux_str_time = '';\n\n\n      aux_str_scrubbar += '<div class=\"scrub-bg\"></div><div class=\"scrub-buffer\"></div><div class=\"scrub-prog\"></div><div class=\"scrubBox\"></div><div class=\"scrubBox-prog\"></div><div class=\"scrubBox-hover\"></div>';\n      aux_str_time = '<div class=\"total-time\">00:00</div><div class=\"curr-time\">00:00</div>';\n\n\n      if (sample_perc_start) {\n\n        aux_str_scrubbar += '<div class=\"sample-block-start\" style=\"width: ' + (sample_perc_start * 100) + '%\"></div>'\n      }\n      if (sample_perc_end) {\n\n        aux_str_scrubbar += '<div class=\"sample-block-end\" style=\"left: ' + (sample_perc_end * 100) + '%; width: ' + (100 - (sample_perc_end * 100)) + '%\"></div>'\n      }\n\n      aux_str_scrubbar += '</div>'; // -- end scrubbar\n\n\n      if (o.controls_external_scrubbar) {\n        aux_str_scrubbar = '';\n      }\n\n\n      var struct_con_playpause = '';\n\n\n      if (o.settings_extrahtml_before_play_pause) {\n        struct_con_playpause += o.settings_extrahtml_before_play_pause;\n\n\n      }\n      // console.log(cthis.find('.feed-dzsap-before-playpause'));\n\n      struct_con_playpause += '<div class=\"con-playpause-con\">';\n\n      if (cthis.find('.feed-dzsap-before-playpause').length) {\n        struct_con_playpause += cthis.find('.feed-dzsap-before-playpause').eq(0).html();\n        cthis.find('.feed-dzsap-before-playpause').remove();\n\n      }\n\n      struct_con_playpause += '<div class=\"con-playpause';\n\n      if (keyboard_controls.show_tooltips == 'on') {\n        struct_con_playpause += ' dzstooltip-con';\n      }\n\n      struct_con_playpause += '\">';\n      if (keyboard_controls.show_tooltips == 'on') {\n        struct_con_playpause += dzsapHelpers.dzsap_generate_keyboard_tooltip(keyboard_controls, 'pause_play');\n      }\n\n\n      struct_con_playpause += '<div class=\"playbtn player-but\"><div class=\"the-icon-bg\"></div><div class=\"dzsap-play-icon\">';\n      var has_svg_icons = false;\n      if (cthis.hasClass('skin-wave') || cthis.hasClass('skin-pro') || cthis.hasClass('skin-silver') || cthis.hasClass('skin-redlights') || cthis.hasClass('skin-default')) {\n        has_svg_icons = true;\n      }\n      // console.log(\"HMM dada\", cthis);\n\n      //console.log('cthis.hasClass(\\'skin-pro\\') - ',cthis.hasClass('skin-pro'));\n      if (has_svg_icons) {\n        // console.log(\"HMM dada2\", cthis);\n\n\n        struct_con_playpause += dzsapSvgs.svg_play_icon;\n      }\n\n      struct_con_playpause += '</div>';\n      struct_con_playpause += '</div>'; // -- end playbtn\n\n\n      struct_con_playpause += '<div class=\"pausebtn player-but\"';\n\n\n      struct_con_playpause += '><div class=\"the-icon-bg\"></div><div class=\"pause-icon\">';\n\n\n      if (has_svg_icons) {\n        // console.log(\"HMM dada2\", cthis);\n\n\n        struct_con_playpause += dzsapSvgs.svg_pause;\n      }\n\n\n      struct_con_playpause += '</div>';// -- end pause-icon\n      struct_con_playpause += '</div>'; // -- end pausebtn\n\n\n      struct_con_playpause += '';\n\n      if (o.design_skin == 'skin-wave') {\n        struct_con_playpause += o.skinwave_preloader_code;\n      }\n\n\n      struct_con_playpause += '</div>';\n      if (cthis.find('.feed-dzsap-after-playpause').length) {\n        struct_con_playpause += cthis.find('.feed-dzsap-after-playpause').eq(0).html();\n\n        cthis.find('.feed-dzsap-after-playpause').remove();\n      }\n\n\n      struct_con_playpause += '</div>';\n\n\n      // struct_con_playpause = '';\n      // console.log(' - struct_con_playpause - ',struct_con_playpause);\n\n\n      aux_str_con_controls += '<div class=\"con-controls\"><div class=\"the-bg\"></div>' + struct_con_playpause;\n\n\n      if (o.settings_extrahtml_in_float_left) {\n        aux_str_con_controls += o.settings_extrahtml_in_float_left;\n      }\n\n\n      //console.log(o.disable_timer, aux_str_con_controls);\n\n\n      if (o.design_skin == 'skin-pro') {\n        aux_str_con_controls += '<div class=\"con-controls--right\">';\n\n        aux_str_con_controls += '</div>';\n      }\n\n\n      var aux_str_con_volume = '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n      if (o.disable_volume == 'on') {\n        aux_str_con_volume = '';\n      }\n\n\n      if (o.design_skin == 'skin-default' || o.design_skin == 'skin-wave') {\n\n        aux_str_con_controls += '<div class=\"ap-controls-right\">';\n        if (o.disable_volume != 'on') {\n          aux_str_con_controls += '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n        }\n\n\n        // console.log('aux_str_con_controls -> ',aux_str_con_controls);\n\n        aux_str_con_controls += '</div>';\n        // aux_str_con_controls += '<div class=\"clear\"></div>';\n\n\n      }\n\n      aux_str_con_controls += '</div>'; // -- end con-controls\n\n\n      /// -- end STR\n\n      //console.log(o.disable_timer, aux_str_con_controls);\n\n\n      if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'small') {\n        aux_str_con_controls = '<div class=\"the-bg\"></div><div class=\"ap-controls-left\">' + struct_con_playpause + '</div>' + aux_str_scrubbar + '<div class=\"ap-controls-right\">' + aux_str_con_volume + '<div class=\"extrahtml-in-float-right for-skin-wave-small\">' + settings_extrahtml_in_float_right + '</div></div>';\n\n\n      } else {\n\n\n        // -- other skins\n\n        if (o.design_skin == 'skin-aria' || o.design_skin == 'skin-silver' || o.design_skin == 'skin-redlights' || o.design_skin == 'skin-steel') {\n\n\n          if (o.design_skin == 'skin-silver') {\n            ;\n            dzsapSvgs.pausebtn_svg = dzsapSvgs.pausebtn_svg;\n          }\n\n\n          //o.design_skin == 'skin-redlights' ||\n          if (o.design_skin == 'skin-steel') {\n            dzsapSvgs.playbtn_svg = '';\n            dzsapSvgs.pausebtn_svg = '';\n          }\n\n          aux_str_con_controls = '<div class=\"the-bg\"></div><div class=\"ap-controls-left\">';\n\n\n          if (o.design_skin == 'skin-silver') {\n\n            aux_str_con_controls += struct_con_playpause;\n          } else {\n\n            // -- TODO: maybe convert all to struct_con_playpause\n\n\n            aux_str_con_controls += '<div class=\"con-playpause';\n\n            if (keyboard_controls.show_tooltips == 'on') {\n              aux_str_con_controls += ' dzstooltip-con';\n            }\n\n            aux_str_con_controls += '\">';\n\n\n            if (keyboard_controls.show_tooltips == 'on') {\n              aux_str_con_controls += dzsapHelpers.dzsap_generate_keyboard_tooltip(keyboard_controls, 'pause_play');\n            }\n\n\n            aux_str_con_controls += '<div class=\"playbtn player-but playbtn-not-skin-silver\"><div class=\"dzsap-play-icon\">' + dzsapSvgs.playbtn_svg + '</div><div class=\"play-icon-hover\"></div></div><div class=\"pausebtn\" ';\n\n\n            // console.log('o.design_animateplaypause - ',o.design_animateplaypause);\n            if (o.design_animateplaypause != 'on') {\n              // aux_str_con_controls+=' style=\"display:none\"';\n            } else {\n              cthis.addClass('playing-animation');\n            }\n\n            aux_str_con_controls += '><div class=\"pause-icon\">' + dzsapSvgs.pausebtn_svg + '</div><div class=\"pause-icon-hover\"></div></div></div>'; // -- enc con-playpause\n\n          }\n\n\n          // console.log('cthis.find(\\'.feed-dzsap-after-playpause\\') - ',cthis.find('.feed-dzsap-after-playpause'));\n          if (cthis.find('.feed-dzsap-after-playpause').length) {\n            aux_str_con_controls += cthis.find('.feed-dzsap-after-playpause').eq(0).html();\n\n\n            cthis.find('.feed-dzsap-after-playpause').remove();\n          }\n\n\n          aux_str_con_controls += '</div>';\n\n          //console.log(settings_extrahtml_in_float_right);\n\n\n          if (settings_extrahtml_in_float_right) {\n            aux_str_con_controls += '<div class=\"controls-right\">' + settings_extrahtml_in_float_right + '</div>';\n\n            //console.log(o._gall)\n            //console.log('dada');\n\n            if (o.design_skin == 'skin-redlights') {\n\n              //console.log(o.parentgallery, o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all);\n              if (o.parentgallery && o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all) {\n                o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all();\n              }\n            }\n          }\n\n          //console.log('ceva');\n\n\n          aux_str_con_controls += '<div class=\"ap-controls-right\">';\n\n          if (o.design_skin == 'skin-silver') {\n\n            aux_str_con_controls += '<div class=\"controls-volume controls-volume-vertical\"><div class=\"volumeicon\"></div><div class=\"volume-holder\"><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div></div>';\n\n\n            aux_str_con_controls += '</div>' + aux_str_scrubbar;\n          } else {\n\n\n            if (o.design_skin == 'skin-redlights') {\n\n              if (o.disable_volume != 'on') {\n                aux_str_con_controls += '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\">' + dzsapSvgs.svg_volume_static + '</div><div class=\"volume_active\">' + dzsapSvgs.svg_volume + '</div><div class=\"volume_cut\"></div></div>';\n              }\n            }\n\n            aux_str_con_controls += aux_str_scrubbar;\n\n\n            if (o.disable_timer != 'on') {\n              aux_str_con_controls += '<div class=\"total-time\">00:00</div>';\n            }\n          }\n\n\n          if (o.design_skin == 'skin-silver') {\n\n          } else {\n            aux_str_con_controls += '</div>';\n          }\n\n\n        }\n\n\n      }\n\n\n      var settings_extrahtml_in_float_right_str = '';\n      // console.log('settings_extrahtml_in_float_right - ',settings_extrahtml_in_float_right);\n      if (settings_extrahtml_in_float_right) {\n        // aux_str_con_controls += ;\n\n        if (String(settings_extrahtml_in_float_right).indexOf('dzsap-multisharer-but') > -1) {\n          sw_enable_multisharer = true;\n        }\n\n\n        // console.log('%c settings_extrahtml_in_float_right -3 [', 'color:#da21dd', settings_extrahtml_in_float_right);\n        if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'small') {\n\n        } else {\n\n          settings_extrahtml_in_float_right_str += '<div class=\"extrahtml-in-float-right from-setup_structure from-js-setup_structure\">' + settings_extrahtml_in_float_right + '</div>';\n        }\n\n\n      }\n\n\n      // -- end strings\n      // --------------\n\n\n      selfClass._apControls.append(aux_str_con_controls);\n\n\n      if (cthis.hasClass('skin-wave-mode-alternate')) {\n        if (cthis.find('.scrubbar').length == 0) {\n          selfClass._apControls.append(aux_str_scrubbar);\n        }\n      } else {\n        if (cthis.find('.scrubbar').length == 0) {\n          selfClass._apControls.prepend(aux_str_scrubbar);\n        }\n      }\n\n\n      selfClass._apControlsRight = null;\n\n      if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n        selfClass._apControlsRight = cthis.find('.ap-controls-right');\n      }\n      if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n        selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n      }\n\n\n      if (o.design_skin == 'skin-pro') {\n        selfClass._apControlsRight = cthis.find('.con-controls--right').eq(0)\n      }\n\n\n      // console.log('settings_extrahtml_in_float_right - ',settings_extrahtml_in_float_right);\n      if (settings_extrahtml_in_float_right) {\n        // aux_str_con_controls += ;\n\n        if (settings_extrahtml_in_float_right_str) {\n\n          if (o.design_skin == 'skin-wave' || o.design_skin == 'skin-default') {\n\n            cthis.find('.ap-controls-right').eq(0).append(settings_extrahtml_in_float_right_str);\n            // console.log('cthis.find(\\'.ap-controls-right\\') - ', cthis.find('.ap-controls-right'));\n          }\n          if (o.design_skin == 'skin-pro') {\n\n            cthis.find('.con-controls--right').eq(0).append(settings_extrahtml_in_float_right_str);\n            // console.log('cthis.find(\\'.ap-controls-right\\') - ', cthis.find('.ap-controls-right'));\n          }\n        }\n      }\n\n\n      // -- Todo: if we have footer, playlist btn we can place it in ap-controls-right\n\n      if (cthis.find('.feed-dzsap-after-con-controls').length) {\n        selfClass._apControls.append(cthis.find('.feed-dzsap-after-con-controls').eq(0).html());\n\n\n        cthis.find('.feed-dzsap-after-con-controls').remove();\n      }\n\n\n      if (o.controls_external_scrubbar) {\n        selfClass._scrubbar = $(o.controls_external_scrubbar).children('.scrubbar').eq(0);\n      } else {\n        selfClass._scrubbar = selfClass._apControls.find('.scrubbar').eq(0);\n      }\n      // console.info('_scrubbar - ' ,_scrubbar, o);\n\n\n      __scrubbProg = selfClass._scrubbar.find('.scrub-prog').get(0);\n\n\n      _conControls = selfClass._apControls.children('.con-controls');\n      _conPlayPause = cthis.find('.con-playpause').eq(0);\n      selfClass._conPlayPauseCon = cthis.find('.con-playpause-con').eq(0);\n      _controlsVolume = cthis.find('.controls-volume').eq(0);\n\n\n      (dzsapHelpers.player_constructArtistAndSongCon.bind(selfClass))(margs);\n\n\n      if (o.design_skin == 'skin-wave' && o.disable_timer != 'on') {\n        // -- no sense in adding time if external\n        if (o.controls_external_scrubbar == '') {\n          selfClass._scrubbar.append(aux_str_time);\n        }\n      }\n\n\n      if (o.design_skin != 'skin-wave' && o.disable_timer != 'on') {\n        // aux_str_con_controls += '<div class=\"curr-time\">00:00</div><div class=\"total-time\">00:00</div>';\n\n        // -- all skins\n        selfClass._apControls.append(aux_str_time);\n      }\n\n\n      // -- end structure\n\n\n      // -- start assocations\n      if (o.disable_timer != 'on') {\n        _currTime = cthis.find('.curr-time').eq(0);\n        _totalTime = cthis.find('.total-time').eq(0);\n\n        if (o.design_skin == 'skin-steel') {\n          if (_currTime.length == 0) {\n            _totalTime.before('<div class=\"curr-time\">00:00</div> <span class=\"separator-slash\">/</span> ');\n            //console.log('WHAT WHAT IN THE BUTT', _totalTime, _totalTime.prev(),  cthis.find('.curr-time'));\n\n            _currTime = _totalTime.prev().prev();\n\n          }\n        }\n\n        //console.log(_currTime, _totalTime);\n      }\n\n\n      if (Number(o.sample_time_total) > 0) {\n\n        selfClass.timeTotal = Number(o.sample_time_total);\n\n        console.log(_currTime, selfClass.timeTotal);\n        if (_totalTime) {\n\n          // console.error(\"ENTER HERE\");\n          _totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n        }\n\n        //console.log(_totalTime.html());\n\n        //return false;\n      }\n\n\n      struct_generate_thumb();\n\n\n      if (o.design_skin == 'skin-wave' && o.parentgallery && typeof (o.parentgallery) != 'undefined' && o.design_menu_show_player_state_button == 'on') {\n        if (o.design_skin == 'skin-wave') {\n          if (selfClass._apControlsRight) {\n\n            selfClass._apControlsRight.appendOnce('<div class=\"btn-menu-state player-but\"> <div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_menu_state + '    </div></div>');\n          } else {\n            console.log('selfClass._apControlsRight not found ? ');\n          }\n        } else {\n          selfClass._audioplayerInner.appendOnce('<div class=\"btn-menu-state\"></div>');\n        }\n      }\n      // console.log(_controlsVolume,_theThumbCon , o.skinwave_place_thumb_after_volume);\n      if (o.skinwave_place_metaartist_after_volume == 'on') {\n\n        _controlsVolume.before(selfClass._metaArtistCon);\n      }\n\n\n      if (o.settings_extrahtml_after_artist) {\n        selfClass._metaArtistCon.find('.the-artist').append(o.settings_extrahtml_after_artist);\n      }\n\n      if (o.skinwave_place_thumb_after_volume == 'on') {\n\n        _controlsVolume.before(cthis.find('.the-thumb-con'));\n      }\n      //                console.log(o.embed_code);\n\n\n      if (o.design_skin == 'skin-wave') {\n\n\n        // -- structure setup\n\n        setup_structure_scrub();\n\n\n        if (o.skinwave_timer_static == 'on') {\n          if (_currTime) {\n            _currTime.addClass('static');\n          }\n          if (_totalTime) {\n            _totalTime.addClass('static');\n          }\n        }\n\n\n        selfClass._apControls.css({\n          //'height': design_thumbh\n        })\n\n\n        //console.log('setup_lsiteners()');\n\n        // console.log(\"PREPARE SCRUBBAR LOADED\");\n        if (o.skinwave_wave_mode == 'canvas') {\n\n          setTimeout(function () {\n            cthis.addClass('scrubbar-loaded');\n            selfClass._scrubbar.parent().addClass('scrubbar-loaded');\n\n\n            // console.log(\" SCRUBBAR  is LOADED\",selfClass._scrubbar);\n          }, 700); // -- tbc\n\n        }\n\n      }\n      // --- END skin-wave\n\n\n      check_multisharer();\n\n      if (cthis.hasClass('skin-minimal')) {\n        // -- here is skin-minimal\n\n        cthis.find('.the-bg').before('<div class=\"skin-minimal-bg skin-minimal--outer-bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-bg-under\"></div><div class=\"skin-minimal-bg skin-minimal--inner-bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-inner-bg\"></div>')\n        cthis.find('.the-bg').append('<canvas width=\"100\" height=\"100\" class=\"playbtn-canvas\"/>')\n        skin_minimal_canvasplay = cthis.find('.playbtn-canvas').eq(0).get(0);\n\n        _conPlayPause.children('.playbtn').append(dzsapSvgs.playbtn_svg);\n        _conPlayPause.children('.pausebtn').append(dzsapSvgs.pausebtn_svg);\n\n        setTimeout(function () {\n          first_drawn_canvas = false;\n        }, 200);\n      }\n\n\n      if (cthis.hasClass('skin-minion')) {\n        if (cthis.find('.menu-description').length > 0) {\n          //console.log('ceva');\n          _conPlayPause.addClass('with-tooltip');\n          _conPlayPause.prepend('<span class=\"dzstooltip\" style=\"left:-7px;\">' + cthis.find('.menu-description').html() + '</span>');\n          //console.log(_conPlayPause.children('span').eq(0), _conPlayPause.children('span').eq(0).textWidth());\n          _conPlayPause.children('span').eq(0).css('width', _conPlayPause.children('span').eq(0).textWidth() + 10);\n        }\n      }\n\n\n      //console.log('o.player_navigation - ',o.player_navigation,o.parentgallery);\n\n\n      if (o.player_navigation == 'default') {\n\n        if (o.parentgallery) {\n\n          o.player_navigation = 'on';\n        }\n\n\n        if (o.parentgallery && o.parentgallery.hasClass('mode-showall')) {\n          o.player_navigation = 'off';\n        }\n      }\n\n      if (o.disable_player_navigation == 'on') {\n\n        o.player_navigation = 'off';\n      }\n\n      if (o.player_navigation == 'default') {\n\n        o.player_navigation = 'off';\n      }\n\n\n      // console.log('o.player_navigation - ',o.player_navigation);\n\n\n      if (o.player_navigation == 'on') {\n\n        var prev_btn_str = '<div class=\"prev-btn player-but\"><div class=\"the-icon-bg\"></div>' + dzsapSvgs.svg_prev_btn + ' </div>';\n\n        var next_btn_str = '<div class=\"next-btn player-but\"><div class=\"the-icon-bg\"></div>' + dzsapSvgs.svg_next_btn + '  </div>';\n\n        if (o.design_skin == 'skin-steel') {\n\n          prev_btn_str = '<div class=\"prev-btn player-but\">' + dzsapSvgs.svg_prev_btn_steel + '</div>';\n\n\n          next_btn_str = '<div class=\"next-btn player-but\">' + dzsapSvgs.svg_next_btn_steel + '</div>';\n\n        }\n\n\n        var auxs = prev_btn_str + next_btn_str;\n\n\n        //console.log(o.parentgallery);\n\n\n        // console.log(o.design_skin, selfClass.skinwave_mode);\n\n        // -- create player navigation here\n        if ((o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'small') || o.design_skin == 'skin-aria') {\n\n\n          _conPlayPause.before(prev_btn_str)\n          _conPlayPause.after(next_btn_str)\n\n\n        } else {\n          if (o.design_skin == 'skin-wave') {\n\n            // _conPlayPause.after(auxs);\n\n            // console.log('o.player_navigation - ',o.player_navigation);\n\n\n            if (o.player_navigation == 'on') {\n\n              selfClass._conPlayPauseCon.prependOnce(prev_btn_str, '.prev-btn');\n              selfClass._conPlayPauseCon.appendOnce(next_btn_str, '.next-btn');\n            }\n\n          } else if (o.design_skin == 'skin-steel') {\n\n            selfClass._apControlsLeft.prependOnce(prev_btn_str, '.prev-btn');\n\n            if (selfClass._apControlsLeft.children('.the-thumb-con').length > 0) {\n              //console.log(_theThumbCon.prev());\n\n              if (selfClass._apControlsLeft.children('.the-thumb-con').eq(0).length > 0) {\n                if (selfClass._apControlsLeft.children('.the-thumb-con').eq(0).prev().hasClass('next-btn') == false) {\n                  selfClass._apControlsLeft.children('.the-thumb-con').eq(0).before(next_btn_str);\n                }\n              }\n\n            } else {\n\n              selfClass._apControlsLeft.appendOnce(next_btn_str, '.next-btn');\n            }\n          } else {\n\n            selfClass._audioplayerInner.appendOnce(auxs, '.prev-btn');\n          }\n        }\n\n\n        // console.log(\"SETUPED PLAYER NAVIGATION yes ;) \");\n\n      }\n\n\n      //console.log(o.settings_extrahtml);\n\n\n      if (cthis.find('.extra-html-extra').length) {\n        if (o.settings_extrahtml == '') {\n\n          o.settings_extrahtml = ' ';\n        }\n        var _c_html = cthis.find('.extra-html-extra').eq(0).html();\n\n        if (_c_html.length) {\n          o.settings_extrahtml = _c_html;\n          cthis.find('.extra-html-extra').eq(0).html('');\n        }\n      }\n\n\n      if (cthis.hasClass('skinvariation-wave-bigtitles')) {\n\n        if (cthis.find('.controls-volume').length && selfClass._metaArtistCon.find('.controls-volume').length == 0) {\n          selfClass._metaArtistCon.append('<br>');\n          selfClass._metaArtistCon.append(cthis.find('.controls-volume'));\n        }\n\n        // cthis.find('.scrubbar').after('<img class=\"skip-15-sec\" width=\"50\" src=\"http://i.imgur.com/oObhtLE.jpg\"/>');\n      }\n\n      if (cthis.hasClass('skinvariation-wave-righter')) {\n\n        selfClass._apControls.appendOnce('<div class=\"playbuttons-con\"></div>');\n        var _c = cthis.find('.playbuttons-con').eq(0);\n        _c.append(cthis.find('.con-playpause-con'));\n\n        // cthis.find('.scrubbar').after('<img class=\"skip-15-sec\" width=\"50\" src=\"http://i.imgur.com/oObhtLE.jpg\"/>');\n      }\n\n      // console.log('_currTime - ',_currTime);\n\n\n      // -- do custom tweaks\n\n      if (o.design_skin == 'skin-pro') {\n\n        selfClass._apControlsRight.append(_currTime);\n        selfClass._apControlsRight.append(_totalTime);\n      }\n\n\n      if (o.design_skin == 'skin-silver') {\n        selfClass._scrubbar.after(selfClass._apControlsRight);\n        selfClass._apControlsLeft.prepend(selfClass._metaArtistCon);\n        selfClass._apControlsLeft.append(_currTime);\n        selfClass._apControlsRight.append(_totalTime);\n        // aux_str_con_controls += '<div class=\"curr-time\">00:00</div>';\n\n\n        // if (o.disable_timer != 'on') {\n        //   aux_str_con_controls += '<div class=\"total-time\">00:00</div>';\n        // }\n      }\n\n\n      if (o.design_skin == 'skin-redlights') {\n        selfClass._apControlsRight.append('<div class=\"ap-controls-right--top\"></div>');\n        selfClass._apControlsRight.append('<div class=\"ap-controls-right--bottom\"></div>');\n        selfClass._apControlsRight.find('.ap-controls-right--top').append(selfClass._apControlsRight.find('.meta-artist-con'));\n        selfClass._apControlsRight.find('.ap-controls-right--top').append(selfClass._apControlsRight.find('.controls-volume'));\n        selfClass._apControlsRight.find('.ap-controls-right--bottom').append(selfClass._apControlsRight.find('.scrubbar'));\n      }\n\n\n      if (margs.call_from == 'reconstruct') {\n        if (cthis.hasClass('skin-silver')) {\n          selfClass._apControlsLeft.append(cthis.find('.con-playpause'));\n        }\n      }\n\n\n      // console.log('sw_enable_multisharer - ',sw_enable_multisharer);\n\n\n      // console.log('type - ',type);\n      // console.log('o.type - ',o.type);\n      // console.log('cthis.attr(\"data-type\") - ',cthis.attr(\"data-type\"));\n\n      // console.error(\"META LODED\");\n\n\n      if (sw_enable_multisharer) {\n        check_multisharer();\n      }\n      // -- replaces / sanitizes here\n      setup_structure_sanitizers();\n      setup_structure_extras();\n\n\n      cthis.addClass('structure-setuped');\n\n    }\n\n    function setup_controls_commentsHolder() {\n\n      // console.log('setup_controlsselfClass._commentsHolder() - arguments - ',arguments);\n\n      if (selfClass._commentsHolder && _commentsChildren) {\n\n        // console.log(' _commentsChildren - ',_commentsChildren, cthis);\n        _commentsChildren.each(function () {\n\n          var _c = $(this);\n\n\n          if (o.skinwave_comments_process_in_php == 'on') {\n\n            if (_c && _c.hasClass && _c.hasClass('dzstooltip-con')) {\n              if (_c.find('.dzstooltip > .dzstooltip--inner').length) {\n\n              } else {\n                // -- convert\n\n\n                // console.error(\"CONVERT\");\n                _c.find('.dzstooltip').wrapInner('<div class=\"dzstooltip--inner\"></div>');\n\n\n                _c.find('.the-avatar').addClass('tooltip-indicator');\n                _c.find('.dzstooltip').before(_c.find('.tooltip-indicator'));\n                _c.find('.dzstooltip').addClass('talign-start style-rounded color-dark-light');\n              }\n            }\n          }\n\n          selfClass._commentsHolder.append(_c);\n        })\n      }\n\n    }\n\n\n    function setup_structure_extras() {\n\n      // console.log('selfClass.skinwave_mode - ', selfClass.skinwave_mode);\n      if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'bigwavo') {\n        selfClass._audioplayerInner.after(selfClass._scrubbar);\n\n        if (cthis.find('.feed-description')) {\n          _conControls.after(cthis.find('.feed-description').eq(0));\n          _conControls.next().removeClass('feed-description').addClass('song-desc');\n        }\n      }\n\n\n      if (radio_update_song_name == false && selfClass._metaArtistCon.find('.the-name').length && selfClass._metaArtistCon.find('.the-name').eq(0).text().length > 0) {\n        // -- we already have artist name..\n        radio_update_song_name = false;\n        if (selfClass._metaArtistCon.find('.the-name').eq(0).html().indexOf('&nbsp;&nbsp;') > -1) {\n          radio_update_song_name = true;\n        }\n      } else {\n        radio_update_song_name = true;\n      }\n\n      if (radio_update_artist_name == false && selfClass._metaArtistCon.find('.the-name').length && selfClass._metaArtistCon.find('.the-artist').eq(0).text().length > 0) {\n        // -- we already have artist name..\n        radio_update_artist_name = false;\n        if (selfClass._metaArtistCon.find('.the-name').eq(0).html().indexOf('&nbsp;&nbsp;') > -1) {\n          radio_update_artist_name = true;\n        }\n      } else {\n        radio_update_artist_name = true;\n      }\n\n\n      //console.log(cthis, o.disable_volume,_controlsVolume);\n      if (o.disable_scrub == 'on') {\n        cthis.addClass('disable-scrubbar');\n      }\n      if (o.design_animateplaypause != 'on') {\n        // aux_str_con_controls+=' style=\"display:none\"';\n      } else {\n        cthis.addClass('playing-animation');\n      }\n\n      if (o.design_skin == 'skin-wave' && o.embed_code != '') {\n        if (o.design_skin == 'skin-wave') {\n\n          if (o.enable_embed_button == 'on') {\n            if (selfClass._apControlsRight) {\n              selfClass._apControlsRight.appendOnce('<div class=\"btn-embed-code-con dzstooltip-con player-but\"><div class=\"btn-embed-code \"> <div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_embed_button + '</div><span class=\"dzstooltip transition-slidein arrow-bottom align-right skin-black \" style=\"width: 350px; \"><span style=\"max-height: 150px; overflow:hidden; display: block;\">' + o.embed_code + '</span></span></div>');\n            }\n          }\n\n        } else {\n          if (o.enable_embed_button == 'on') {\n            selfClass._audioplayerInner.appendOnce('<div class=\"btn-embed-code-con dzstooltip-con \"><div class=\"btn-embed-code player-but \"> <div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_embed_btn + '</div><span class=\"dzstooltip transition-slidein arrow-bottom align-right skin-black \" style=\"width: 350px; \"><span style=\"max-height: 150px; overflow:hidden; display: block;\">' + o.embed_code + '</span></span></div>');\n          }\n        }\n\n        cthis.on('click', '.btn-embed-code-con, .btn-embed', function () {\n          var _t = $(this);\n\n          // console.log(_t);\n          dzsapHelpers.select_all(_t.find('.dzstooltip').get(0));\n        })\n        cthis.on('click', '.copy-embed-code-btn', function () {\n          var _t = $(this);\n\n          // console.log(_t);\n          dzsapHelpers.select_all(_t.parent().parent().find('.dzstooltip--inner > span').get(0));\n\n          document.execCommand('copy');\n          setTimeout(function () {\n\n            dzsapHelpers.select_all(_t.get(0));\n          }, 100)\n        })\n\n        // cthis.on(' .btn-embed .dzstooltip').bind('click', function() {\n        //     var _t = $(this);\n        //\n        //     console.log(_t);\n        //     dzsapHelpers.select_all(_t.get(0));\n        // })\n      }\n\n      if (o.footer_btn_playlist == 'on') {\n\n        if (selfClass._apControlsRight.find('.btn-footer-playlist').length == 0) {\n\n          selfClass._apControlsRight.append('<div class=\"btn-footer-playlist for-hover dzstooltip-con player-but\"> <div class=\"tooltip-indicator tooltip-indicator--btn-footer-playlist\"><div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_footer_playlist + '    </div><div class=\"dzstooltip playlist-tooltip style-default color-light-dark arrow-bottom talign-end transition-scaleup active2\"><div class=\"dzstooltip--inner\"> </div></div></div>');\n\n\n          _playlistTooltip = cthis.find('.playlist-tooltip');\n\n\n          setTimeout(function () {\n            player_setup_playlist_inner();\n          }, 100);\n\n          setTimeout(function () {\n            // player_setup_playlist_inner();\n          }, 1000)\n        }\n\n      }\n\n      if (o.settings_extrahtml != '') {\n\n        // console.log('o.settings_extrahtml -> ', o.settings_extrahtml, index_extrahtml_toloads);\n\n        if (String(o.settings_extrahtml).indexOf('{{get_likes}}') > -1) {\n          selfClass.index_extrahtml_toloads++;\n          ajax_get_likes();\n        }\n        if (String(o.settings_extrahtml).indexOf('{{get_plays}}') > -1) {\n          selfClass.index_extrahtml_toloads++;\n          (dzsapAjax.ajax_get_views.bind(selfClass))();\n        } else {\n          // console.log('selfClass.increment_views', selfClass.increment_views);\n          if (selfClass.increment_views === 1) {\n            (dzsapAjax.ajax_submit_views.bind(selfClass))();\n            selfClass.increment_views = 2;\n          }\n        }\n\n        if (String(o.settings_extrahtml).indexOf('{{get_rates}}') > -1) {\n          selfClass.index_extrahtml_toloads++;\n          ajax_get_rates();\n        }\n        o.settings_extrahtml = String(o.settings_extrahtml).replace('{{heart_svg}}', dzsapSvgs.svg_heart_icon);\n        o.settings_extrahtml = String(o.settings_extrahtml).replace('{{embed_code}}', o.embed_code);\n\n\n        if (selfClass.index_extrahtml_toloads == 0) {\n          //console.log('lel',cthis.find('.extra-html'))\n\n          cthis.find('.extra-html').addClass('active');\n        }\n        setTimeout(function () {\n\n          //console.log('lel',cthis.find('.extra-html'))\n          cthis.find('.extra-html').addClass('active');\n\n\n          // console.log(\"cthis.find('.extra-html') -> \",cthis.find('.extra-html'))\n          // console.log(\"cthis.find('.extra-html-extra') -> \",cthis.find('.extra-html-extra'))\n          // cthis.find('.extra-html-extra').removeClass('dzsap-feed');\n\n          if (cthis.find('.float-left').length == 0) {\n            cthis.find('.extra-html').append(cthis.find('.extra-html-extra'));\n          } else {\n            cthis.find('.extra-html .float-left').append(cthis.find('.extra-html-extra'));\n          }\n\n\n          var _c = cthis.find('.extra-html-extra').children().eq(0);\n\n          cthis.find('.extra-html-extra').children().unwrap();\n          // if(_c.parent().hasClass('float-left')){                         }\n\n\n          // console.log('o.settings_extrahtml->',o.settings_extrahtml);\n          // console.log('cthis.find(\\'.extra-html\\').html()->',cthis.find('.extra-html').html());\n\n\n          if (cthis.find('.extra-html').html().indexOf('dzsap-multisharer-but') > -1) {\n            sw_enable_multisharer = true;\n\n\n          }\n\n        }, 2000);\n\n      }\n\n      if (cthis.find('.con-after-playpause').length) {\n        _conPlayPause.after(cthis.find('.con-after-playpause').eq(0));\n      }\n\n      if (cthis.find('.afterplayer').length > 0) {\n        //console.log(cthis.children('.afterplayer'));\n        cthis.append(cthis.find('.afterplayer'));\n      }\n\n    }\n\n    function setup_structure_sanitizers() {\n\n      if (cthis.hasClass('zoomsounds-wrapper-bg-bellow') && cthis.find('.dzsap-wrapper-buts').length == 0) {\n        // console.log('NO WRAPPER BUTS - ',cthis.find('.ap-controls-right'));\n\n        cthis.append('<div class=\"temp-wrapper\"></div>');\n        cthis.find('.temp-wrapper').append(settings_extrahtml_in_float_right);\n        cthis.find('.temp-wrapper').children('*:not(.dzsap-wrapper-but)').remove();\n        cthis.find('.temp-wrapper > .dzsap-wrapper-but').unwrap();\n        cthis.children('.dzsap-wrapper-but').each(function () {\n          var aux = $(this).html();\n          // console.log('aux - ',aux);\n\n          aux = aux.replace('{{heart_svg}}', dzsapSvgs.svg_heart_icon);\n          aux = aux.replace('{{svg_share_icon}}', dzsapSvgs.svg_share_icon);\n\n\n          if ($(this).get(0) && $(this).get(0).outerHTML.indexOf('dzsap-multisharer-but') > -1) {\n            sw_enable_multisharer = true;\n            // console.log(\"sw_enable_multisharer -5 sw\",sw_enable_multisharer);\n\n          }\n\n          $(this).html(aux);\n        }).wrapAll('<div class=\"dzsap-wrapper-buts\"></div>');\n      }\n\n      if (o.design_skin == 'skin-customcontrols') {\n\n\n        // console.log('cthis.html() - ',cthis.html());\n        cthis.html(String(cthis.html()).replace('{{svg_play_icon}}', dzsapSvgs.svg_play_icon));\n        cthis.html(String(cthis.html()).replace('{{svg_pause_icon}}', dzsapSvgs.pausebtn_svg));\n\n      }\n    }\n\n\n    function check_multisharer() {\n\n      // -- we setup a box main here as a child of body\n\n\n      cthis.find('.dzsap-multisharer-but').data('cthis', cthis);\n      // console.log(\"WE SETUP HERE\", cthis.find('.dzsap-multisharer-but').data('cthis'), 'sw_enable_multisharer - ',sw_enable_multisharer);\n\n      cthis.data('embed_code', o.embed_code);\n\n\n      if (sw_enable_multisharer) {\n        window.dzsap_init_multisharer()\n      }\n\n    }\n\n    function setup_pcm_random_for_now(pargs) {\n\n\n      var margs = {\n        call_from: 'default'\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      var default_pcm = [];\n\n      if ((o.pcm_data_try_to_generate == 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm == 'on') == false) {\n        for (var i3 = 0; i3 < 200; i3++) {\n          default_pcm[i3] = Number(Math.random()).toFixed(2);\n        }\n        default_pcm = JSON.stringify(default_pcm);\n\n        cthis.addClass('rnd-pcm-for-now')\n        cthis.attr('data-pcm', default_pcm);\n      }\n\n\n      dzsapHelpers.scrubbar_modeWave_setupCanvas({}, selfClass);\n      ;\n\n      if (o.pcm_data_try_to_generate == 'on') {\n        if (o.pcm_data_try_to_generate_wait_for_real_pcm != 'on') {\n          // console.error(\"TRYING TO GENERATE WITHOUT REAL PCM -4\")\n        }\n      }\n    }\n\n\n    function setup_structure_scrub() {\n      if (o.skinwave_enableSpectrum != 'on') {\n\n        if (o.skinwave_wave_mode == 'canvas') {\n          // console.log('verify pcm - ',cthis, cthis.attr('data-pcm'));\n\n          if (cthis.attr('data-pcm')) {\n            selfClass.isRealPcm = true;\n\n            dzsapHelpers.scrubbar_modeWave_setupCanvas({}, selfClass);\n\n          } else {\n\n            setup_pcm_random_for_now();\n\n          }\n\n\n        } else {\n          if (o.skinwave_wave_mode == 'line') {\n\n\n          }\n          if (o.skinwave_wave_mode == 'image') {\n\n            var aux = '<img class=\"scrub-bg--img\" src=\"' + cthis.attr('data-scrubbg') + '\"/>'\n            selfClass._scrubbar.children('.scrub-bg').eq(0).append(aux);\n\n            setTimeout(function () {\n\n              scrubbar_reveal();\n            }, 300);\n            aux = '<img class=\"scrub-prog--img\" src=\"' + cthis.attr('data-scrubprog') + '\"/>'\n            selfClass._scrubbar.children('.scrub-prog').eq(0).append(aux);\n\n            setTimeout(function () {\n\n              scrubbar_reveal();\n            }, 300);\n\n          }\n\n\n        }\n\n\n      } else {\n\n        // -- spectrum ON\n\n        dzsapHelpers.scrubbar_modeWave_setupCanvas({}, selfClass);\n        // -- old spectrum code\n        // selfClass._scrubbar.children('.scrub-bg').eq(0).append('<canvas class=\"scrub-bg-canvas\" style=\"width: 100%; height: 100%;\"></canvas><div class=\"wave-separator\"></div>');\n        _scrubBgCanvas = cthis.find('.scrub-bg-img').eq(0);\n        //console.log('_scrubBgCanvas - ',_scrubBgCanvas)\n        _scrubBgCanvasCtx = _scrubBgCanvas.get(0).getContext(\"2d\");\n\n\n      }\n\n    }\n\n\n    function ajax_get_likes(argp) {\n      //only handles ajax call + result\n      var mainarg = argp;\n      var data = {\n        action: 'dzsap_get_likes',\n        postdata: mainarg,\n        playerid: selfClass.the_player_id\n      };\n\n\n      if (selfClass.urlToAjaxHandler) {\n\n\n        $.ajax({\n          type: \"POST\",\n          url: selfClass.urlToAjaxHandler,\n          data: data,\n          success: function (response) {\n            if (window.console) {\n              // console.log('Got this from the server: ' + response);\n            }\n\n            var auxls = false;\n            if (response.indexOf('likesubmitted') > -1) {\n              response = response.replace('likesubmitted', '');\n              auxls = true;\n            }\n\n\n            if (response == '') {\n              response = 0;\n            }\n\n\n            var _cach = cthis.find('.extra-html').eq(0);\n\n            // console.log('_cach - ',_cach);\n\n\n            _cach.css('opacity', '');\n            var auxhtml = _cach.html();\n            auxhtml = auxhtml.replace('{{get_likes}}', response);\n            _cach.html(auxhtml);\n            selfClass.index_extrahtml_toloads--;\n            if (auxls) {\n              cthis.find('.extra-html').find('.btn-like').addClass('active');\n            }\n\n\n            //console.log(selfClass.index_extrahtml_toloads);\n            if (selfClass.index_extrahtml_toloads == 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n\n          },\n          error: function (arg) {\n            if (window.console) {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n            selfClass.index_extrahtml_toloads--;\n            if (selfClass.index_extrahtml_toloads == 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n          }\n        });\n      }\n\n    }\n\n    function ajax_get_rates(argp) {\n      //only handles ajax call + result\n      var mainarg = argp;\n      var data = {\n        action: 'dzsap_get_rate',\n        postdata: mainarg,\n        playerid: selfClass.the_player_id\n      };\n\n\n      if (selfClass.urlToAjaxHandler) {\n\n        $.ajax({\n          type: \"POST\",\n          url: selfClass.urlToAjaxHandler,\n          data: data,\n          success: function (response) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + response);\n            }\n\n            var auxls = false;\n            if (response.indexOf('likesubmitted') > -1) {\n              response = response.replace('likesubmitted', '');\n              auxls = true;\n            }\n\n\n            if (response == '') {\n              response = '0|0';\n            }\n\n\n            var auxresponse = response.split('|');\n\n\n            starrating_nrrates = auxresponse[1];\n            cthis.find('.extra-html .counter-rates .the-number').eq(0).html(starrating_nrrates);\n            selfClass.index_extrahtml_toloads--;\n\n\n            cthis.find('.star-rating-set-clip').width(auxresponse[0] * (parseInt(cthis.find('.star-rating-bg').width(), 10) / 5));\n\n\n            //===ratesubmitted\n            if (typeof (auxresponse[2]) != 'undefined') {\n              selfClass.starrating_alreadyrated = auxresponse[2];\n\n\n              if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n                $(o.parentgallery).get(0).api_player_rateSubmitted();\n              }\n            }\n\n\n            if (selfClass.index_extrahtml_toloads <= 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n            selfClass.index_extrahtml_toloads--;\n            if (selfClass.index_extrahtml_toloads <= 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n          }\n        });\n      }\n    }\n\n\n    ;\n\n\n    function ajax_submit_download(argp) {\n      //only handles ajax call + result\n      var mainarg = argp;\n      var data = {\n        action: 'dzsap_submit_download',\n        postdata: mainarg,\n        playerid: selfClass.the_player_id\n      };\n\n      if (selfClass.starrating_alreadyrated > -1) {\n        return;\n      }\n\n      if (selfClass.urlToAjaxHandler) {\n\n        $.ajax({\n          type: \"POST\",\n          url: selfClass.urlToAjaxHandler,\n          data: data,\n          success: function (response) {\n            // console.log('Got this from the server: ' + response);\n\n\n          },\n          error: function (arg) {\n            // console.log('Got this from the server: ' + arg, arg);\n\n\n          }\n        });\n      }\n    };\n\n\n    function setup_media(pargs) {\n      // -- order = init, setup_media, init_loaded\n\n\n      //                return;\n\n\n      var margs = {\n\n        'do_not_autoplay': false\n        , 'called_from': 'default'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n      // console.log('%c --- #setup_media()', 'background-color: #eaeaea;', cthis.attr('data-source'), o.cue,selfClass.ajax_view_submitted, margs, loaded, 'cthis - ', cthis, 'o.preload_method -'  , o.preload_method, 'loaded - ',loaded);\n\n\n      // -- these types should not exist\n      if (selfClass.audioType == 'icecast' || selfClass.audioType == 'shoutcast') {\n        selfClass.audioType = 'selfHosted';\n      }\n\n      if (o.cue == 'off') {\n        //console.log(selfClass.ajax_view_submitted);\n        if (selfClass.ajax_view_submitted == 'auto') {\n\n\n          // -- why is view submitted ?\n          selfClass.increment_views = 1;\n\n          // console.log(o.settings_extrahtml);\n          if (String(o.settings_extrahtml).indexOf('{{get_plays}}') > -1) {\n            selfClass.ajax_view_submitted = 'on'\n          } else {\n            selfClass.ajax_view_submitted = 'off';\n          }\n          ;\n        }\n      }\n\n\n      //console.log(type, o.type, loaded);\n\n      if (selfClass.playerIsLoaded == true) {\n        return;\n      }\n\n\n      if (cthis.attr('data-original-type') == 'youtube') {\n        return;\n      }\n\n      // console.log(\"SETUP MEDIA\", margs, type);\n\n\n      if (selfClass.audioType == 'youtube') {\n\n        load_yt_api();\n\n\n        if (String(cthis.attr('data-source')).indexOf('youtube.com/watch')) {\n\n          var dataSrc = cthis.attr('data-source');\n          var auxa = String(dataSrc).split('youtube.com/watch?v=');\n//                            console.log(auxa);\n          if (auxa[1]) {\n\n            dataSrc = auxa[1];\n            if (auxa[1].indexOf('&') > -1) {\n              var auxb = String(auxa[1]).split('&');\n              dataSrc = auxb[0];\n            }\n\n            cthis.attr('data-source', dataSrc);\n          }\n        }\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n        if (o.settings_exclude_from_list != 'on' && dzsap_list && dzsap_list.indexOf(cthis) == -1) {\n          if (dzsap_list) {\n\n            if (cthis.attr('data-do-not-include-in-list') != 'on') {\n              dzsap_list.push(cthis);\n            }\n          }\n        }\n        dzsap_yt_list.push(cthis);\n\n\n        // -- clear on change media\n        if (margs.called_from == 'change_media') {\n          yt_inited = false;\n          if (selfClass._cmedia && selfClass._cmedia.destroy) {\n\n            selfClass._cmedia.destroy();\n            //return false;\n            console.log(\"DESTROYED LAST PLAYERS\");\n          }\n          _theMedia.children().remove();\n        }\n\n\n        _theMedia.append('<div id=\"' + yt_curr_id + '\"></div>');\n        cthis.get(0).fn_yt_ready = youtube_checkReady;\n\n        if (window.YT) {\n          youtube_checkReady(yt_curr_id);\n        }\n\n\n        cthis.addClass('media-setuped');\n        cthis.addClass('meta-loaded');\n\n        if (selfClass._sourcePlayer) {\n          selfClass._sourcePlayer.addClass('meta-loaded');\n        }\n      }\n\n\n      var str_open_audio_tag = '';\n      var aux_source = '';\n      var str_close_audio_tag = '';\n\n      if (dzsapHelpers.is_ios()) {\n        o.preload_method = 'metadata';\n      }\n\n      // console.log(\"COOKING .change_media\", ' type - ',type);\n\n      if (selfClass.audioType == 'selfHosted' || selfClass.audioType == 'soundcloud') {\n        str_open_audio_tag += '<audio';\n        str_open_audio_tag += ' preload=\"' + o.preload_method + '\"';\n        if (o.skinwave_enableSpectrum == 'on') {\n          str_open_audio_tag += ' crossOrigin=\"anonymous\"';\n          // str_open_audio_tag += ' src=\"'+cthis.attr('data-source')+'\"';\n        }\n\n        if (dzsapHelpers.is_ios()) {\n          if (margs.called_from == 'change_media') {\n            str_open_audio_tag += ' autoplay';\n          }\n        }\n\n        str_open_audio_tag += '>';\n        aux_source = '';\n\n        // console.log('cthis.attr(\"data-source\")', cthis.attr('data-source'));\n        if (selfClass.data_source) {\n\n          if (!selfClass.data_source && type_normal_stream_type != 'icecast') {\n            selfClass.data_source = cthis.attr('data-source');\n          }\n\n          // console.log('selfClass.data_source'+' - '+selfClass.data_source)\n          if (selfClass.data_source != 'fake') {\n            aux_source += '<source src=\"' + selfClass.data_source + '\" type=\"audio/mpeg\">';\n            if (cthis.attr('data-sourceogg') != undefined) {\n              aux_source += '<source src=\"' + cthis.attr('data-sourceogg') + '\" type=\"audio/ogg\">';\n            }\n          } else {\n            cthis.addClass('meta-loaded meta-fake');\n          }\n        }\n        str_close_audio_tag += '</audio>';\n\n\n        //console.log(str_open_audio_tag, _theMedia);\n\n        str_audio_element = str_open_audio_tag + aux_source + str_close_audio_tag;\n\n        // console.log(' .final_aux - ', str_audio_element, _theMedia);\n\n\n        // -- change media\n        if (margs.called_from == 'change_media') {\n          if (_cwatermark && _cwatermark.pause) {\n            _cwatermark.pause();\n          }\n          _theMedia.find('.the-watermark').remove();\n          _cwatermark = null;\n          if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n\n            // -- we append only the source to mobile devices as we need the thing to autoplay without user action\n\n            if (selfClass._cmedia) {\n              _theMedia.children().remove();\n              $(selfClass._cmedia).append(aux_source);\n\n              selfClass._cmedia.addEventListener('loadedmetadata', function (e) {\n                // console.log('loadedmetadata', this, this.audioElement, this.duration, cthis);\n                // console.log('add metaloaded here');\n\n                cthis.addClass('meta-loaded');\n                cthis.removeClass('meta-fake');\n                if (selfClass._sourcePlayer) {\n                  selfClass._sourcePlayer.addClass('meta-loaded');\n                }\n              }, true);\n\n              if (selfClass._cmedia.load) {\n\n                selfClass._cmedia.load();\n              }\n            }\n\n          } else {\n            // -- normal desktop\n\n            // console.log('%c .str_audio_element - ', 'background-color: #dada20;',str_audio_element);\n            _theMedia.append(str_audio_element);\n            selfClass._cmedia = (_theMedia.children('audio').get(0));\n          }\n        } else {\n\n\n          // console.log(\"_theMedia.html() - \",_theMedia.html());\n          // console.log(\"str_audio_element - \",str_audio_element);\n          _theMedia.children().remove();\n          _theMedia.append(str_audio_element);\n          selfClass._cmedia = (_theMedia.children('audio').get(0));\n          // console.log(\"_theMedia.html() - \",_theMedia.html());\n\n\n          if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n            if (margs.called_from == 'retrieve_soundcloud_url') {\n              setTimeout(function () {\n                pause_media();\n              }, 500);\n            }\n          }\n        }\n\n        if (cthis.attr('data-soft-watermark')) {\n          //type=\"audio/wav\"\n\n          //console.log('add watermark');\n          _theMedia.append('<audio class=\"the-watermark\" preload=\"metadata\" loop><source src=\"' + cthis.attr('data-soft-watermark') + '\" /></audio>');\n          _cwatermark = _theMedia.find('.the-watermark').get(0);\n\n          if (_cwatermark.volume) {\n            _cwatermark.volume = defaultVolume * o.watermark_volume;\n          }\n          //console.log(_cwatermark);\n        }\n\n        // console.log(margs);\n\n\n        //return;\n        //_theMedia.children('audio').get(0).autoplay = false;\n\n\n        // console.log('cthis.attr(\\'data-source\\') - ',cthis.attr('data-source'));\n        if (selfClass._cmedia && selfClass._cmedia.addEventListener && cthis.attr('data-source') != 'fake') {\n\n          func_audio_error = function (e) {\n            console.log('errored out', this, this.audioElement, this.duration, e, e.target.error);\n            var noSourcesLoaded = (this.networkState === HTMLMediaElement.NETWORK_NO_SOURCE);\n            if (noSourcesLoaded && dzsapHelpers.dzsap_is_mobile() == false) {\n              if (cthis.hasClass('errored-out') == false) {\n                console.log(\"%c could not load audio source - \", 'color:#ff2222;', cthis.attr('data-source'));\n\n                if (attempt_reload < 5) {\n                  setTimeout(function (earg) {\n\n                    // console.log(\"ERROR !!!\", selfClass._cmedia, selfClass._cmedia.src, cthis.attr('data-source'), earg);\n                    // console.log(earg.target.error)\n\n                    if (selfClass._cmedia) {\n\n                      selfClass._cmedia.src = '';\n                    }\n                    // selfClass._cmedia.load();\n\n\n                    setTimeout(function () {\n\n                      // console.log(selfClass._cmedia, selfClass._cmedia.src, cthis.attr('data-source'));\n\n                      if (selfClass._cmedia) {\n                        selfClass._cmedia.src = cthis.attr('data-source');\n                        selfClass._cmedia.load();\n                      }\n                    }, 1000)\n\n\n                  }, 1000, e)\n                  attempt_reload++;\n                } else {\n\n\n                  if (o.notice_no_media == 'on') {\n\n                    //&& e.target && e.target.error && (e.target.error.code==1 || e.target.error.code==2|| e.target.error.code==3|| e.target.error.code==5)\n\n\n                    cthis.addClass('errored-out');\n\n                    var txt = 'error - file does not exist...';\n                    if (e.target.error) {\n                      txt = e.target.error.message;\n                    }\n\n\n                    cthis.append('<div class=\"feedback-text\">' + txt + ' </div>');\n                  }\n                }\n              }\n            }\n\n\n          }\n          selfClass._cmedia.addEventListener('error', func_audio_error, true);\n          selfClass._cmedia.addEventListener('loadedmetadata', function (e) {\n            // console.log('loadedmetadata', this, this.audioElement, this.duration, cthis);\n            cthis.addClass('meta-loaded');\n            cthis.removeClass('meta-fake');\n\n            if (selfClass._sourcePlayer) {\n              selfClass._sourcePlayer.addClass('meta-loaded');\n              selfClass._sourcePlayer.removeClass('meta-fake');\n            }\n            // console.log('add metaloaded here');\n\n\n            if (margs.called_from == 'change_media') {\n              if (cthis.hasClass('init-loaded') == false) {\n                init_loaded({\n                  'call_from': 'force_reload_change_media'\n                })\n              }\n            }\n          }, true);\n        }\n\n\n        //console.log(cthis,type);\n        if (selfClass.audioType != 'fake') {\n\n          //return false;\n        }\n\n        //alert(selfClass._cmedia);\n      }\n\n      // console.log(\"MEDIA SETUPED\",_conPlayPause);\n      cthis.addClass('media-setuped');\n      //_conPlayPause.off('click');\n\n\n      if (margs.called_from == 'change_media') {\n        return false;\n      }\n\n      if (selfClass.audioType != 'youtube') {\n        if (cthis.attr('data-source') == 'fake') {\n          if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n            init_loaded(margs);\n          }\n        } else {\n          if (dzsapHelpers.is_ios()) {\n\n            setTimeout(function () {\n              init_loaded(margs);\n            }, 1000);\n\n\n          } else {\n\n            // -- check_ready() will fire init_loaded()\n            inter_checkReady = setInterval(function () {\n              check_ready(margs);\n            }, 50);\n            //= setInterval(check_ready, 50);\n          }\n\n        }\n\n\n        if (o.preload_method == 'none') {\n\n          // console.log(window.dzsap_player_index);\n          setTimeout(function () {\n            if (selfClass._cmedia) {\n\n              $(selfClass._cmedia).attr('preload', 'metadata');\n            }\n          }, (Number(window.dzsap_player_index) + 1 * 18000));\n        }\n\n\n        // -- hmm\n        // console.log(\"ASSIGN HERE\", cthis, _conPlayPause);\n\n\n        if (o.design_skin == 'skin-customcontrols' || o.design_skin == 'skin-customhtml') {\n          cthis.find('.custom-play-btn,.custom-pause-btn').off('click');\n          cthis.find('.custom-play-btn,.custom-pause-btn').on('click', click_playpause);\n        }\n\n        if (o.failsafe_repair_media_element) {\n          setTimeout(function () {\n\n            if (_theMedia.children().eq(0).get(0) && _theMedia.children().eq(0).get(0).nodeName == \"AUDIO\") {\n              //console.log('ceva');\n              return false;\n            }\n            _theMedia.html('');\n            _theMedia.append(str_audio_element);\n\n            var aux_wasplaying = selfClass.player_playing;\n\n            pause_media();\n            //return;\n            //_theMedia.children('audio').get(0).autoplay = false;\n            selfClass._cmedia = (_theMedia.children('audio').get(0));\n\n\n            if (aux_wasplaying) {\n              aux_wasplaying = false;\n              setTimeout(function () {\n\n                play_media({\n                  'call_from': 'aux_was_playing'\n                });\n              }, 20);\n            }\n          }, o.failsafe_repair_media_element);\n\n          o.failsafe_repair_media_element = '';\n\n        }\n      }\n\n      if (o.design_skin == 'skin-wave') {\n        if (o.skinwave_enableSpectrum == 'on') {\n          dzsapHelpers.player_initSpectrumOnUserAction(selfClass);\n        }\n      }\n\n\n      // dzsapHelpers.is_ios() ||\n\n\n      setuped_media = true;\n\n\n    }\n\n    function destroy_cmedia() {\n      // -- destroy cmedia\n      if (selfClass._cmedia) {\n\n        selfClass._cmedia.removeEventListener('error', func_audio_error, true);\n      }\n      $(selfClass._cmedia).remove();\n      selfClass._cmedia = null;\n      setuped_media = false;\n      selfClass.playerIsLoaded = false;\n    }\n\n    function destroy_media() {\n      //console.log(\"destroy_media()\", cthis)\n      pause_media();\n\n\n      if (selfClass._cmedia) {\n\n        //console.log(selfClass._cmedia, selfClass._cmedia.src);\n        if (selfClass._cmedia.children) {\n\n          //selfClass._cmedia.children().remove();\n        }\n\n        //console.log(selfClass._cmedia.innerHTML);\n        if (o.type == 'audio') {\n          selfClass._cmedia.innerHTML = '';\n          selfClass._cmedia.load();\n        }\n        //console.log(selfClass._cmedia.innerHTML);\n\n        //selfClass._cmedia.remove();\n      }\n\n      if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n      } else {\n        if (_theMedia) {\n\n          _theMedia.children().remove();\n          selfClass.playerIsLoaded = false;\n        }\n      }\n\n      destroy_cmedia();\n\n    }\n\n    function setup_listeners() {\n\n\n      if (setuped_listeners) {\n        return false;\n      }\n      // console.log('setup_listeners()');\n\n      setuped_listeners = true;\n\n\n      // -- adding scrubbar listeners\n      selfClass._scrubbar.unbind('mousemove');\n      selfClass._scrubbar.unbind('mouseleave');\n      selfClass._scrubbar.unbind('click');\n      selfClass._scrubbar.bind('mousemove', handleMouseOnScrubbar);\n      selfClass._scrubbar.bind('mouseleave', handleMouseOnScrubbar);\n      selfClass._scrubbar.bind('click', handleMouseOnScrubbar);\n\n      // cthis.on('');\n\n\n      // console.log('_controlsVolume -' ,_controlsVolume);\n\n\n      _controlsVolume.on('click', '.volumeicon', click_mute);\n\n      _controlsVolume.bind('mousemove', mouse_volumebar);\n      _controlsVolume.bind('mousedown', mouse_volumebar);\n\n\n      // $(document).undelegate(window, 'mouseup', mouse_volumebar);\n      $(document).on('mouseup', window, mouse_volumebar);\n\n      if (o.design_skin == 'skin-silver') {\n        cthis.on('click', '.volume-holder', mouse_volumebar);\n      }\n\n      cthis.find('.playbtn').unbind('click');\n\n\n      //                console.log('setup_listeners()');\n\n      setTimeout(handleResize, 300);\n      // setTimeout(handleResize,1000);\n      setTimeout(handleResize, 2000);\n\n      if (o.settings_trigger_resize > 0) {\n        inter_trigger_resize = setInterval(handleResize, o.settings_trigger_resize);\n      }\n\n\n      cthis.addClass('listeners-setuped');\n\n\n      return false;\n\n      //                console.log('ceva');\n    }\n\n    function click_like() {\n      // console.log('zoomsounds - click_like()');\n      var _t = $(this);\n      if (cthis.has(_t).length == 0) {\n        return;\n      }\n\n      if (_t.hasClass('active')) {\n        (dzsapAjax.ajax_retract_like.bind(selfClass))();\n      } else {\n        (dzsapAjax.ajax_submit_like.bind(selfClass))();\n      }\n    }\n\n\n    function get_last_vol() {\n      return last_vol;\n    }\n\n    function init_loaded(pargs) {\n\n      if (cthis.attr('id') == 'apminimal') {\n      }\n      // console.log('init_loaded() - ', pargs, cthis, cthis.hasClass('loaded'));\n      if (cthis.hasClass('dzsap-loaded')) {\n        return;\n      }\n\n      var margs = {\n\n        'do_not_autoplay': false\n        , 'call_from': 'init'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.groupCollapsed('init_loaded()');\n      // console.log('', margs);\n      //\n      // console.log(cthis, cthis.hasClass('loaded'));\n      // console.groupEnd();\n\n      setTimeout(function () {\n        safe_to_change_track = true;\n      }, 5000);\n\n\n      if (typeof (selfClass._cmedia) != \"undefined\" && selfClass._cmedia) {\n        if (selfClass._cmedia.nodeName == 'AUDIO') {\n          //console.log(selfClass._cmedia);\n          selfClass._cmedia.addEventListener('ended', handle_end);\n        }\n      }\n\n\n      //console.log(\"CLEAR THE TIMEOUT HERE\")\n      clearInterval(inter_checkReady);\n      clearTimeout(inter_checkReady);\n      setup_listeners();\n      //console.log('setuped_listeners', cthis.hasClass('dzsap-loaded'), cthis)\n\n\n      setTimeout(function () {\n\n        //console.log(_currTime, )\n        if (_currTime && _currTime.outerWidth() > 0) {\n          currTime_outerWidth = _currTime.outerWidth();\n        }\n      }, 1000);\n\n\n      // -- this comes from cue off, no pcm data\n\n\n      // console.log('selfClass.isPcmPromisingToGenerateOnMetaLoad - ', selfClass.isPcmPromisingToGenerateOnMetaLoad);\n\n      dzsapWaveFunctions.scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, {\n        called_from: 'init_loaded()'\n      });\n\n\n      //console.log('type - ',type);\n      //console.log('initLoaded() - margs - ',margs);\n\n\n      if (selfClass.audioType != 'fake' && margs.call_from != 'force_reload_change_media') {\n        if (o.settings_exclude_from_list != 'on' && dzsap_list && dzsap_list.indexOf(cthis) == -1) {\n          if (selfClass._actualPlayer == null) {\n            dzsap_list.push(cthis);\n          }\n        }\n\n\n        if (o.type_audio_stop_buffer_on_unfocus == 'on') {\n\n\n          cthis.data('type_audio_stop_buffer_on_unfocus', 'on');\n\n          cthis.get(0).api_destroy_for_rebuffer = function () {\n\n            if (o.type == 'audio') {\n              playfrom = selfClass._cmedia.currentTime;\n            }\n            //console.log(playfrom);\n            destroy_media();\n\n            destroyed_for_rebuffer = true;\n          }\n\n        }\n      }\n\n      //console.log(\"CHECK TIME\",cthis);\n\n\n      //console.log(selfClass.ajax_view_submitted);\n\n      if (selfClass.ajax_view_submitted == 'auto') {\n        setTimeout(function () {\n          if (selfClass.ajax_view_submitted == 'auto') {\n            selfClass.ajax_view_submitted = 'off';\n          }\n        }, 1000);\n      }\n\n      //console.log('---- ADDED LOADED BUT FROM WHERE', cthis);\n      selfClass.playerIsLoaded = true;\n\n      if (selfClass.data_source != 'fake') {\n\n        cthis.addClass('dzsap-loaded');\n      }\n\n      //                console.log(playfrom);\n\n      if (o.default_volume == 'default') {\n        defaultVolume = 1;\n      }\n\n      if (isNaN(Number(o.default_volume)) == false) {\n        defaultVolume = Number(o.default_volume);\n      } else {\n        if (o.default_volume == 'last') {\n\n\n          if (localStorage != null && selfClass.the_player_id) {\n\n            //console.log(selfClass.the_player_id);\n\n\n            if (localStorage.getItem('dzsap_last_volume_' + selfClass.the_player_id)) {\n\n              defaultVolume = localStorage.getItem('dzsap_last_volume_' + selfClass.the_player_id);\n            } else {\n\n              defaultVolume = 1;\n            }\n          } else {\n\n            defaultVolume = 1;\n          }\n        }\n      }\n\n      if (o.volume_from_gallery) {\n        defaultVolume = o.volume_from_gallery;\n      }\n\n\n      // console.log(pargs);\n      set_volume(defaultVolume, {\n        call_from: \"from_init_loaded\"\n      });\n\n\n      // console.log('pseudo_sample_time_start -> ',pseudo_sample_time_start);\n      if (pseudo_sample_time_start) {\n        playfrom = (pseudo_sample_time_start);\n      }\n      // console.log('playfrom -> ',playfrom);\n      if (dzsHelpers.isInt(playfrom)) {\n        seek_to(playfrom, {\n          call_from: 'from_playfrom'\n        });\n      }\n\n\n      // TODO: debug\n      // localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = 10;\n      if (playfrom == 'last') {\n        // -- here we save last position\n        if (typeof Storage != 'undefined') {\n          setTimeout(function () {\n            playfrom_ready = true;\n          })\n\n\n          if (typeof localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] != 'undefined') {\n\n            // console.log(\"LETS SEEK TO lastposition -3 \",localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'])\n            seek_to(localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'], {\n              'call_from': 'last_pos'\n            });\n          }\n        }\n      }\n      //return false ;\n\n      //                console.log(cthis, o.autoplay);\n\n\n      if (margs.do_not_autoplay != true) {\n\n        if (o.autoplay == 'on' && o.cue == 'on') {\n          // console.log('margs.do_not_autoplay - ', margs.do_not_autoplay, margs,o);\n          play_media({\n            'call_from': 'do not autoplay not true ( init_loaded() ) '\n          });\n        }\n        ;\n      }\n\n      if (selfClass._cmedia && selfClass._cmedia.duration) {\n        cthis.addClass('meta-loaded');\n      }\n\n\n      // -- init loaded()\n\n\n      // if(debug_var2){\n      //\n      //     debug_var2 = false;\n      // }\n\n      // console.log('called check_time() - ',cthis);\n\n      handleTickChange({\n        'fire_only_once': false\n      });\n\n      if (o.autoplay == 'off') {\n        sw_suspend_enter_frame = true;\n      }\n\n      cthis.addClass('init-loaded');\n\n      setTimeout(function () {\n        //console.log(cthis.find('.wave-download'));\n\n        get_times({\n          'call_from': 'set timeout 500'\n        });\n        handleTickChange({\n          'fire_only_once': true\n        });\n\n        cthis.find('.wave-download').bind('click', handle_mouse);\n      }, 500);\n\n      setTimeout(function () {\n        //console.log(cthis.find('.wave-download'));\n\n        get_times({\n          'call_from': 'set timeout 1000'\n        });\n\n        handleTickChange({\n          'fire_only_once': true\n        });\n\n\n      }, 1000);\n\n\n      setTimeout(function () {\n\n        // console.log('selfClass._cmedia.duration - ',selfClass._cmedia.duration)\n      }, 2000);\n\n\n      // console.log('init_loaded - ',o.action_video_contor_60secs);\n      if (inter_60_secs_contor == 0 && o.action_video_contor_60secs) {\n        inter_60_secs_contor = setInterval(count_60secs, 30000);\n      }\n\n\n    }\n\n\n    function count_60secs() {\n\n      // console.log('count it',o.action_video_contor_60secs,cthis.hasClass('is-playing'));\n      if (o.action_video_contor_60secs && cthis.hasClass('is-playing')) {\n        o.action_video_contor_60secs(cthis, '');\n      }\n    }\n\n\n    function handle_mouse(e) {\n      var _t = $(this);\n\n      // console.log('handle_mouse() _t - ',_t);\n\n      if (e.type == 'click') {\n        if (_t.hasClass('wave-download')) {\n          ajax_submit_download();\n        }\n        if (_t.hasClass('prev-btn')) {\n          click_prev_btn();\n        }\n        if (_t.hasClass('next-btn')) {\n          click_next_btn();\n        }\n        if (_t.hasClass('tooltip-indicator--btn-footer-playlist')) {\n\n          _t.parent().find('.dzstooltip').toggleClass('active');\n        }\n        if (_t.hasClass('playlist-menu-item')) {\n\n\n          var ind = _t.parent().children().index(_t);\n\n\n          console.log('ind - ', ind);\n\n          playlist_goto_item(ind, {\n            'call_from': 'handle_mouse'\n          })\n\n\n        }\n        if (_t.hasClass('zoomsounds-btn-go-beginning')) {\n\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_seek_to_0();\n        }\n        if (_t.hasClass('zoomsounds-btn-step-backward')) {\n\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_step_back();\n        }\n        if (_t.hasClass('zoomsounds-btn-step-forward')) {\n\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_step_forward();\n        }\n        if (_t.hasClass('zoomsounds-btn-slow-playback')) {\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_playback_slow();\n        }\n        if (_t.hasClass('zoomsounds-btn-reset')) {\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_playback_reset();\n        }\n        if (_t.hasClass('btn-zoomsounds-download')) {\n          ajax_submit_download();\n        }\n        if (_t.hasClass('dzsap-repeat-button')) {\n\n          // console.log(\"REPEAT\");\n          if (selfClass.player_playing) {\n          }\n          seek_to(0, {\n            call_from: \"repeat\"\n          });\n        }\n        if (_t.hasClass('dzsap-loop-button')) {\n\n          if (_t.hasClass('active')) {\n            _t.removeClass('active');\n            loop_active = false;\n          } else {\n\n            _t.addClass('active');\n            loop_active = true;\n\n          }\n          console.log('loop_active - ', loop_active, cthis);\n\n\n        }\n      }\n      if (e.type == 'mousedown') {\n\n        // console.log('mouse down');\n\n        var _con = _t.parent();\n\n        _con.parent().append(_con.clone().addClass('cloner'));\n        var _clone = _con.parent().children('.cloner').eq(0);\n\n        dzsap_playlist_con = _con.parent();\n        dzsap_moving_playlist_item = true;\n\n        dzsap_playlist_item_target = _con;\n        dzsap_playlist_item_moving = _clone;\n        _con.addClass('target-playlist-item');\n\n\n      }\n      if (e.type == 'mouseover') {\n      }\n      if (e.type == 'mouseenter') {\n        // console.log('mouseenter');\n\n        if (o.preview_on_hover == 'on') {\n          seek_to_perc(0);\n\n          play_media({\n            'call_from': 'preview_on_hover'\n          });\n          console.log('mouseover');\n        }\n\n        window.dzsap_mouseover = true;\n      }\n      if (e.type == 'mouseleave') {\n        // console.log('mouseleave');\n\n\n        if (o.preview_on_hover == 'on') {\n          seek_to_perc(0);\n\n          pause_media();\n        }\n        window.dzsap_mouseover = false;\n      }\n    }\n\n    function mouse_starrating(e) {\n      var _t = $(this);\n\n      // console.log('mouse_starrating ' , e.type, _t);\n\n\n      if (cthis.has(_t).length == 0) {\n        return;\n      }\n\n      if (e.type == 'mouseleave') {\n\n\n        var auxnr = Number(cthis.find('.star-rating-con').eq(0).attr('data-initial-rating-index')) * 100;\n\n\n        // console.log('selfClass.starrating_alreadyrated - ',selfClass.starrating_alreadyrated);\n        if (selfClass.starrating_alreadyrated > -1 && selfClass.starrating_alreadyrated > 0) {\n          auxnr = selfClass.starrating_alreadyrated * 100 / 5;\n        }\n\n        cthis.find('.rating-prog').css({\n          'width': auxnr + '%'\n        })\n\n\n      }\n      if (e.type == 'mousemove') {\n        //console.log(_t);\n        var mx = e.pageX - _t.offset().left;\n        var my = e.pageX - _t.offset().left;\n\n        // console.log('Math.round(mx/ (_t.outerWidth()/5)) - ' , Math.round(mx/ (_t.outerWidth()/5)) );\n        // console.log('selfClass.starrating_alreadyrated - ' , selfClass.starrating_alreadyrated );\n\n\n        starrating_index = Math.round(mx / (_t.outerWidth() / 5));\n\n\n        if (starrating_index > 4) {\n          starrating_index = 5;\n        } else {\n          starrating_index = Math.round(starrating_index);\n        }\n\n        if (starrating_index < 1) {\n          starrating_index = 1;\n        }\n\n        //                    console.log(starrating_index, cthis.find('.star-rating-prog-clip'));\n\n        // console.log('starrating_index - ',starrating_index);\n        // console.log('(starrating_index/5 * 100) - ',(starrating_index/5 * 100));\n        cthis.find('.rating-prog').css({\n          'width': (starrating_index / 5 * 100) + '%'\n        })\n\n        selfClass.starrating_alreadyrated = -1;\n\n\n        cthis.find('.star-rating-set-clip').css({\n          'opacity': 0\n        })\n      }\n      if (e.type == 'click') {\n\n\n        if (selfClass.starrating_alreadyrated > -1 && selfClass.starrating_alreadyrated > 0) {\n          return;\n        }\n\n        (dzsapAjax.ajax_submit_rating.bind(selfClass))(starrating_index);\n      }\n\n\n    }\n\n\n    // log if an error occurs\n    function onError(e) {\n      console.log(e);\n    }\n\n    function draw_curr_time() {\n\n      // -- draw current time -- called onEnterFrame when playing\n      // console.log('draw_curr_time() -7');\n\n\n      if (o.design_skin == 'skin-wave') {\n        if (o.skinwave_enableSpectrum == 'on') {\n\n          // -- spectrum ON\n\n\n          //console.log(_scrubBgCanvas.width());\n\n\n          // -- easing\n\n\n          if (selfClass.player_playing) {\n\n          } else {\n            // requestAnimFrame(handleTickChange);\n            return false;\n          }\n\n\n          /*\n                         ctx.imageSmoothingEnabled = false;\n                         ctx.imageSmoothing = false;\n                         ctx.imageSmoothingQuality = \"high\";\n                         ctx.webkitImageSmoothing = false;\n                         */\n\n          var meterNum = canw / (10 + 2); //count of the meters\n\n\n          //console.log(_scrubBgCanvas);\n          if (_scrubBgCanvas) {\n\n            canw = _scrubBgCanvas.width();\n            canh = _scrubBgCanvas.height();\n\n            _scrubBgCanvas.get(0).width = canw;\n            _scrubBgCanvas.get(0).height = canh;\n          }\n\n\n          var drawMeter = function () {\n\n            //console.log(o.type);\n\n            if (o.type == 'soundcloud' || sw_spectrum_fakeit == 'on') {\n\n              selfClass.lastArray = dzsapHelpers.generateFakeArrayForPcm();\n\n            } else {\n\n              if (selfClass.spectrum_analyser) {\n                selfClass.lastArray = new Uint8Array(selfClass.spectrum_analyser.frequencyBinCount);\n                selfClass.spectrum_analyser.getByteFrequencyData(selfClass.lastArray);\n              }\n            }\n\n\n            if (selfClass.lastArray && selfClass.lastArray.length) {\n\n\n              //fix when some sounds end the value still not back to zero\n              var len = selfClass.lastArray.length;\n              for (var i = len - 1; i >= 0; i--) {\n                //selfClass.lastArray[i] = 0;\n\n                if (i < len / 2) {\n\n                  selfClass.lastArray[i] = selfClass.lastArray[i] / 255 * canh;\n                } else {\n\n                  selfClass.lastArray[i] = selfClass.lastArray[len - i] / 255 * canh;\n                }\n              }\n              ;\n\n\n              if (selfClass.last_lastarray) {\n                for (var i3 = 0; i3 < selfClass.last_lastarray.length; i3++) {\n                  begin_viy = selfClass.last_lastarray[i3]; // -- last value\n                  change_viy = selfClass.lastArray[i3] - begin_viy; // -- target value - last value\n                  duration_viy = 3;\n                  selfClass.lastArray[i3] = Math.easeIn(1, begin_viy, change_viy, duration_viy);\n                }\n              }\n              // -- easing END\n\n              dzsapHelpers.draw_canvas(_scrubBgCanvas.get(0), selfClass.lastArray, '' + o.design_wave_color_bg, {\n                'call_from': 'spectrum',\n                selfClass,\n                'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n                'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n              })\n\n\n              if (selfClass.lastArray) {\n                selfClass.last_lastarray = selfClass.lastArray.slice();\n              }\n\n\n            }\n\n          }\n\n          drawMeter();\n\n\n          // -- end spectrum\n        }\n\n        // console.log('_currTime - ',_currTime, o.skinwave_timer_static);\n\n        if (_currTime && _currTime.length) {\n          //                        console.log(_currTime, selfClass.timeCurrent, time_total, formatTime(selfClass.timeCurrent))\n\n          if (o.skinwave_timer_static != 'on') {\n\n            if (spos < 0) {\n              spos = 0;\n            }\n            spos = parseInt(spos, 10);\n\n\n            if (spos < 2 && cthis.data('promise-to-play-footer-player-from')) {\n              // console.error(\"WE RETURN IT\")\n              return false;\n            }\n\n            // -- move currTime\n            _currTime.css({\n              'left': spos\n            });\n\n            // console.log('spos - ',spos);\n            // console.log('sw - ',sw);\n            if (spos > sw - currTime_outerWidth) {\n              //console.log(sw, currTime_outerWidth);\n              _currTime.css({\n                'left': sw - currTime_outerWidth\n              })\n            }\n            if (spos > sw - 30 && sw) {\n              _totalTime.css({\n                'opacity': 1 - (((spos - (sw - 30)) / 30))\n              });\n            } else {\n              if (_totalTime.css('opacity') != '1') {\n                _totalTime.css({\n                  'opacity': ''\n                });\n              }\n            }\n            ;\n          }\n          ;\n        }\n      }\n\n\n      // console.log('sample_time_total - ',sample_time_total,'selfClass.timeCurrent - ',selfClass.timeCurrent);\n      // console.log('sample_time_total - ',sample_time_total,'time_total - ',time_total);\n\n\n      if (_currTime) {\n        //console.log(_currTime, selfClass.timeCurrent, formatTime(selfClass.timeCurrent))\n        //console.log(\"CEVA\");\n\n\n        if (scrub_showing_scrub_time == false) {\n\n          _currTime.html(dzsapHelpers.formatTime(time_curr_for_visual));\n        }\n\n        if (time_total_for_visual && time_total_for_visual > -1) {\n          cthis.addClass('time-total-visible');\n\n\n          if (sent_received_time_total == false) {\n\n            if (o.action_received_time_total) {\n              o.action_received_time_total(time_total_for_visual, cthis);\n            }\n            sent_received_time_total = true;\n          }\n        }\n        if (time_total_for_visual != last_time_total) {\n          _totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n          _totalTime.fadeIn('fast');\n        }\n      }\n\n    }\n\n    function draw_scrub_prog() {\n\n      if (selfClass.timeTotal == 0) {\n        selfClass.timeTotal = time_total_for_visual;\n      }\n      spos = (selfClass.timeCurrent / selfClass.timeTotal) * sw;\n\n      // console.log('sw - ',sw);\n\n      if (selfClass._actualPlayer) {\n\n        if (time_curr_for_visual > 0 && time_total_for_visual > 0) {\n\n          spos = (time_curr_for_visual / time_total_for_visual) * sw;\n        }\n\n      }\n      if (isNaN(spos)) {\n        spos = 0;\n      }\n      if (spos > sw) {\n        spos = sw;\n      }\n\n      if (selfClass.timeCurrent == -1) {\n        spos = 0;\n      }\n\n      if (selfClass.timeTotal == 0 || selfClass.timeTotal == '-1' || isNaN(selfClass.timeTotal)) {\n        spos = 0;\n      }\n\n      // console.log('spos -3 ',spos, 'promise-to-play-footer-player-from -',cthis.data('promise-to-play-footer-player-from'), \"||\", cthis);\n\n      if (spos < 2 && cthis.data('promise-to-play-footer-player-from')) {\n        // console.error(\"WE RETURN IT\")\n        return false;\n      }\n\n      if (selfClass.spectrum_audioContext_buffer == null) {\n        if (__scrubbProg) {\n          __scrubbProg.style.width = parseInt(spos, 10) + 'px';\n        }\n      }\n    }\n\n    function click_prev_btn() {\n\n\n      console.log('click_prev_btn()')\n      if (o.parentgallery && (o.parentgallery.get(0))) {\n        o.parentgallery.get(0).api_goto_prev();\n      } else {\n\n        sync_players_goto_prev();\n      }\n    }\n\n    function click_next_btn() {\n      // console.log('click_next_btn()', dzsap_list, dzsap_list_for_sync_players);\n      if (o.parentgallery && (o.parentgallery.get(0))) {\n        o.parentgallery.get(0).api_goto_next();\n      } else {\n\n        sync_players_goto_next();\n      }\n    }\n\n    function get_times(pargs) {\n\n\n      var margs = {\n        'call_from': 'default'\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('get_times () margs - ',margs,'type - ',type,o.type);\n      // -- trying to get current time\n      if ((selfClass.audioType == 'selfHosted' || (selfClass.audioType == 'fake' && selfClass._actualPlayer))) {\n        if (o.type != 'shoutcast') {\n\n\n          if (selfClass._cmedia && isNaN(selfClass._cmedia.duration) == false) {\n            time_total_for_real = selfClass._cmedia.duration;\n          }\n\n          if (0 && selfClass.spectrum_audioContext_buffer && selfClass.spectrum_audioContext_buffer != 'placeholder' && selfClass.spectrum_audioContext_buffer != 'waiting') {\n\n            if (selfClass._actualPlayer == null) {\n              time_curr_for_real = selfClass.spectrum_audioContext.currentTime;\n            }\n\n          } else {\n\n            // -- normal\n            if (selfClass._cmedia) {\n              if (selfClass._actualPlayer == null) {\n                time_curr_for_real = selfClass._cmedia.currentTime;\n              }\n              if (inter_audiobuffer_workaround_id == 0) {\n\n\n              }\n\n            }\n\n          }\n\n\n          if (selfClass._actualPlayer) {\n            selfClass.timeCurrent = time_curr_for_visual;\n          }\n\n\n          if (playfrom == 'last' && playfrom_ready) {\n            if (typeof Storage != 'undefined') {\n              localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = selfClass.timeCurrent;\n            }\n          }\n\n\n        }\n\n\n      }\n\n\n      // -- setting real times ( if actual player is not there )\n      if (selfClass._actualPlayer === null && time_curr_for_real > -1) {\n        selfClass.timeCurrent = time_curr_for_real;\n        time_curr_for_visual = time_curr_for_real;\n      }\n\n      if (selfClass._actualPlayer === null && time_total_for_real > -1) {\n        selfClass.timeTotal = time_total_for_real;\n        time_total_for_visual = time_total_for_real;\n      }\n\n\n      // console.log('%c get_times() final result', ConstantsDzsAp.DEBUG_STYLE_2, 'time_total - ', time_total, 'time_total_for_real - ', time_total_for_real, 'time_total_for_visual - ', time_total_for_visual)\n\n      // console.log('time_total_for_real -5 ',time_total_for_real);\n    }\n\n\n    function handleTickChange(pargs) {\n\n\n      // -- enter frame\n      // console.log('handleTickChange()', cthis);\n\n      var margs = {\n        'fire_only_once': false\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (destroyed) {\n        console.log(\"DESTROYED\");\n        return false;\n      }\n\n\n      // console.log(sw_suspend_enter_frame);\n      if (margs.fire_only_once == false && sw_suspend_enter_frame) {\n\n        requestAnimFrame(handleTickChange);\n        // console.log(\"SUSPENDED ENTER FRAME HERE\");\n        return false;\n      }\n      // console.log(\"REACHED\");\n\n\n      get_times({\n        'call_from': 'checK_time'\n      });\n\n      if (selfClass.audioType == 'selfHosted') {\n\n      }\n\n\n      if (pseudo_sample_time_start) {\n\n        if (time_curr_for_visual < pseudo_sample_time_start) {\n          time_curr_for_visual = pseudo_sample_time_start;\n        }\n\n\n\n        // console.log('pseudo_sample_time_end - ',pseudo_sample_time_end)\n\n\n        if (pseudo_sample_time_end) {\n          if (selfClass.timeCurrent > pseudo_sample_time_end) {\n\n            var args = {\n              'call_from': 'time_curr>pseudo_sample_time_end'\n            }\n            handle_end(args);\n\n            ended = true;\n\n            clearTimeout(inter_ended);\n            inter_ended = setTimeout(function () {\n\n              ended = false;\n            }, 1000);\n          }\n        }\n      }\n\n\n      if (selfClass._actualPlayer == null) {\n\n        if (pseudo_sample_time_start == 0) {\n\n          if (sample_time_start > 0) {\n            time_curr_for_visual = sample_time_start + time_curr_for_real;\n\n          }\n        }\n      }\n\n\n      if (sample_time_total > 0) {\n\n        // console.error('sample_time_total - ',sample_time_total);\n        time_total_for_visual = sample_time_total;\n      }\n\n\n      draw_scrub_prog();\n\n\n      // console.log('cthis -5 ', cthis, selfClass._sourcePlayer);\n      if (selfClass._sourcePlayer) {\n        //console.log(cthis, selfClass._sourcePlayer);\n\n        if (selfClass._sourcePlayer.get(0)) {\n          if (selfClass._sourcePlayer.get(0).api_get_time_curr) {\n            // console.log('getting time total', selfClass._sourcePlayer.get(0).api_get_time_total());\n            if (isNaN(selfClass._sourcePlayer.get(0).api_get_time_total()) || selfClass._sourcePlayer.get(0).api_get_time_total() == '' || selfClass._sourcePlayer.get(0).api_get_time_total() < 1) {\n              // console.log('setting time total');\n\n              // console.log(\"SET TIME CUR - \",time_curr);\n              // console.error('SET time_total - ',time_total_for_visual);\n              selfClass._sourcePlayer.get(0).api_set_time_total(time_total_for_visual);\n            }\n\n            // if(debug_var){\n            //     console.error(\"SETTING TIME CURR\",time_curr, selfClass._sourcePlayer);\n            //      debug_var = false;\n            // }\n\n            selfClass._sourcePlayer.get(0).api_set_time_curr(selfClass.timeCurrent);\n          }\n        }\n\n\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_seek_to_visual) {\n          var temp_time_curr = selfClass.timeCurrent;\n          // TODO: to be continued\n          if (pseudo_sample_time_start == 0) {\n\n            if (sample_time_start) {\n              temp_time_curr -= sample_time_start;\n            }\n          }\n\n\n          selfClass._sourcePlayer.get(0).api_seek_to_visual(temp_time_curr / selfClass.timeTotal);\n        } else {\n          console.log('warning .. no seek to visual');\n        }\n\n      }\n\n\n      // if(debug_var){\n      //     console.log('cthis.hasClass(\\'skin-minimal\\') - ',cthis.hasClass('skin-minimal'), cthis,selfClass.player_playing,first_drawn_canvas);\n      //\n      //     debug_var = false;\n      // }\n\n\n      // -- skin minimal\n      if (o.design_skin == 'skin-minimal') {\n\n\n        if (!dzsap_can_canvas) {\n          _conPlayPause.addClass('canvas-fallback');\n        } else {\n\n\n          if (selfClass.player_playing || first_drawn_canvas == false) {\n\n            if (skin_minimal_canvasplay) {\n\n              var ctx_minimal = skin_minimal_canvasplay.getContext('2d');\n              //console.log(ctx);\n\n\n              var ctx_w = skin_minimal_canvasplay.width;\n              var ctx_h = skin_minimal_canvasplay.height;\n\n              // console.log(ctx_w);\n              var pw = ctx_w / 100;\n              var ph = ctx_h / 100;\n\n              if (selfClass._actualPlayer) {\n\n              }\n              spos = Math.PI * 2 * (selfClass.timeCurrent / selfClass.timeTotal);\n\n              if (isNaN(spos)) {\n                spos = 0;\n              }\n              if (spos > Math.PI * 2) {\n                spos = Math.PI * 2;\n              }\n\n              ctx_minimal.clearRect(0, 0, ctx_w, ctx_h);\n              //console.log(ctx_w, ctx_h);\n\n\n              // -- use design_wave_color_progress for drawing skin-minimal circle\n\n              // console.log('skin-minimal use o.design_wave_color_progress - ',o.design_wave_color_progress);\n              // var aux1 = parseInt(o.design_wave_color_progress, 16);\n              //\n              //\n              // var color1 = aux1;\n              // var color2 = aux1 + 12000;\n\n\n              // console.log(aux1,color1,color2, color1.toString(16), color2.toString(16));\n              //console.log(aux1.toString(16));\n\n\n              ctx_minimal.beginPath();\n              ctx_minimal.arc((50 * pw), (50 * ph), (40 * pw), 0, Math.PI * 2, false);\n              ctx_minimal.fillStyle = \"rgba(0,0,0,0.1)\";\n              ctx_minimal.fill();\n\n\n              // console.log(spos);\n              ctx_minimal.beginPath();\n              ctx_minimal.arc((50 * pw), (50 * ph), (34 * pw), 0, spos, false);\n              //ctx_minimal.fillStyle = \"rgba(0,0,0,0.3)\";\n              ctx_minimal.lineWidth = (10 * pw);\n              ctx_minimal.strokeStyle = 'rgba(0,0,0,0.3)';\n              ctx_minimal.stroke();\n\n\n              first_drawn_canvas = true;\n            }\n\n\n          } else {\n\n            if (margs.fire_only_once != true) {\n              requestAnimFrame(handleTickChange);\n\n            }\n            return false;\n          }\n        }\n        //console.log('ceva');\n      }\n\n\n      //                console.log(o.design_skin);\n\n      // -- enter_frame\n      // console.log(\"REACHED2\");\n      draw_curr_time();\n\n      //                console.log(selfClass.timeCurrent, selfClass.timeTotal);\n      if (safe_to_change_track && selfClass.timeTotal > 1 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07) {\n        var args = {\n          'call_from': 'selfClass.timeTotal > 0 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07 ... '\n        }\n\n        // if(debug_var2){\n        //\n        //     console.log('selfClass.timeCurrent - ',selfClass.timeCurrent, cthis);\n        //     console.log('selfClass.timeTotal - ',selfClass.timeTotal);\n        //     debug_var2 = false;\n        // }\n\n        // console.log('%c selfClass.timeTotal > 0 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07 ... ', 'background-color: #dada00;', selfClass.timeTotal, selfClass.timeCurrent);\n\n        if (selfClass._actualPlayer) {\n\n        } else {\n\n          handle_end(args);\n\n          ended = true;\n\n\n          clearTimeout(inter_ended);\n          inter_ended = setTimeout(function () {\n\n            ended = false;\n          }, 1000);\n        }\n      }\n\n\n      // -- debug handleTickChange\n      // inter_check = setTimeout(handleTickChange, 2000);\n      if (margs.fire_only_once != true) {\n        requestAnimFrame(handleTickChange);\n\n      }\n\n\n      last_time_total = time_total_for_visual;\n\n\n      if (selfClass.spectrum_audioContext) {\n        if (_totalTime) {\n          _totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n        }\n      }\n\n    }\n\n    function click_playpause(e) {\n      //console.log('click_playpause', 'selfClass.player_playing - ',selfClass.player_playing);\n\n      if (cthis.hasClass('prevent-bubble')) {\n\n        if (e && e.stopPropagation) {\n          e.preventDefault();\n          e.stopPropagation();\n          ;\n          // return false;\n        }\n\n      }\n\n      var _t = $(this);\n\n      var sw_cancel_toggle = false;\n      //console.log(_t);\n\n      // console.log('time_total_for_visual -7 ',time_total_for_visual);\n\n      if (cthis.hasClass('listeners-setuped')) {\n\n      } else {\n\n        $(selfClass._cmedia).attr('preload', 'auto');\n\n        setup_listeners();\n        init_loaded();\n\n        // console.log('time_total_for_visual -4 ',time_total_for_visual);\n\n\n        var it3 = setInterval(function () {\n\n          // console.log(selfClass._cmedia, selfClass._cmedia.duration);\n          if (selfClass._cmedia && selfClass._cmedia.duration && isNaN(selfClass._cmedia.duration) == false) {\n\n            real_time_total = selfClass._cmedia.duration;\n            selfClass.timeTotal = real_time_total;\n\n\n            cthis.addClass('meta-loaded');\n            if (_totalTime) {\n              // console.error(\"ENTER HERE 9057\");\n              _totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n            }\n\n            clearInterval(it3);\n          }\n        }, 1000);\n      }\n\n\n      if (o.design_skin == 'skin-minimal') {\n\n        var center_x = _t.offset().left + skin_minimal_button_size / 2;\n        var center_y = _t.offset().top + skin_minimal_button_size / 2;\n        var mouse_x = e.pageX;\n        var mouse_y = e.pageY;\n        var pzero_x = center_x + skin_minimal_button_size / 2;\n        var pzero_y = center_y;\n\n        //var angle = Math.acos(mouse_x - center_x);\n\n        //console.log(pzero_x, pzero_y, mouse_x, mouse_y, center_x, center_y, mouse_x - center_x, angle);\n\n        //A = center, B = mousex, C=pointzero\n\n        var AB = Math.sqrt(Math.pow((mouse_x - center_x), 2) + Math.pow((mouse_y - center_y), 2));\n        var AC = Math.sqrt(Math.pow((pzero_x - center_x), 2) + Math.pow((pzero_y - center_y), 2));\n        var BC = Math.sqrt(Math.pow((pzero_x - mouse_x), 2) + Math.pow((pzero_y - mouse_y), 2));\n\n\n        var angle = Math.acos((AB + AC + BC) / (2 * AC * AB));\n        var angle2 = Math.acos((mouse_x - center_x) / (skin_minimal_button_size / 2));\n\n        //console.log(AB, AC, BC, angle, (mouse_x - center_x), angle2, Math.PI);\n\n        var perc = -(mouse_x - center_x - (skin_minimal_button_size / 2)) * 0.005; //angle2 / Math.PI / 2;\n\n\n        if (mouse_y < center_y) {\n          perc = 0.5 + (0.5 - perc)\n        }\n\n        if (Math.abs(mouse_y - center_y) > 20 || Math.abs(mouse_x - center_x) > 20) {\n\n\n          // console.log('perc - ',perc);\n          seek_to_perc(perc, {\n            call_from: \"skin_minimal_scrub\"\n          })\n          sw_cancel_toggle = true;\n\n          handleTickChange({\n            'fire_only_once': true\n          });\n        }\n\n\n      }\n\n\n      //unghi = acos (x - centruX) = asin(centruY - y)\n\n\n      if (sw_cancel_toggle == false) {\n\n        //console.log(\"selfClass.player_playing -> \",selfClass.player_playing);\n        if (selfClass.player_playing == false) {\n          play_media({\n            'call_from': 'click_playpause'\n          });\n        } else {\n          pause_media();\n        }\n      }\n\n\n      return false;\n    }\n\n\n    function sync_players_goto_prev() {\n      // console.log('sync_players_goto_prev ', dzsap_list_for_sync_players);\n\n\n      if (selfClass._actualPlayer) {\n        selfClass._actualPlayer.get(0).api_sync_players_goto_prev();\n\n        return false;\n      }\n\n\n      if (_playlistTooltip && _playlistTooltip.children('.dzstooltip--inner').length) {\n\n\n        var tempNr = playlist_inner_currNr - 1;\n\n        if (tempNr >= 0) {\n\n          playlist_goto_item(tempNr, {\n            'call_from': 'api_sync_players_prev'\n          });\n        } else {\n        }\n\n\n      } else {\n\n        if (dzsap_list_for_sync_players.length > 0) {\n          for (var i24 in dzsap_list_for_sync_players) {\n\n\n            var _ctarget = cthis;\n\n            if (selfClass._sourcePlayer) {\n              _ctarget = selfClass._sourcePlayer;\n            }\n\n\n            if (dzsap_list_for_sync_players[i24].get(0) == _ctarget.get(0)) {\n              // console.log('THIS IS ',i24,dzsap_list_for_sync_players.length-1, dzsap_list_for_sync_players);\n\n              i24 = parseInt(i24, 10);\n              if (i24 > 0) {\n                var _c_ = dzsap_list_for_sync_players[i24 - 1].get(0);\n                // console.log('THIS IS _c ',_c);\n\n                // console.log(_c_, i24, dzsap_list_for_sync_players[i24+1]);\n                if (_c_ && _c_.api_play_media) {\n                  setTimeout(function () {\n                    _c_.api_play_media({\n                      'call_from': 'api_sync_players_prev'\n                    });\n                  }, 200);\n\n                }\n              }\n            }\n          }\n        }\n      }\n\n\n    }\n\n\n    function sync_players_goto_next() {\n\n\n      // console.log('sync_players_goto_next() - ', cthis, 'selfClass._actualPlayer - ',selfClass._actualPlayer);\n\n\n      if (selfClass._actualPlayer) {\n        selfClass._actualPlayer.get(0).api_sync_players_goto_next();\n\n        return false;\n      }\n\n      if (_playlistTooltip && _playlistTooltip.find('.playlist-menu-item').length) {\n\n\n        var tempNr = playlist_inner_currNr + 1;\n\n\n        if (tempNr - 1 > _playlistTooltip.find('.playlist-menu-item').length) {\n\n        } else {\n          playlist_goto_item(tempNr, {\n            'call_from': 'api_sync_players_prev'\n          });\n        }\n\n\n      } else {\n\n        var _ctarget = null;\n\n        // console.log('dzsap_list_for_sync_players -4 ',dzsap_list_for_sync_players);\n        if (dzsap_list_for_sync_players.length > 0) {\n          for (var i24 in dzsap_list_for_sync_players) {\n\n\n            _ctarget = cthis;\n\n            if (selfClass._sourcePlayer) {\n              _ctarget = selfClass._sourcePlayer;\n            }\n\n\n            if (dzsap_list_for_sync_players[i24].get(0) == _ctarget.get(0)) {\n              // console.log('THIS IS ',i24,dzsap_list_for_sync_players.length-1, dzsap_list_for_sync_players);\n\n              i24 = parseInt(i24, 10);\n\n              var tempNr = i24 + 1;\n\n              if (tempNr > dzsap_list_for_sync_players.length - 1) {\n\n                // tempNr = 0;\n              }\n\n\n              if (tempNr < dzsap_list_for_sync_players.length) {\n                var _c_ = dzsap_list_for_sync_players[tempNr].get(0);\n\n                if (_c_) {\n\n                  // console.log('THIS IS _c ',_c);\n\n                  // console.log(_c_, i24, dzsap_list_for_sync_players[i24+1]);\n                  if (_c_ && _c_.api_play_media) {\n                    setTimeout(function () {\n                      _c_.api_play_media({\n                        'call_from': 'api_sync_players_prev'\n                      });\n                    }, 200);\n\n                  }\n                }\n              }\n\n            }\n          }\n        }\n      }\n\n    }\n\n    function handle_end(pargs) {\n\n\n      var margs = {\n        'called_from': 'default'\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n      //console.log('end');\n      if (ended) {\n        return false;\n      }\n\n      console.log('handle_end()', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, margs);\n\n\n      // selfClass.timeCurrent  = 0;\n      ended = true;\n\n      inter_ended = setTimeout(function () {\n\n        ended = false;\n      }, 1000);\n\n\n      if (selfClass._actualPlayer && margs.call_from != 'fake_player') {\n        // -- lets leave fake player handle handle_end\n        return false;\n      }\n\n\n      seek_to(0, {\n        'call_from': 'handle_end'\n      });\n\n      if (o.loop == 'on' || loop_active) {\n        play_media({\n          'call_from': 'track_end'\n        });\n        return false;\n      } else {\n        pause_media();\n      }\n\n      if (o.parentgallery && typeof (o.parentgallery) != 'undefined') {\n        //console.log(o.parentgallery);\n\n\n        var args = {\n          'call_from': 'player_handle_end'\n        }\n        o.parentgallery.get(0).api_gallery_handle_end();\n      }\n\n\n      setTimeout(function () {\n\n\n        if (cthis.hasClass('is-single-player')) {\n\n          // -- called on handle end\n          sync_players_goto_next();\n        }\n\n      }, 100);\n\n      setTimeout(function () {\n\n        if (selfClass._sourcePlayer && (selfClass._sourcePlayer.hasClass('is-single-player') || selfClass._sourcePlayer.hasClass('feeded-whole-playlist'))) {\n          //action_audio_end(selfClass._sourcePlayer,args);\n          selfClass._sourcePlayer.get(0).api_handle_end({\n            'call_from': 'handle_end() fake_player'\n          });\n          return false;\n          //args.child_player = selfClass._sourcePlayer;\n        }\n\n        if (action_audio_end) {\n\n\n          var args = {};\n\n\n          // console.log(cthis, selfClass._sourcePlayer)\n\n\n          action_audio_end(cthis, args);\n        }\n      }, 200);\n\n    }\n\n\n    function handleResize(e, pargs) {\n\n\n      var margs = {\n\n        'call_from': 'default'\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (cthis) {\n\n      }\n\n\n      //cthis.attr('data-pcm')\n      ww = $(window).width();\n      tw = cthis.width();\n      th = cthis.height();\n\n\n      if (_scrubBgCanvas && typeof (_scrubBgCanvas.width) == 'function') {\n        canw = _scrubBgCanvas.width();\n        canh = _scrubBgCanvas.height();\n\n      }\n\n      // console.log('handleResize', selfClass._commentsHolder)\n\n      if (tw <= 720) {\n        cthis.addClass('under-720');\n      } else {\n\n        cthis.removeClass('under-720');\n      }\n      if (tw <= 500) {\n        // -- width under 500\n\n\n        // -- move\n        if (cthis.hasClass('under-500') == false) {\n          if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'normal') {\n            selfClass._apControls.append(selfClass._metaArtistCon);\n          }\n        }\n\n        cthis.addClass('under-500');\n\n\n      } else {\n        // -- width under 500\n\n\n        if (cthis.hasClass('under-500') == false) {\n          if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'normal') {\n            // selfClass._apControls.append(selfClass._metaArtistCon);\n            selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n          }\n        }\n\n        cthis.removeClass('under-500');\n      }\n\n\n      sw = tw;\n      if (o.design_skin == 'skin-default') {\n        sw = tw;\n      }\n      if (o.design_skin == 'skin-pro') {\n        sw = tw;\n      }\n      if (o.design_skin == 'skin-silver' || o.design_skin == 'skin-aria') {\n        sw = tw;\n\n        sw = selfClass._scrubbar.width();\n        //console.log(sw);\n\n\n      }\n\n\n      if (o.design_skin == 'skin-justthumbandbutton') {\n        tw = cthis.children('.audioplayer-inner').outerWidth();\n        sw = tw;\n      }\n      if (o.design_skin == 'skin-redlights' || o.design_skin == 'skin-steel') {\n        sw = selfClass._scrubbar.width();\n      }\n\n\n      //console.log(sw);\n\n\n      if (o.design_skin == 'skin-wave') {\n        sw = selfClass._scrubbar.outerWidth(false);\n        // console.log('scrubbar width - ', sw, selfClass._scrubbar);\n\n        scrubbar_h = selfClass._scrubbar.outerHeight(false);\n\n        if (selfClass._commentsHolder) {\n\n          // var aux = selfClass._scrubbar.offset().left - cthis.offset().left;\n          var aux = 0;\n\n\n          if (selfClass._scrubbar && cthis && selfClass._scrubbar.offset()) {\n            aux = selfClass._scrubbar.offset().left - cthis.offset().left;\n          } else {\n            console.log('no scrubbar or cthis', selfClass._scrubbar, cthis);\n          }\n\n          //console.log(aux);\n\n          // console.log('aux - ',aux);\n\n          selfClass._commentsHolder.css({\n            'width': sw\n            //,'left': aux + 'px'\n          })\n\n\n          if (cthis.hasClass('skin-wave-mode-small')) {\n\n            selfClass._commentsHolder.css({\n              'left': aux + 'px'\n            })\n          }\n          //return;\n          selfClass._commentsHolder.addClass('active');\n\n          //                        selfClass._commentsHolder.find('.a-comment').each(function(){\n          //                            var _t = $(this);\n          //\n          //\n          ////                            console.log(_t, _t.offset(), _t.find('.dzstooltip').eq(0).width(), _t.offset().left + _t.find('.dzstooltip').eq(0).width(), _t.offset().left + _t.find('.dzstooltip').eq(0).width() > ww - 50)\n          //                            if(_t.offset().left + _t.find('.dzstooltip').eq(0).width() > ww - 50){\n          //                                _t.find('.dzstooltip').eq(0).addClass('align-right');\n          //                            }else{\n          //\n          //                                _t.find('.dzstooltip').eq(0).removeClass('align-right');\n          //                            }\n          //                        })\n        }\n\n      }\n\n      //console.log(o.design_skin, tw, sw);\n\n\n      if (res_thumbh == true) {\n\n        //                    console.log(cthis.get(0).style.height);\n\n\n        if (o.design_skin == 'skin-default') {\n\n\n          if (cthis.get(0) != undefined) {\n            // if the height is auto then\n            if (cthis.get(0).style.height == 'auto') {\n              cthis.height(200);\n            }\n          }\n\n          var cthis_height = selfClass._audioplayerInner.height();\n          if (typeof cthis.attr('data-initheight') == 'undefined' && cthis.attr('data-initheight') != '') {\n            cthis.attr('data-initheight', selfClass._audioplayerInner.height());\n          } else {\n            cthis_height = Number(cthis.attr('data-initheight'));\n          }\n\n          // console.log('cthis_height - ', cthis_height, cthis.attr('data-initheight'));\n\n          if (o.design_thumbh == 'default') {\n\n            design_thumbh = cthis_height - 44;\n          }\n\n        }\n\n        selfClass._audioplayerInner.find('.the-thumb').eq(0).css({\n          // 'height': design_thumbh\n        })\n      }\n\n\n      //===display none + overflow hidden hack does not work .. yeah\n      //console.log(cthis, selfClass._scrubbar.children('.scrub-bg').width());\n\n      if (cthis.css('display') != 'none') {\n        selfClass._scrubbar.find('.scrub-bg-img').eq(0).css({\n          // 'width' : selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-img').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-canvas').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-img-reflect').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-canvas-reflect').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n      }\n\n\n      // console.log('is_under_400 - ',is_under_400);\n      // console.log('tw - ',tw);\n      cthis.removeClass('under-240 under-400');\n      if (tw <= 240) {\n        cthis.addClass('under-240');\n      }\n      if (tw <= 500) {\n        cthis.addClass('under-400');\n\n        if (is_under_400 == false) {\n          is_under_400 = true;\n          reconstruct_player();\n        }\n        if (_controlsVolume) {\n        }\n\n      } else {\n\n\n        if (is_under_400 == true) {\n          is_under_400 = false;\n          reconstruct_player();\n        }\n      }\n\n\n      //console.log(_conPlayPause.outerWidth(), o.design_skin);\n\n      var aux2 = 50;\n\n      // console.log('o.design_skin - ', o.design_skin, cthis);\n      // -- skin-wave\n      if (o.design_skin == 'skin-wave') {\n\n        controls_left_pos = 0;\n        if (cthis.find('.the-thumb').length > 0) {\n          controls_left_pos += cthis.find('.the-thumb').width() + 20;\n        }\n\n        controls_left_pos += 70;\n\n        var sh = selfClass._scrubbar.eq(0).height();\n\n\n        if (selfClass.skinwave_mode == 'small') {\n          controls_left_pos -= 80;\n          sh = 5;\n\n          controls_left_pos += 13;\n          _conPlayPause.css({\n            //'left' : controls_left_pos\n          })\n\n          controls_left_pos += _conPlayPause.outerWidth() + 10;\n\n\n        }\n\n\n        if (selfClass._metaArtistCon && selfClass._metaArtistCon.css('display') != 'none') {\n\n\n          if (!(o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'small')) {\n            selfClass._metaArtistCon.css({\n              //'left': controls_left_pos\n            });\n\n            if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode != 'small') {\n              selfClass._metaArtistCon.css({\n                //'width': tw - controls_left_pos - selfClass._apControlsRight.outerWidth()\n              });\n            }\n          }\n\n          controls_left_pos += selfClass._metaArtistCon.outerWidth();\n\n          //console.log(selfClass._metaArtistCon, selfClass._metaArtistCon.outerWidth());\n        }\n\n\n        controls_right_pos = 0;\n\n        if (_controlsVolume && _controlsVolume.css('display') != 'none') {\n          controls_right_pos += 55;\n        }\n\n\n        // ---------- calculate dims small\n        if (selfClass.skinwave_mode == 'small') {\n\n          selfClass._scrubbar.css({\n            //'left' : controls_left_pos\n          })\n\n\n          //sw =  ( tw - controls_left_pos - controls_right_pos );\n\n\n          sw = selfClass._scrubbar.width();\n\n          //console.log(sw,controls_left_pos,controls_right_pos);\n\n\n          selfClass._scrubbar.find('.scrub-bg--img').eq(0).css({\n            'width': sw\n          })\n          selfClass._scrubbar.find('.scrub-prog--img').eq(0).css({\n            'width': sw\n          })\n          //cthis.find('.comments-holder').eq(0).css({\n          //    'width' :  selfClass._scrubbar.width()\n          //    ,'left' : controls_left_pos\n          //});\n\n\n        }\n\n\n        if (o.skinwave_wave_mode == 'canvas') {\n\n          if (cthis.attr('data-pcm')) {\n\n\n            if (selfClass._scrubbarbg_canvas.width() == 100) {\n              selfClass._scrubbarbg_canvas.width(selfClass._scrubbar.width());\n            }\n\n            if (selfClass._scrubbarbg_canvas && _theThumbCon && selfClass._apControls.parent(), selfClass._scrubbar) {\n\n            }\n\n\n            // console.log('selfClass.data_source - ', selfClass.data_source);\n            if (selfClass.data_source != 'fake') {\n\n\n              // -- if inter definied then clear timeout and call\n              if (draw_canvas_inter) {\n                clearTimeout(draw_canvas_inter);\n                draw_canvas_inter = setTimeout(draw_canvas_inter_func, 500);\n              } else {\n                draw_canvas_inter_func();\n                draw_canvas_inter = 1;\n              }\n            }\n          }\n        }\n      }\n\n\n      if (o.design_skin == 'skin-minimal') {\n\n\n        // console.log('skin_minimal_button_size - ' ,skin_minimal_button_size);\n\n        skin_minimal_button_size = selfClass._apControls.width();\n        if (skin_minimal_canvasplay) {\n          skin_minimal_canvasplay.style.width = skin_minimal_button_size;\n          skin_minimal_canvasplay.width = skin_minimal_button_size;\n          skin_minimal_canvasplay.style.height = skin_minimal_button_size;\n          skin_minimal_canvasplay.height = skin_minimal_button_size;\n\n\n          // skin_minimal_button_size = sanitize_to_css_size(skin_minimal_button_size);\n\n\n          $(skin_minimal_canvasplay).css({\n            'width': skin_minimal_button_size\n            , 'height': skin_minimal_button_size\n          });\n        }\n\n\n      }\n\n\n      if (o.design_skin == 'skin-default') {\n        if (_currTime) {\n          //console.log(o.design_skin, parseInt(selfClass._metaArtistCon.css('left'),10) + selfClass._metaArtistCon.outerWidth() + 10);\n          var _metaArtistCon_l = parseInt(selfClass._metaArtistCon.css('left'), 10);\n          var _metaArtistCon_w = selfClass._metaArtistCon.outerWidth();\n\n          if (selfClass._metaArtistCon.css('display') == 'none') {\n            selfClass._metaArtistCon_w = 0;\n          }\n          if (isNaN(selfClass._metaArtistCon_l)) {\n            selfClass._metaArtistCon_l = 20;\n          }\n          //                        console.log(o.design_skin, _currTime,  selfClass._metaArtistCon, selfClass._metaArtistCon.css('left'), parseInt(selfClass._metaArtistCon.css('left'),10), parseInt(selfClass._metaArtistCon.css('left'),10) + selfClass._metaArtistCon_w + 10);\n\n          // _currTime.css({\n          //     'left': selfClass._metaArtistCon_l + selfClass._metaArtistCon_w + 10\n          // })\n          // _totalTime.css({\n          //     'left': selfClass._metaArtistCon_l + selfClass._metaArtistCon_w + 55\n          // })\n          /*\n                         */\n        }\n\n      }\n\n      if (o.design_skin == 'skin-minion') {\n        //console.log();\n        aux2 = parseInt(_conControls.find('.con-playpause').eq(0).offset().left, 10) - parseInt(_conControls.eq(0).offset().left, 10) - 18;\n        _conControls.find('.prev-btn').eq(0).css({\n          'top': 0,\n          'left': aux2\n        })\n        aux2 += 36;\n        _conControls.find('.next-btn').eq(0).css({\n          'top': 0,\n          'left': aux2\n        })\n      }\n\n\n      if (o.embedded == 'on') {\n        //console.log(window.frameElement)\n        if (window.frameElement) {\n          //window.frameElement.height = cthis.height();\n          //console.log(window.frameElement.height, cthis.outerHeight())\n\n\n          var args = {\n            height: cthis.outerHeight()\n          };\n\n\n          if (o.embedded_iframe_id) {\n\n            args.embedded_iframe_id = o.embedded_iframe_id;\n          }\n\n\n          var message = {\n            name: \"resizeIframe\",\n            params: args\n          };\n          window.parent.postMessage(message, '*');\n        }\n\n      }\n\n\n      draw_scrub_prog();\n\n      // draw_curr_time();\n\n\n      if (o.settings_trigger_resize > 0) {\n\n        if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_handleResize != undefined) {\n          $(o.parentgallery).get(0).api_handleResize();\n        }\n      }\n\n    }\n\n\n    function reconstruct_player() {\n\n      // console.log('reconstruct_player() ', o.restyle_player_over_400,o.restyle_player_under_400);\n\n      if (o.restyle_player_over_400 && o.restyle_player_under_400) {\n\n\n        //console.log('reconstruct_player() ',o.restyle_player_over_400,' is_under_400 - ', is_under_400, cthis.attr('class'));\n\n\n        if (is_under_400) {\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_under_400);\n          cthis.removeClass(o.restyle_player_over_400);\n          cthis.addClass(o.restyle_player_under_400);\n        } else {\n\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_over_400);\n          cthis.removeClass(o.restyle_player_under_400);\n          cthis.addClass(o.restyle_player_over_400);\n        }\n\n        // detect_skinwave_mode();\n        (dzsapHelpers.player_detect_skinwave_mode.bind(selfClass))();\n        apply_skinwave_mode_class();\n\n        //console.error(\"selfClass._audioplayerInner.find('.meta-artist-con').eq(0) -> \", selfClass._audioplayerInner.find('.meta-artist-con').eq(0));\n\n        selfClass._audioplayerInner.append(cthis.find('.meta-artist-con'));\n\n        cthis.find('.ap-controls').remove();\n        selfClass._audioplayerInner.children('.the-thumb-con').remove();\n\n\n        if (is_under_400) {\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_under_400);\n          cthis.removeClass(o.restyle_player_over_400);\n          cthis.addClass(o.restyle_player_under_400);\n        } else {\n\n          cthis.css({\n            'padding-top': ''\n          });\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_over_400);\n          cthis.removeClass(o.restyle_player_under_400);\n          cthis.addClass(o.restyle_player_over_400);\n        }\n\n        setup_structure({\n          'setup_inner_player': false\n          , 'setup_media': false\n          , 'setup_otherstructure': true\n          , 'call_from': \"reconstruct\"\n        });\n\n\n        setup_listeners();\n      }\n    }\n\n\n    function draw_canvas_inter_func() {\n      // console.log('draw_canvas_inter_func', 'skinwave_wave_mode_canvas_waves_number - ', o.skinwave_wave_mode_canvas_waves_number);\n\n\n      // console.log(cthis,\"_scrubbarbg_canvas.get(0) -> \",_scrubbarbg_canvas.get(0));\n      dzsapHelpers.draw_canvas(selfClass._scrubbarbg_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_bg, {\n        call_from: 'canvas_normal_pcm_bg',\n        selfClass,\n        'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n        'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n      });\n      dzsapHelpers.draw_canvas(selfClass._scrubbarprog_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_progress, {\n        call_from: 'canvas_normal_pcm_prog',\n        selfClass,\n        'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n        'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n      });\n\n      draw_canvas_inter = 0;\n    }\n\n    function mouse_volumebar(e) {\n      var _t = $(this);\n      var aux = '';\n\n      //var mx = e.clientX - _controlsVolume.offset().left;\n      if (e.type == 'mousemove') {\n\n        //console.log(volume_dragging, mx);\n\n\n        if (volume_dragging) {\n          aux = (e.pageX - (_controlsVolume.find('.volume_static').eq(0).offset().left)) / (_controlsVolume.find('.volume_static').eq(0).width());\n\n          if (_t.parent().hasClass('volume-holder') || _t.hasClass('volume-holder')) {\n            // todo: nothing ?\n          }\n\n          if (o.design_skin == 'skin-redlights') {\n            aux *= 10;\n\n            aux = Math.round(aux);\n\n            //console.log(aux);\n            aux /= 10;\n          }\n\n\n          set_volume(aux, {\n            call_from: \"set_by_mousemove\"\n          });\n          muted = false;\n        }\n\n      }\n      if (e.type == 'mouseleave') {\n\n      }\n      if (e.type == 'click') {\n\n        //console.log(_t, _t.offset().left)\n\n        aux = (e.pageX - (_controlsVolume.find('.volume_static').eq(0).offset().left)) / (_controlsVolume.find('.volume_static').eq(0).width());\n\n        if (_t.parent().hasClass('volume-holder')) {\n\n\n          aux = 1 - ((e.pageY - (_controlsVolume.find('.volume_static').eq(0).offset().top)) / (_controlsVolume.find('.volume_static').eq(0).height()));\n\n        }\n        if (_t.hasClass('volume-holder')) {\n          aux = 1 - ((e.pageY - (_controlsVolume.find('.volume_static').eq(0).offset().top)) / (_controlsVolume.find('.volume_static').eq(0).height()));\n\n          console.log(aux);\n\n        }\n\n        //console.log(aux);\n\n        set_volume(aux, {\n          call_from: \"set_by_mouseclick\"\n        });\n        muted = false;\n      }\n\n      if (e.type == 'mousedown') {\n\n        volume_dragging = true;\n        cthis.addClass('volume-dragging');\n\n\n        aux = (e.pageX - (_controlsVolume.find('.volume_static').eq(0).offset().left)) / (_controlsVolume.find('.volume_static').eq(0).width());\n\n        if (_t.parent().hasClass('volume-holder')) {\n\n\n          aux = 1 - ((e.pageY - (_controlsVolume.find('.volume_static').eq(0).offset().top)) / (_controlsVolume.find('.volume_static').eq(0).height()));\n\n        }\n\n        //console.log(aux);\n\n        set_volume(aux, {\n          call_from: \"set_by_mousedown\"\n        });\n        muted = false;\n      }\n      if (e.type == 'mouseup') {\n\n        volume_dragging = false;\n        cthis.removeClass('volume-dragging');\n\n      }\n\n    }\n\n    function handleMouseOnScrubbar(e) {\n      var mousex = e.pageX;\n\n\n      if ($(e.target).hasClass('sample-block-start') || $(e.target).hasClass('sample-block-end')) {\n        return false;\n      }\n\n      if (e.type == 'mousemove') {\n        selfClass._scrubbar.children('.scrubBox-hover').css({\n          'left': (mousex - selfClass._scrubbar.offset().left)\n        });\n\n\n        if (o.scrub_show_scrub_time == 'on') {\n\n          // console.log('_currTime - ',_currTime);\n\n          if (selfClass.timeTotal) {\n            var aux = (mousex - selfClass._scrubbar.offset().left) / selfClass._scrubbar.outerWidth() * selfClass.timeTotal;\n\n\n            if (_currTime) {\n              _currTime.html(dzsapHelpers.formatTime(aux));\n              _currTime.addClass('scrub-time');\n\n            }\n\n            scrub_showing_scrub_time = true;\n          }\n        }\n\n      }\n      if (e.type == 'mouseleave') {\n\n        scrub_showing_scrub_time = false;\n\n        if (_currTime) {\n          _currTime.removeClass('scrub-time');\n\n        }\n\n        draw_curr_time();\n\n      }\n      if (e.type == 'click') {\n\n\n        if (cthis.hasClass('prevent-bubble')) {\n\n          if (e && e.stopPropagation) {\n            e.preventDefault();\n            e.stopPropagation();\n            ;\n            // return false;\n          }\n        }\n\n\n        if (sw == 0) {\n\n          sw = selfClass._scrubbar.width();\n        }\n        if (sw == 0) {\n\n          sw = 300;\n        }\n        var targetPositionOnScrub = ((e.pageX - (selfClass._scrubbar.offset().left)) / (sw) * selfClass.timeTotal);\n\n\n        //console.log(e.target,e.pageX, (selfClass._scrubbar.offset().left), (sw), selfClass.timeTotal, targetPositionOnScrub);\n\n        if (pseudo_sample_time_start == 0) {\n\n          if (sample_time_start > 0) {\n            targetPositionOnScrub -= sample_time_start;\n          }\n        }\n\n        if (selfClass._actualPlayer) {\n\n\n          setTimeout(function () {\n            if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n\n              selfClass._actualPlayer.get(0).api_seek_to_perc(targetPositionOnScrub / selfClass.timeTotal, {\n                'call_from': 'from_feeder_to_feed'\n              });\n            }\n          }, 50);\n        }\n\n\n        seek_to(targetPositionOnScrub, {\n          'call_from': 'handleMouseOnScrubbar'\n        });\n\n        // return false;\n\n        if (o.autoplay_on_scrub_click == 'on') {\n\n          if (selfClass.player_playing == false) {\n            play_media({\n              'call_from': 'handleMouseOnScrubbar'\n            });\n          }\n        }\n\n        if (cthis.hasClass('from-wc_loop')) {\n          return false;\n        }\n      }\n\n    }\n\n    function seek_to_perc(argperc, pargs) {\n\n      if (selfClass._actualPlayer) {\n        selfClass.timeTotal = time_total_for_visual;\n      }\n      seek_to((argperc * selfClass.timeTotal), pargs);\n    }\n\n    /**\n     * seek to seconds\n     * @param arg - number of settings\n     * @param pargs -- optiona arguments\n     * @returns {boolean}\n     */\n    function seek_to(arg, pargs) {\n      //arg = nr seconds\n\n      var margs = {\n        'call_from': 'default'\n        , 'deeplinking': 'off' // -- default or \"auto\" or \"user action\"\n        , 'call_from_type': 'default' // -- default or \"auto\" or \"user action\"\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (margs.call_from == 'from_feeder_to_feed') {\n\n      }\n\n      if (arg == 0) {\n        selfClass.timeCurrent = 0;\n      }\n\n      // console.log('%c seek_to() - margs - ', ConstantsDzsAp.DEBUG_STYLE_1, margs, 'arg - ', arg)\n\n      if (margs.deeplinking == 'on') {\n        var newlink = dzsapHelpers.add_query_arg(window.location.href, 'audio_time', arg);\n\n\n        var stateObj = {foo: \"bar\"};\n        history.pushState(stateObj, null, newlink);\n      }\n\n\n      // console.log('seek_to arg - ',arg, 'type - ',type, cthis);\n      arg = dzsapHelpers.sanitize_from_point_time(arg);\n\n\n      if (pseudo_sample_time_start) {\n        if (arg < pseudo_sample_time_start) {\n          arg = pseudo_sample_time_start;\n        }\n        if (arg > pseudo_sample_time_end) {\n          arg = pseudo_sample_time_end;\n        }\n      }\n\n\n      // console.log('pseudo_sample_time_end -3 ',pseudo_sample_time_end);\n\n      // console.log('cthis.hasClass(\\'first-played\\') - ',cthis.hasClass('first-played'));\n\n      // console.log('curr_time_first_set - ',curr_time_first_set);\n      if (selfClass._actualPlayer) {\n\n\n        var args = {\n          type: selfClass.actualDataTypeOfMedia,\n          fakeplayer_is_feeder: 'on'\n        }\n\n\n        if (selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') != cthis.get(0)) {\n\n\n          // console.log('margs -7 ',margs, 'arg - ',arg);\n          if (margs.call_from != 'handle_end' && margs.call_from != 'from_playfrom' && margs.call_from != 'last_pos') {\n            // -- if it is not user action\n\n            args.called_from = 'seek_to from player source->' + (cthis.attr('data-source')) + ' < -  ' + 'old call from - ' + margs.call_from;\n            if (selfClass._actualPlayer.get(0).api_change_media) {\n              selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n            } else {\n              console.log('not inited ? ', selfClass._actualPlayer);\n            }\n\n\n          } else {\n\n            selfClass.timeCurrent = arg;\n            time_curr_for_visual = arg;\n            time_curr_for_real = arg;\n\n            cthis.data('promise-to-play-footer-player-from', arg);\n\n          }\n        }\n\n\n        //selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n        setTimeout(function () {\n\n          if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n            if (margs.call_from != 'from_playfrom' && margs.call_from != 'last_pos') {\n              selfClass._actualPlayer.get(0).api_seek_to(arg, {\n                'call_from': 'from_feeder_to_feed'\n              });\n            }\n\n          }\n        }, 50);\n\n        return false;\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n        try {\n\n          selfClass._cmedia.seekTo(arg);\n        } catch (err) {\n          console.log('yt seek err - ', err);\n        }\n      }\n\n      handleTickChange({\n        'fire_only_once': true\n      })\n      setTimeout(function () {\n        handleTickChange({\n          'fire_only_once': true\n        })\n      }, 20);\n\n\n      if (selfClass.audioType == 'selfHosted') {\n        if (0) {\n\n          //console.log('arg - ',arg);\n          lasttime_inseconds = arg;\n\n          if (inter_audiobuffer_workaround_id != 0) {\n            selfClass.timeCurrent = arg;\n          }\n\n          pause_media({\n            'audioapi_setlasttime': false\n          });\n          play_media({\n            'call_from': 'audio_buffer ( seek_to() )'\n          });\n        } else {\n\n          // console.log('seek to -> ', arg);\n          if (selfClass._cmedia && typeof (selfClass._cmedia.currentTime) != 'undefined') {\n\n            try {\n              selfClass._cmedia.currentTime = arg;\n            } catch (e) {\n              console.log('error on scrub', e, ' arg - ', arg);\n\n            }\n\n            // console.log('selfClass._cmedia.currentTime -> ',selfClass._cmedia.currentTime);\n          }\n\n          return false;\n\n        }\n\n      }\n\n\n    }\n\n    /**\n     * seek to ( only visual )\n     * @param argperc\n     */\n    function seek_to_visual(argperc) {\n\n\n      //console.log(selfClass.timeTotal);\n      if (selfClass.timeTotal == 0) {\n        if (selfClass._cmedia && selfClass._cmedia.duration) {\n          selfClass.timeTotal = selfClass._cmedia.duration;\n        }\n      }\n\n      if (selfClass._actualPlayer) {\n        selfClass.timeCurrent = time_curr_for_visual;\n        selfClass.timeTotal = time_total_for_visual;\n      }\n\n      selfClass.timeCurrent = argperc * selfClass.timeTotal;\n\n      curr_time_first_set = true;\n\n\n      handleTickChange({\n        'fire_only_once': true\n      })\n      setTimeout(function () {\n        handleTickChange({\n          'fire_only_once': true\n        })\n      }, 20);\n    }\n\n    function set_playback_speed(arg) {\n      //=== outputs a playback speed from 0.1 to 10\n\n      if (selfClass.audioType == 'youtube') {\n        selfClass._cmedia.setPlaybackRate(arg);\n      }\n      if (selfClass.audioType == 'selfHosted') {\n        selfClass._cmedia.playbackRate = arg;\n\n      }\n\n    }\n\n    function set_volume(arg, pargs) {\n      // -- outputs a volume from 0 to 1\n\n      var margs = {\n\n        'call_from': 'default'\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (arg > 1) {\n        arg = 1;\n      }\n      if (arg < 0) {\n        arg = 0;\n      }\n\n\n      if (margs.call_from == 'from_fake_player_feeder_from_init_loaded') {\n        // -- lets prevent call from the init_loaded set_volume if the volume has been changed\n        if (selfClass._sourcePlayer) {\n\n\n          // console.log('volume_set_by_user - ',volume_set_by_user);\n\n          if (o.default_volume != 'default') {\n            volume_set_by_user = true;\n          }\n\n\n          if (volume_set_by_user) {\n            return false;\n          } else {\n\n            volume_set_by_user = true;\n\n            console.log(\"SET VOLUME BY USER\", cthis);\n          }\n        }\n      }\n\n      if (margs.call_from == 'set_by_mouseclick' || margs.call_from == 'set_by_mousemove') {\n        volume_set_by_user = true;\n      }\n\n      // console.log(\"set_volume()\",arg, cthis, margs);\n\n      if (selfClass.audioType == 'youtube') {\n        if (selfClass._cmedia && selfClass._cmedia.setVolume) {\n          selfClass._cmedia.setVolume(arg * 100);\n        }\n      }\n      if (selfClass.audioType == 'selfHosted') {\n        if (selfClass._cmedia) {\n\n          //console.log('volume - ',arg, arg* o.watermark_volume);\n          selfClass._cmedia.volume = arg;\n\n          if (_cwatermark) {\n            _cwatermark.volume = arg * o.watermark_volume;\n          }\n        } else {\n          if (selfClass._cmedia) {\n            $(selfClass._cmedia).attr('preload', 'metadata');\n          }\n\n        }\n\n      }\n\n      //console.log(_controlsVolume.children('.volume_active'));\n\n\n      visual_set_volume(arg, margs);\n\n      if (selfClass._sourcePlayer) {\n        margs.call_from = ('from_fake_player')\n\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_visual_set_volume(arg, margs)) {\n\n          selfClass._sourcePlayer.get(0).api_visual_set_volume(arg, margs);\n        }\n      }\n\n      if (selfClass._actualPlayer) {\n        // console.log(margs);\n        if (margs.call_from != ('from_fake_player')) {\n          // margs.call_from = ('from_fake_player_feeder')\n          if (margs.call_from == 'from_init_loaded') {\n\n            margs.call_from = ('from_fake_player_feeder_from_init_loaded')\n          } else {\n\n            margs.call_from = ('from_fake_player_feeder')\n          }\n          if (selfClass._sourcePlayer && selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_set_volume(arg, margs)) {\n            selfClass._actualPlayer.get(0).api_set_volume(arg, margs);\n          }\n        }\n      }\n\n      // console.log(selfClass._actualPlayer);\n    }\n\n\n    function visual_set_volume(arg, margs) {\n\n\n      if (_controlsVolume.hasClass('controls-volume-vertical')) {\n\n        //console.log('ceva');\n        _controlsVolume.find('.volume_active').eq(0).css({\n          'height': (_controlsVolume.find('.volume_static').eq(0).height() * arg)\n        });\n      } else {\n\n        _controlsVolume.find('.volume_active').eq(0).css({\n          'width': (_controlsVolume.find('.volume_static').eq(0).width() * arg)\n        });\n      }\n\n\n      if (o.design_skin == 'skin-wave' && o.skinwave_dynamicwaves == 'on') {\n        //console.log(arg);\n        selfClass._scrubbar.find('.scrub-bg-img').eq(0).css({\n          'transform': 'scaleY(' + arg + ')'\n        })\n        selfClass._scrubbar.find('.scrub-prog-img').eq(0).css({\n          'transform': 'scaleY(' + arg + ')'\n        })\n\n      }\n\n\n      if (localStorage != null && selfClass.the_player_id) {\n\n        //console.log(selfClass.the_player_id);\n\n        localStorage.setItem('dzsap_last_volume_' + selfClass.the_player_id, arg);\n\n      }\n\n      last_vol = arg;\n    }\n\n\n    function click_mute(e) {\n\n      // console.log('click_mute() - ',muted, last_vol, last_vol_before_mute,e)\n      if (muted == false) {\n        last_vol_before_mute = last_vol;\n        set_volume(0, {\n          call_from: \"from_mute\"\n        });\n        muted = true;\n      } else {\n        set_volume(last_vol_before_mute, {\n          call_from: \"from_unmute\"\n        });\n        muted = false;\n      }\n    }\n\n    function pause_media_visual(pargs) {\n\n      if (selfClass._sourcePlayer) {\n        //console.log('has selfClass._sourcePlayer and will pause that too - ',selfClass._sourcePlayer);\n      }\n\n      var margs = {\n        'call_from': 'default'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('pause_media_visual',margs);\n\n\n      // console.log('_conPlayPause - ',_conPlayPause, o.design_animateplaypause);\n      if (o.design_animateplaypause != 'on') {\n        _conPlayPause.children('.playbtn').css({\n          'display': 'block'\n        });\n        _conPlayPause.children('.pausebtn').css({\n          'display': 'none'\n        });\n      } else {\n\n      }\n\n\n      _conPlayPause.removeClass('playing');\n      cthis.removeClass('is-playing');\n      selfClass.player_playing = false;\n\n      //console.log(\"PAUSE MEDIA VISUAL\")\n\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().removeClass('is-playing');\n      }\n\n\n      if (o.parentgallery) {\n        o.parentgallery.removeClass('player-is-playing');\n      }\n\n\n      sw_suspend_enter_frame = true;\n\n\n      if (action_audio_pause) {\n        action_audio_pause(cthis);\n      }\n    }\n\n    function pause_media(pargs) {\n      //console.log('pause_media()', cthis);\n\n      if (selfClass._sourcePlayer) {\n        //console.log('has selfClass._sourcePlayer and will pause that too - ',selfClass._sourcePlayer);\n      }\n\n      var margs = {\n        'audioapi_setlasttime': true,\n        'donot_change_media': false\n      };\n\n      if (destroyed) {\n        return false;\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      pause_media_visual({\n        'call_from': 'pause_media'\n      });\n\n\n      //console.log(margs.donot_change_media);\n      if (margs.donot_change_media != true) {\n\n\n        if (selfClass._actualPlayer != null) {\n\n          var args = {\n            type: selfClass.actualDataTypeOfMedia,\n            fakeplayer_is_feeder: 'on'\n          }\n\n\n          if (selfClass._actualPlayer && selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') != cthis.get(0)) {\n            args.called_from = 'pause_media from player ' + cthis.attr('data-source');\n            selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n          }\n\n          setTimeout(function () {\n\n            if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n\n              selfClass._actualPlayer.get(0).api_pause_media();\n            }\n          }, 100);\n\n          selfClass.player_playing = false;\n          cthis.removeClass('is-playing');\n\n\n          if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n            cthis.parent().removeClass('is-playing');\n          }\n\n          return;\n        }\n\n\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n\n        // console.log('trying to pause youtube video, ',selfClass._cmedia);\n        if (selfClass._cmedia && selfClass._cmedia.pauseVideo) {\n          selfClass._cmedia.pauseVideo();\n        }\n      }\n      if (selfClass.audioType == 'selfHosted') {\n\n        if (0) {\n          // -- deprecated\n          // if (selfClass.spectrum_audioContext_buffer != 'placeholder' && selfClass.spectrum_audioContext_buffer != 'waiting') {\n          //   if (margs.audioapi_setlasttime == true) {\n          //     lasttime_inseconds = selfClass.spectrum_audioContext.currentTime;\n          //   }\n          //   if (selfClass.spectrum_mediaElementSource && selfClass.spectrum_mediaElementSource.stop) {\n          //     selfClass.spectrum_mediaElementSource.stop(0);\n          //   }\n          // }\n        } else {\n          if (selfClass._cmedia) {\n\n            if (o.pause_method == 'stop') {\n\n              selfClass._cmedia.pause();\n              selfClass._cmedia.src = '';\n\n\n              destroy_cmedia();\n              $(selfClass._cmedia).remove();\n              selfClass._cmedia = null;\n            } else {\n\n              if (selfClass._cmedia.pause) {\n                selfClass._cmedia.pause();\n              }\n            }\n          }\n          if (_cwatermark && _cwatermark.pause) {\n\n            _cwatermark.pause();\n\n          }\n\n        }\n\n\n      }\n\n      // console.log('selfClass._sourcePlayer - ', selfClass._sourcePlayer, '(cthis) - ', cthis);\n      if (selfClass._sourcePlayer) {\n\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n\n          selfClass._sourcePlayer.get(0).api_pause_media_visual({\n            'call_from': 'pause_media in child player'\n          });\n        }\n      }\n\n\n      selfClass.player_playing = false;\n      cthis.removeClass('is-playing');\n\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().removeClass('is-playing');\n      }\n\n    }\n\n    function play_media_visual(margs) {\n\n\n      if (o.design_animateplaypause != 'on') {\n\n        _conPlayPause.children('.playbtn').css({\n          'display': 'none'\n        });\n        _conPlayPause.children('.pausebtn').css({\n          'display': 'block'\n        });\n      }\n\n\n      //return false;\n      selfClass.player_playing = true;\n      sw_suspend_enter_frame = false;\n\n      //return false;\n      cthis.addClass('is-playing');\n      cthis.addClass('first-played');\n\n      _conPlayPause.addClass('playing');\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().addClass('is-playing');\n      }\n\n      if (o.parentgallery) {\n        o.parentgallery.addClass('player-is-playing');\n      }\n\n\n      if (_sticktobottom) {\n        _sticktobottom.addClass('audioplayer-loaded');\n      }\n\n      //console.log(cthis, margs);\n\n      if (action_audio_play) {\n        action_audio_play(cthis);\n      }\n      if (action_audio_play2) {\n        action_audio_play2(cthis);\n      }\n\n\n    }\n\n    function play_media(pargs) {\n\n      //                console.log(dzsap_list);\n\n\n      var margs = {\n        'api_report_play_media': true\n        , 'call_from': 'default'\n        , 'retry_call': 0\n      }\n      if (pargs) {\n        margs = $.extend(margs, pargs)\n      }\n\n      if (!setuped_media) {\n        setup_media({'called_from': 'play_media .. not setuped'});\n      }\n\n\n      // console.log('.play_media() -3 ',margs,cthis, 'type - ',type, 'selfClass._cmedia - ', selfClass._cmedia);\n      //return false ;\n      //return;\n\n      if (margs.call_from == 'api_sync_players_prev') {\n        // console.log('o.parentgallery - ',o.parentgallery);\n\n        player_index_in_gallery = cthis.parent().children('.audioplayer,.audioplayer-tobe').index(cthis);\n\n        if (o.parentgallery && o.parentgallery.get(0) && o.parentgallery.get(0).api_goto_item) {\n          o.parentgallery.get(0).api_goto_item(player_index_in_gallery);\n        }\n      }\n      // console.log('selfClass.spectrum_audioContext_buffer - ', selfClass.spectrum_audioContext_buffer);\n      if (dzsapHelpers.is_ios() && selfClass.spectrum_audioContext_buffer === 'waiting') {\n        setTimeout(function () {\n          pargs.call_from_aux = 'waiting audioCtx_buffer or ios';\n          play_media(pargs);\n        }, 500);\n        return false;\n      }\n\n      if (margs.call_from == 'click_playpause') {\n        // -- lets setup the playlist\n      }\n\n\n      if (cthis.hasClass('media-setuped') == false && selfClass._actualPlayer == null) {\n        console.log('warning: media not setuped, there might be issues', cthis.attr('id'));\n      }\n\n\n      if (margs.call_from == 'feed_to_feeder') {\n        if (cthis.hasClass('dzsap-loaded') == false) {\n          init_loaded();\n          var delay = 300;\n          if (dzsapHelpers.is_android_good()) {\n            delay = 0;\n          }\n          if (margs.call_from_aux != 'with delay') {\n            if (delay) {\n              setTimeout(function () {\n                margs.call_from_aux = 'with delay';\n                play_media(margs);\n              }, delay);\n            } else {\n              play_media(margs);\n            }\n            return false;\n          }\n\n        }\n      }\n\n\n      //console.log(o.type);\n      if (selfClass.audioType != 'fake') {\n\n        //return false;\n      }\n\n\n      dzsapHelpers.player_stopOtherPlayers(dzsap_list, selfClass);\n\n\n      if (destroyed_for_rebuffer) {\n        setup_media({\n          'called_from': 'play_media() .. destroyed for rebuffer'\n        });\n        if (dzsHelpers.isInt(playfrom)) {\n          seek_to(playfrom, {\n            'call_from': 'destroyed_for_rebuffer_playfrom'\n          });\n        }\n        destroyed_for_rebuffer = false;\n      }\n\n      // console.log(o.google_analytics_send_play_event, window._gaq, google_analytics_sent_play_event);\n      if (o.google_analytics_send_play_event == 'on' && window._gaq && google_analytics_sent_play_event == false) {\n        //if(window.console){ console.log( 'sent event'); }\n        window._gaq.push(['_trackEvent', 'ZoomSounds Play', 'Play', 'zoomsounds play - ' + dataSrc]);\n        google_analytics_sent_play_event = true;\n      }\n      // console.log(o.google_analytics_send_play_event, window.ga, google_analytics_sent_play_event);\n\n      if (!window.ga) {\n        if (window.__gaTracker) {\n          window.ga = window.__gaTracker;\n        }\n      }\n\n      if (o.google_analytics_send_play_event == 'on' && window.ga && google_analytics_sent_play_event == false) {\n        if (window.console) {\n          console.log('sent event');\n        }\n        google_analytics_sent_play_event = true;\n        window.ga('send', {\n          hitType: 'event',\n          eventCategory: 'zoomsounds play - ' + dataSrc,\n          eventAction: 'play',\n          eventLabel: 'zoomsounds play - ' + dataSrc\n        });\n      }\n\n      //===media functions\n\n      if (selfClass._sourcePlayer) {\n\n        //console.log(cthis, selfClass._sourcePlayer);\n\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n          selfClass._sourcePlayer.get(0).api_play_media_visual({\n            'api_report_play_media': false\n          });\n        }\n\n      }\n\n      // console.log(\"TYPE IS \",type, selfClass._actualPlayer);\n\n      if (selfClass._actualPlayer) {\n        // -- the actual player is the footer player\n\n        //console.log(\"SUBMIT PLAY TO fakeplayer\", selfClass._actualPlayer);\n        var args = {\n          type: selfClass.actualDataTypeOfMedia,\n          fakeplayer_is_feeder: 'on',\n          call_from: 'play_media_audioplayer'\n        }\n\n        try {\n          if (margs.call_from == 'click_playpause') {\n            // -- let us reset up the playlist\n\n\n            if (o.parentgallery) {\n              o.parentgallery.get(0).api_regenerate_sync_players_with_this_playlist();\n              selfClass._actualPlayer.get(0).api_regenerate_playerlist_inner();\n            }\n\n            // console.log(\"we regenerate playlist here\");\n          }\n\n          if (selfClass._actualPlayer && selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') != cthis.get(0)) {\n\n            args.called_from = 'play_media from player 22 ' + cthis.attr('data-source') + ' < -  ' + 'old call from - ' + margs.call_from;\n\n            if (selfClass._actualPlayer.get(0).api_change_media) {\n              selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n            }\n\n            if (cthis.hasClass('first-played') == false) {\n              if (cthis.data('promise-to-play-footer-player-from')) {\n                seek_to(cthis.data('promise-to-play-footer-player-from'));\n                setTimeout(function () {\n                  cthis.data('promise-to-play-footer-player-from', '');\n                }, 1000);\n              }\n            }\n\n          }\n          setTimeout(function () {\n            if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_play_media) {\n              selfClass._actualPlayer.get(0).api_play_media({\n                'call_from': 'feed_to_feeder'\n              });\n            }\n          }, 100);\n\n\n          // console.log('ajax view submitted', cthis, selfClass.ajax_view_submitted);\n          if (selfClass.ajax_view_submitted == 'off') {\n            (dzsapAjax.ajax_submit_views.bind(selfClass))();\n          }\n          return;\n\n\n        } catch (err) {\n          console.log('no fake player..', err);\n        }\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n\n        dzsapHelpers.youtube_playMedia(selfClass, margs, yt_inited, yt_curr_id);\n      }\n      if (selfClass.audioType == 'normal' || selfClass.audioType == 'detect' || selfClass.audioType == 'audio') {\n        selfClass.audioType = 'selfHosted';\n      }\n      if (selfClass.audioType == 'selfHosted') {\n\n        if (cthis.attr('data-original-type')) {\n          // -- then this player is feeding\n        } else {\n\n          // -- no audioCtx_buffer\n          if (selfClass._cmedia) {\n            if (selfClass._cmedia.play) {\n              selfClass._cmedia.play();\n              if (dzsapHelpers.is_ios() && selfClass.spectrum_audioContext !== null && typeof selfClass.spectrum_audioContext == 'object') {\n                // todo: ios not playing nice.. with audio context\n                console.log('selfClass.spectrum_audioContext - ', typeof selfClass.spectrum_audioContext, selfClass.spectrum_audioContext);\n                selfClass.spectrum_audioContextBufferSource = selfClass.spectrum_audioContext.createBufferSource();\n                selfClass.spectrum_audioContextBufferSource.buffer = selfClass.spectrum_audioContext_buffer;\n                selfClass.spectrum_audioContextBufferSource.connect(selfClass.spectrum_audioContext.destination);\n                // selfClass.spectrum_audioContextBufferSource.connect(selfClass.spectrum_analyser)\n                selfClass.spectrum_audioContextBufferSource.start(0, lasttime_inseconds);\n              }\n            } else {\n              if (selfClass._actualPlayer == null) {\n                selfClass.isPlayPromised = true;\n              }\n            }\n          } else {\n            if (selfClass._actualPlayer == null) {\n              selfClass.isPlayPromised = true;\n            }\n          }\n          //console.log('watermark - .play', _cwatermark)\n          if (_cwatermark) {\n            //console.log('watermark - .play', _cwatermark, _cwatermark.play)\n            if (_cwatermark.play) {\n              _cwatermark.play();\n            }\n          }\n\n\n        }\n\n\n      }\n\n\n      //return false;\n      play_media_visual(margs);\n\n\n      //console.log(selfClass.ajax_view_submitted);\n\n\n      if (selfClass._sourcePlayer) {\n        window.dzsap_currplayer_focused = selfClass._sourcePlayer.get(0);\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n          selfClass._sourcePlayer.get(0).api_try_to_submit_view();\n        }\n\n      } else {\n\n        window.dzsap_currplayer_focused = cthis.get(0);\n        try_to_submit_view();\n      }\n\n\n      // console.log('keyboard_controls.play_trigger_step_back - ',keyboard_controls);\n      if (keyboard_controls.play_trigger_step_back == 'on') {\n\n        if (dzsap_currplayer_focused) {\n\n          dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n        }\n      }\n\n    }\n\n    function try_to_submit_view() {\n      // console.log('try_to_submit_view', cthis, selfClass.ajax_view_submitted);\n      if (selfClass.ajax_view_submitted == 'auto') {\n        selfClass.ajax_view_submitted = 'off';\n      }\n      if (selfClass.ajax_view_submitted == 'off') {\n\n        (dzsapAjax.ajax_submit_views.bind(selfClass))();\n      }\n    }\n\n\n  }\n}\n\n\nfunction register_dzsap_plugin() {\n  (function ($) {\n\n\n    window.dzsap_list_for_sync_build = function () {\n    };\n\n\n    Math.easeIn = function (t, b, c, d) {\n      // console.log('math.easein')\n\n      return -c * (t /= d) * (t - 2) + b;\n\n    };\n\n\n    dzsapHelpers.assignHelperFunctionsToJquery($);\n\n\n    // -- define player here\n    $.fn.audioplayer = function (argOptions) {\n      var finalOptions = {};\n      var defaultOptions = Object.assign({}, require('./configs/_settingsPlayer').default_opts);\n      finalOptions = dzsapHelpers.convertPluginOptionsToFinalOptions(this, defaultOptions, argOptions);\n\n\n      // console.log('finalOptions -- ',finalOptions);\n      this.each(function () {\n        var _ag = new DzsAudioPlayer(this, finalOptions, $);\n        return this;\n      })\n    }\n\n\n    // -- defined gallery here\n    // --\n    // AUDIO GALLERY\n    // --\n\n\n    dzsapPlaylist.registerToJquery($);\n    window.dzsag_init = function (selector, settings) {\n      if (typeof (settings) != \"undefined\" && typeof (settings.init_each) != \"undefined\" && settings.init_each === true) {\n        if (Object.keys(settings).length === 1) {\n          settings = undefined;\n        }\n\n        $(selector).each(function () {\n          var _t = $(this);\n          _t.audiogallery(settings)\n        });\n      } else {\n        $(selector).audiogallery(settings);\n      }\n    };\n\n  })(jQuery);\n}\n\n\nfunction register_dzsap_aux_script() {\n  jQuery(document).ready(function ($) {\n\n\n    // -- main call\n    // console.log('song changers -> ', $('.audioplayer-song-changer'));\n\n\n    $('body').append('<style class=\"dzsap--style\"></style>');\n\n    window.dzsap__style = $('.dzsap--style');\n\n    $(window).on('resize.dzsapmain', handle_resize_dzsap_main);\n\n    // -- remove focus on input focus\n    $(document).on('focus.dzsap', 'input', function () {\n      // console.log(\"FOCUS - \");\n      window.dzsap_currplayer_focused = null;\n    })\n\n    var inter_resize = 0;\n\n    function handle_resize_dzsap_main() {\n\n      clearTimeout(inter_resize);\n      inter_resize = setTimeout(function () {\n        handle_resize_dzsap_main_doit();\n      }, 300)\n\n\n    }\n\n    function handle_resize_dzsap_main_doit() {\n\n      // console.log('$(\\'.dzsap-sticktobottom\\') - ',$('.dzsap-sticktobottom'));\n      if ($('.dzsap-sticktobottom').length) {\n\n\n        dzsap_sticktobottom_con = $('.dzsap-sticktobottom').eq(0);\n      }\n\n      if (dzsap_sticktobottom_con) {\n        // console.log('dzsap_sticktobottom_con - ',dzsap_sticktobottom_con);\n\n        var aux = 'body .dzsap-sticktobottom:not(.audioplayer-loaded)';\n\n        // console.log('dzsap_sticktobottom_con.outerHeight() - ',dzsap_sticktobottom_con.outerHeight());\n        aux += '{';\n        aux += 'bottom: -' + (dzsap_sticktobottom_con.outerHeight()) + 'px';\n        aux += '}';\n\n        window.dzsap__style.html(aux);\n\n      }\n    }\n\n    handle_resize_dzsap_main();\n\n    $('audio.zoomsounds-from-audio').each(function () {\n      var _t = $(this);\n      //console.log(_t);\n\n      _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n\n      _t.remove();\n    })\n\n\n    $('.audioplayer,.audioplayer-tobe').each(function () {\n      var _t2 = $(this);\n\n      if (_t2.hasClass('auto-init')) {\n        if (_t2.hasClass('audioplayer-tobe') == true) {\n\n          if (window.dzsap_init) {\n\n            dzsap_init(_t2, {\n              init_each: true\n            });\n          }\n        }\n      }\n    })\n\n    //console.log('dzsap_list_for_sync_players - ', dzsap_list_for_sync_players);\n\n    //console.log($('.zoomvideogallery.auto-init'));\n\n    dzsag_init('.audiogallery.auto-init', {\n      init_each: true\n    });\n\n\n    // console.log('we are hier');\n\n\n    dzsapHelpers.jQueryAuxBindings($);\n\n\n    // $(document).off('click.dzsap_multisharer');\n\n\n  });\n\n\n  dzsapHelpers.registerTextWidth(jQuery);\n\n}\n\n\nfunction is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nwindow.requestAnimFrame = (function () {\n  //console.log(callback);\n  // return function( callback,element) {\n  //     console.log('wow');\n  //     window.setTimeout(callback, 1000 / 2);\n  // };;\n  return window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function ( /* function */ callback, /* DOMElement */ element) {\n      window.setTimeout(callback, 1000 / 60);\n    };\n})();\n\n\nwindow.dzsap_currplayer_focused = null;\nwindow.dzsap_currplayer_from_share = null;\nwindow.dzsap_mouseover = false;\n\n\n// console.log('window.dzsap_init_calls - ', window.dzsap_init_calls);\n\nfunction dzsap_call_init_calls() {\n  // console.log('window.dzsap_call_init_calls - ',window.dzsap_call_init_calls);\n  for (var key in window.dzsap_init_calls) {\n    window.dzsap_init_calls[key](jQuery);\n  }\n  window.dzsap_init_calls = [];\n\n}\n\nwindow.dzsap_call_init_calls = dzsap_call_init_calls;\n\nif (window.jQuery) {\n  register_dzsap_plugin();\n  register_dzsap_aux_script();\n  jQuery(document).ready(function ($) {\n    dzsap_call_init_calls()\n  })\n} else {\n  var script = document.createElement('script');\n  document.head.appendChild(script);\n  script.type = 'text/javascript';\n  script.src = \"//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js\";\n  script.onload = function () {\n    register_dzsap_plugin();\n    register_dzsap_aux_script();\n    dzsap_call_init_calls()\n  }\n}\n\n\nwindow.dzsap_init = function (selector, settings) {\n\n  //console.log(selector);\n  if (typeof (settings) != \"undefined\" && typeof (settings.init_each) != \"undefined\" && settings.init_each == true) {\n    var element_count = 0;\n    for (var e in settings) {\n      element_count++;\n    }\n    if (element_count === 1) {\n      settings = undefined;\n    }\n\n    jQuery(selector).each(function () {\n      var _t = jQuery(this);\n      if (settings && typeof (settings.call_from) == 'undefined') {\n        settings.call_from = 'dzsap_init';\n      }\n\n\n      _t.audioplayer(settings)\n    });\n  } else {\n    jQuery(selector).audioplayer(settings);\n  }\n\n  window.dzsap_lasto = settings;\n\n\n  dzsapHelpers.dzsapInitjQueryRegisters();\n};\ndzsapHelpers.miscFunctions();\n","const dzsapHelpers = require('./_dzsap_helpers');\nconst ZoomSoundsNav = require('./components/_nav');\n\nconst Constants = require('../configs/_constants').constants;\n\n// Constants.DEMO;\n\nclass DzsApPlaylist {\n  constructor(argThis, argOptions, $) {\n\n    this.argThis = argThis;\n    this.argOptions = argOptions;\n    this.$ = $;\n    this.navClass = null;\n\n\n    this.init();\n  }\n\n  init() {\n    // console.log('this -> ', this);\n\n\n    var $ = this.$;\n    var selfGallery = this;\n    //console.log(\"INITED\");\n    var o = selfGallery.argOptions;\n    var cgallery = $(selfGallery.argThis);\n    var cid = 'ag1';\n    var currNr = -1 // -- the current player that is playing\n      , lastCurrNr = 0\n      , nrChildren = 0\n      , tempNr = 0;\n    var busy = true;\n    var i = 0;\n\n\n    var dzsap_currplayer_focused = null;\n    var _sliderMain, _sliderClipper, _navMain, _navClipper, _cache;\n    var busy = false,\n      first = true,\n      destroyed = true,\n      skin_redlight_give_controls_right_to_all_players = false // -- if the mode is mode-showall and the skin of the player is redlights, then make all players with controls right\n    ;\n\n\n\n    var aux_error = 20; //==erroring for the menu scroll\n\n    var trying_to_get_track_data = false;\n\n\n    var arr_menuitems = [];\n    var track_data = []; // -- the whole track data views / likes etc.\n\n    var str_alertBeforeRate = 'You need to comment or rate before downloading.';\n\n\n    var duration_viy = 20;\n\n    var target_viy = 0;\n\n    var begin_viy = 0;\n\n    var finish_viy = 0;\n\n    var change_viy = 0;\n\n    selfGallery.goto_item = goto_item;\n    selfGallery.handleResize = handleResize;\n\n\n    selfGallery.initOptions = o;\n    if (window.dzsap_settings && typeof (window.dzsap_settings.str_alertBeforeRate) != 'undefined') {\n      str_alertBeforeRate = window.dzsap_settings.str_alertBeforeRate;\n    }\n\n    cgallery.get(0).currNr_2 = -1; // -- we use this as backup currNR for mode-showall ( hack )\n\n    init();\n\n    function init() {\n      // -- init gallery here\n\n      // console.log('o.settings_ap before data-player-options - ',o.settings_ap);\n      // console.log('%c o gallery','background-color: #ccc;',$.extend({},o));\n\n\n      if (o.settings_ap == 'default') {\n\n        if (cgallery.attr('data-player-options')) {\n          o.settings_ap = dzsapHelpers.convertPluginOptionsToFinalOptions(cgallery.get(0), {}, null, 'data-player-options');\n        }else{\n          const _firstPlayer = cgallery.find('.audioplayer, .audioplayer-tobe').eq(0);\n          if(_firstPlayer){\n\n            o.settings_ap = dzsapHelpers.convertPluginOptionsToFinalOptions(_firstPlayer.get(0), {}, null);\n          }\n        }\n      }\n\n\n      // console.log('o.settings_ap after data-player-options - ',Object.assign({}, o.settings_ap));\n      if (o.settings_ap == 'default') {\n        o.settings_ap = {};\n      }\n\n\n      if (o.design_menu_width == 'default') {\n        o.design_menu_width = '100%';\n      }\n      if (o.design_menu_height == 'default') {\n        o.design_menu_height = '200';\n      }\n\n\n      if (cgallery.hasClass('skin-wave')) {\n        o.design_skin = 'skin-wave';\n      }\n      if (cgallery.hasClass('skin-default')) {\n        o.design_skin = 'skin-default';\n      }\n      if (cgallery.hasClass('skin-aura')) {\n        o.design_skin = 'skin-aura';\n      }\n\n\n      cgallery.addClass(o.settings_mode);\n\n\n      cgallery.append('<div class=\"slider-main\"><div class=\"slider-clipper\"></div></div>');\n\n      cgallery.addClass('menu-position-' + o.design_menu_position);\n\n      _sliderMain = cgallery.find('.slider-main').eq(0);\n\n\n      var auxlen = cgallery.find('.items').children('.audioplayer-tobe').length;\n\n      // --- if there is a single audio player in the gallery - theres no point of a menu\n\n\n      o.settings_ap.disable_player_navigation = o.disable_player_navigation;\n      if (auxlen == 0 || auxlen == 1) {\n        o.design_menu_position = 'none';\n        o.settings_ap.disable_player_navigation = 'on';\n      }\n\n\n      // console.log('ZoomSoundsNav - ', ZoomSoundsNav);\n\n      selfGallery.navClass = new ZoomSoundsNav.ZoomSoundsNav(selfGallery);\n\n\n      if (o.design_menu_position == 'top') {\n        _sliderMain.before(selfGallery.navClass.get_structZoomsoundsNav());\n      }\n      if (o.design_menu_position == 'bottom') {\n        _sliderMain.after(selfGallery.navClass.get_structZoomsoundsNav());\n      }\n\n      // console.log('[settingsap] o.settings_ap -', o.settings_ap);\n      if (o.settings_php_handler) {\n\n      } else {\n        if (o.settings_ap.settings_php_handler) {\n          o.settings_php_handler = o.settings_ap.settings_php_handler;\n        }\n      }\n\n\n      if (typeof cgallery.attr('id')) {\n        cid = cgallery.attr('id');\n      } else {\n\n        var ind = 0;\n        while ($('ag' + ind).length == 0) {\n          ind++;\n        }\n\n\n        cid = 'ag' + ind;\n\n        cgallery.attr('id', cid);\n      }\n\n\n      _sliderClipper = cgallery.find('.slider-clipper').eq(0);\n      _navMain = cgallery.find('.nav-main').eq(0);\n      _navClipper = cgallery.find('.nav-clipper').eq(0);\n\n      if (cgallery.children('.extra-html').length) {\n        cgallery.append(cgallery.children('.extra-html'));\n      }\n\n      if (o.settings_mode == 'mode-showall') {\n        _sliderClipper.addClass('layout-' + o.mode_showall_layout);\n      }\n\n      selfGallery.navClass.set_elements(_navMain, _navClipper, cgallery);\n\n\n      reinit();\n\n      //console.log(arr_menuitems);\n\n      selfGallery.navClass.init_ready();\n\n\n      parse_track_data();\n\n\n      if (dzsapHelpers.can_history_api() == false) {\n        o.settings_enable_linking = 'off';\n      }\n\n\n      if (cgallery.css('opacity') == 0) {\n        cgallery.animate({\n          'opacity': 1\n        }, 1000);\n      }\n\n      $(window).bind('resize', handleResize);\n      handleResize();\n      setTimeout(handleResize, 1000);\n\n\n      cgallery.get(0).api_skin_redlights_give_controls_right_to_all = function () {\n\n        // -- void f()\n\n        skin_redlight_give_controls_right_to_all_players = true;\n      }\n\n\n      if (dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) {\n        tempNr = Number(dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid));\n\n        lastCurrNr = tempNr;\n        if (Number(dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) && Number(dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) > 0) {\n\n          // console.log(cid,o.force_autoplay_when_coming_from_share_link)\n\n          // -- caution .. coming from share link will trigger autoplay!!!\n          if (o.force_autoplay_when_coming_from_share_link == 'on') {\n            o.autoplay = 'on';\n          }\n        }\n      }\n      // console.log('%c o gallery','background-color: #ccc;',$.extend({},o));\n\n\n      if (o.settings_mode == 'mode-normal') {\n\n        goto_item(tempNr, {\n          'called_from': 'init'\n        });\n      }\n\n\n      if (o.settings_mode == 'mode-showall') {\n        // -- mode-showall\n\n        _sliderClipper.children().each(function () {\n          var _t = $(this);\n\n          //console.log(_t);\n\n          var ind = _t.parent().children('.audioplayer,.audioplayer-tobe').index(_t);\n\n          if (_t.hasClass('audioplayer-tobe')) {\n            //console.log(o.settings_ap);\n\n\n            var player_args = Object.assign({}, o.settings_ap);\n            player_args.parentgallery = cgallery;\n            player_args.call_from = 'mode show-all';\n            player_args.action_audio_play = mode_showall_listen_for_play;\n\n            // -- showall\n            _t.audioplayer(player_args);\n\n            //console.log(ind);\n\n            ind = String(ind + 1);\n\n            if (ind.length < 2) {\n              ind = '0' + ind;\n            }\n\n            if (o.mode_showall_layout == 'one-per-row' && o.settings_mode_showall_show_number != 'off') {\n\n              _t.before('<div class=\"number-wrapper\"><span class=\"the-number\">' + ind + '</span></div>')\n              _t.after('<div class=\"clear for-number-wrapper\"></div>')\n            }\n          }\n\n        })\n\n\n        if ($.fn.isotope && o.mode_showall_layout != 'one-per-row') {\n\n          // -- we have isotope\n\n          // console.log('_sliderClipper.find(\\'.audioplayer,.audioplayer-tobe\\') - ' ,_sliderClipper.find('.audioplayer,.audioplayer-tobe'));\n          _sliderClipper.find('.audioplayer,.audioplayer-tobe').addClass('isotope-item');\n          setTimeout(function () {\n\n            _sliderClipper.prepend('<div class=\"grid-sizer\"></div>');\n            _sliderClipper.isotope({\n              // options\n              itemSelector: '.isotope-item',\n              layoutMode: 'fitRows',\n              percentPosition: true,\n              masonry: {\n                columnWidth: '.grid-sizer'\n              }\n            });\n            _sliderClipper.addClass('isotoped');\n            setTimeout(function () {\n              _sliderClipper.isotope('layout')\n            }, 900);\n          }, Constants.PLAYLIST_TRANSITION_DURATION);\n\n\n          _sliderClipper.append('<div class=\"clear\"></div>');\n        }\n\n\n        //console.log('dada2', skin_redlight_give_controls_right_to_all_players);\n\n\n        if (skin_redlight_give_controls_right_to_all_players) {\n\n          _sliderClipper.children('.audioplayer').each(function () {\n\n            var _t = $(this);\n\n            //console.log(_t);\n\n            if (_t.find('.ap-controls-right').eq(0).prev().hasClass('controls-right') == false) {\n              _t.find('.ap-controls-right').eq(0).before('<div class=\"controls-right\"> </div>');\n            }\n          });\n        }\n\n      }\n\n\n      cgallery.find('.download-after-rate').bind('click', click_downloadAfterRate);\n\n      cgallery.get(0).api_regenerate_sync_players_with_this_playlist = regenerate_sync_players_with_this_playlist;\n      cgallery.get(0).api_goto_next = goto_next;\n      cgallery.get(0).api_goto_prev = goto_prev;\n      cgallery.get(0).api_goto_item = goto_item;\n      cgallery.get(0).api_gallery_handle_end = gallery_handle_end;\n      cgallery.get(0).api_toggle_menu_state = toggle_menu_state;\n      cgallery.get(0).api_handleResize = handleResize;\n      cgallery.get(0).api_player_commentSubmitted = player_commentSubmitted;\n      cgallery.get(0).api_player_rateSubmitted = player_rateSubmitted;\n      cgallery.get(0).api_reinit = reinit;\n      cgallery.get(0).api_play_curr_media = play_curr_media;\n      cgallery.get(0).api_get_nr_children = get_nr_children;\n      cgallery.get(0).api_init_player_from_gallery = init_player_from_gallery;\n      cgallery.get(0).api_filter = filter;\n      cgallery.get(0).api_destroy = destroy_gallery;\n\n\n      setInterval(calculate_on_interval, 1000);\n\n\n      setTimeout(init_loaded, 700);\n\n\n      if (o.enable_easing == 'on') {\n\n        handle_frame();\n      }\n      //console.log(cgallery);\n\n      cgallery.addClass('dzsag-inited');\n\n      cgallery.addClass('transition-' + o.playlistTransition);\n      cgallery.addClass('playlist-transition-' + o.playlistTransition);\n\n\n    }\n\n\n    function destroy_gallery() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n\n      // $(window).off('resize.dzsap');\n\n      cgallery.remove();\n      cgallery = null;\n\n      destroyed = true;\n    }\n\n    function filter(argby, arg) {\n      if (!(argby)) {\n        argby = 'title';\n      }\n\n      const filterForIsotope = (argthis) => {\n\n\n        // console.log(this, typeof this, argthis);\n        var _t = $(argthis);\n        var referenceVal = '';\n\n        if (argby == 'title') {\n          referenceVal = _t.find('.the-name').text();\n        }\n\n        // console.log('argby - ',argby, ' | ', _t, _t.find('.the-name'));\n        // console.log('$(this).find(\\'.the-name\\') - ',referenceVal, ' | ', arg);\n\n        if (arg == '') {\n          return true;\n        }\n        if (referenceVal.toLowerCase().indexOf(arg.toLowerCase()) > -1) {\n          return true;\n        }\n        return false;\n        // console.log(arg2,this,arg);\n      }\n      if (_sliderClipper.hasClass('isotoped')) {\n        _sliderClipper.isotope({\n          filter: filterForIsotope\n        });\n      } else {\n        _sliderClipper.children().each(function () {\n          var sw = filterForIsotope(this);\n          // console.log('sw - ',sw);\n          if (sw) {\n            $(this).fadeIn('fast');\n          } else {\n\n            // console.warn(\"OUT FAST\");\n            $(this).fadeOut('fast');\n          }\n        })\n      }\n    }\n\n    function regenerate_sync_players_with_this_playlist() {\n\n      // -- in case we play from playlist we overwrite whole footer playlist\n\n      dzsap_list_for_sync_players = [];\n\n      _sliderClipper.children('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t = $(this);\n        _t.addClass('feeded-whole-playlist');\n\n        if (_t.attr('data-do-not-include-in-list') != 'on') {\n          dzsap_list_for_sync_players.push(_t);\n        }\n      })\n    }\n\n\n    function init_parse_track_data() {\n\n      if (trying_to_get_track_data) {\n        return false;\n      }\n\n      trying_to_get_track_data = true;\n\n      var data = {\n        action: 'dzsap_get_views_all',\n        postdata: '1',\n      };\n\n\n      if (o.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: o.settings_php_handler,\n          data: data,\n          success: function (response) {\n            //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n            cgallery.attr('data-track-data', response);\n            parse_track_data();\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n          }\n        });\n      }\n\n\n    }\n\n    function parse_track_data() {\n      if (cgallery.attr('data-track-data')) {\n        try {\n          track_data = JSON.parse(cgallery.attr('data-track-data'));\n        } catch (err) {\n          console.log(err);\n        }\n\n        if (track_data && track_data.length) {\n\n          selfGallery.navClass.parseTrackData(track_data);\n          //console.warn(foundnr, track_data.length);\n        }\n\n\n      }\n\n      //console.log(' track_data - ' ,track_data);\n    }\n\n    function get_nr_children() {\n      return nrChildren;\n    }\n\n    function find_player_id(arg) {\n      if (arg.attr('data-player-id')) {\n        return arg.attr('data-player-id');\n      } else {\n        if (arg.attr('id')) {\n          return arg.attr('id');\n        } else {\n          if (arg.attr('data-source')) {\n            return dzsapHelpers.dzs_clean_string(arg.attr('data-source'));\n          }\n        }\n      }\n    }\n\n    function reinit() {\n\n\n      //console.log('reinit()', cgallery.find('.items').eq(0).children(), cgallery.find('.items').eq(0).children().length);\n\n      var notInitedPlayersLength = cgallery.find('.items').eq(0).children('.audioplayer-tobe').length;\n      arr_menuitems = [];\n\n      var player_id = '';\n\n      //console.log('reinit - ', cgallery.find('.items').eq(0).children());\n\n      for (i = 0; i < notInitedPlayersLength; i++) {\n        // -- construct palyers here\n        var _c = cgallery.find('.items').children('.audioplayer-tobe').eq(0);\n\n        //console.log('_c) - ',_c);\n\n        var menuDescriptionHtml = '';\n\n        if (_c.find('.menu-description').html()) {\n          menuDescriptionHtml = _c.find('.menu-description').html();\n        } else {\n          menuDescriptionHtml = '';\n\n          if (_c.find('.feed-artist').length || _c.find('.feed-songname').length) {\n\n            menuDescriptionHtml = ``;\n            if(_c.attr('data-thumb')){\n              menuDescriptionHtml+=`<div class=\"menu-item-thumb-con\"><div class=\"menu-item-thumb\" style=\"background-image: url(${_c.attr('data-thumb')})\"></div></div>`;\n            }\n            menuDescriptionHtml += `<div class=\"menu-artist-info\"><span class=\"the-artist\">${_c.find('.feed-artist').html()}</span><span class=\"the-name\">${_c.find('.feed-songname').html()}</span></div>`\n          }\n        }\n\n        var auxer = {\n          'menu_description': menuDescriptionHtml\n          , 'player_id': find_player_id(_c)\n        }\n\n        arr_menuitems.push(auxer)\n        //cgallery.find('.items').children().eq(0).find('.menu-description').remove();\n\n        // console.log('_c - ',_c);\n\n\n        _sliderClipper.append(_c);\n\n        // if (o.settings_mode == 'mode-showall') {\n        //   _c.wrap('<div class=\"\"></div>')\n        // }\n\n      }\n\n\n      // console.log('arr_menuitems - ', arr_menuitems);\n      for (i = 0; i < arr_menuitems.length; i++) {\n        var extra_class = '';\n        if (arr_menuitems[i].menu_description && arr_menuitems[i].menu_description.indexOf('<div class=\"menu-item-thumb-con\"><div class=\"menu-item-thumb\" style=\"') == -1) {\n          extra_class += ' no-thumb';\n        }\n\n\n        var aux = '<div class=\"menu-item' + extra_class + '\"  data-menu-index=\"' + i + '\" data-gallery-id=\"' + cid + '\" data-playerid=\"' + arr_menuitems[i].player_id + '\">'\n\n        if (cgallery.hasClass('skin-aura')) {\n          aux += '<div class=\"menu-item-number\">' + (++nrChildren) + '</div>';\n        }\n\n        aux += arr_menuitems[i].menu_description;\n\n\n        if (cgallery.hasClass('skin-aura') && String(arr_menuitems[i].menu_description).indexOf('menu-item-views') == 1) {\n\n          if (track_data && track_data.length > 0) {\n\n            aux += '<div class=\"menu-item-views\"></div>';\n          } else {\n\n            init_parse_track_data();\n            aux += '<div class=\"menu-item-views\">' + dzsapSvgs.svg_play_icon + ' ' + '<span class=\"the-count\">{{views_' + arr_menuitems[i].player_id + '}}' + '</span></div>';\n          }\n\n        }\n\n\n        aux += '</div>';\n\n        _navClipper.append(aux);\n\n\n        if (cgallery.hasClass('skin-aura')) {\n\n          if (arr_menuitems[i] && arr_menuitems[i].menu_description && arr_menuitems[i].menu_description.indexOf('float-right') > -1) {\n            _navClipper.children().last().addClass('has-extra-info')\n          }\n        }\n        // nrChildren++;\n      }\n    }\n\n    function init_loaded() {\n      // -- gallery\n\n      cgallery.addClass('dzsag-loaded');\n    }\n\n    function click_downloadAfterRate() {\n      var _t = $(this);\n\n\n      if (_t.hasClass('active') == false) {\n        alert(str_alertBeforeRate)\n        return false;\n      }\n    }\n\n\n    function play_curr_media() {\n\n      if (typeof (_sliderClipper.children().eq(currNr).get(0)) != 'undefined') {\n        if (typeof (_sliderClipper.children().eq(currNr).get(0).api_play_media) != 'undefined') {\n          _sliderClipper.children().eq(currNr).get(0).api_play_media({\n            'call_from': 'play_curr_media_gallery'\n          });\n        }\n\n      }\n    }\n\n    function mode_showall_listen_for_play(arg) {\n\n      //console.log('mode_showall_listen_for_play()',currNr, arg);\n\n      if (o.settings_mode == 'mode-showall') {\n\n        var ind = _sliderClipper.children('.audioplayer,.audioplayer-tobe').index(arg);\n        //console.log(ind);\n        currNr = ind;\n        cgallery.get(0).currNr_2 = ind;\n        //console.log(cgallery,currNr)\n      }\n      //console.log('mode_showall_listen_for_play()',currNr,this, cgallery.get(0).currNr_2);\n    }\n\n    function handle_frame() {\n\n      // -- cgallery\n\n      if (isNaN(target_viy)) {\n        target_viy = 0;\n      }\n\n      if (duration_viy === 0) {\n        requestAnimFrame(handle_frame);\n        return false;\n      }\n\n      begin_viy = target_viy;\n      change_viy = selfGallery.navClass.finish_viy - begin_viy;\n\n\n      //console.log('handle_frame', finish_viy, duration_viy, target_viy);\n\n      //console.log(duration_viy);\n\n\n      target_viy = Number(Math.easeIn(1, begin_viy, change_viy, duration_viy).toFixed(4));\n      ;\n\n\n      if (dzsapHelpers.is_ios() == false && dzsapHelpers.is_android() == false) {\n        _navClipper.css({\n          'transform': 'translateY(' + target_viy + 'px)'\n        });\n      }\n\n\n      //console.log(_blackOverlay,target_bo);;\n\n      requestAnimFrame(handle_frame);\n    }\n\n\n    function toggle_menu_state() {\n\n      selfGallery.navClass.toggle_menu_state();\n    }\n\n    function gallery_handle_end() {\n\n      if (o.autoplayNext == 'on') {\n\n        goto_next();\n      }\n    }\n\n    function player_commentSubmitted() {\n      _navClipper.children('.menu-item').eq(currNr).find('.download-after-rate').addClass('active');\n\n    }\n\n    function player_rateSubmitted() {\n      _navClipper.children('.menu-item').eq(currNr).find('.download-after-rate').addClass('active');\n    }\n\n    function calculateDims() {\n      //                console.log('calculateDims');\n\n\n      // console.log('_sliderClipper.hasClass(\\'isotoped\\') - ',_sliderClipper.hasClass('isotoped'));\n      if (o.settings_mode != 'mode-showall' && _sliderClipper.hasClass('isotoped') == false && o.mode_normal_video_mode != 'one') {\n        // -- mode normal, not isotope\n        if (_sliderClipper.children().eq(currNr).hasClass('zoomsounds-wrapper-bg-bellow') == false) {\n          _sliderClipper.css('height', _sliderClipper.children().eq(currNr).outerHeight());\n\n        }\n      }\n\n      if (_sliderClipper.hasClass('isotoped') == false) {\n        // -- not isotope\n        setTimeout(function () {\n          _sliderClipper.css('height', 'auto');\n        }, Constants.PLAYLIST_TRANSITION_DURATION);\n      }\n\n      //                _navMain.show();\n\n      //                return;\n\n\n      selfGallery.navClass.calculateDims();\n\n      if (o.embedded == 'on') {\n        //console.log(window.frameElement)\n        if (window.frameElement) {\n          window.frameElement.height = cgallery.height();\n          //console.log(window.frameElement.height, cgallery.outerHeight())\n        }\n      }\n    }\n\n\n    function calculate_on_interval() {\n      // -- @called on setInterval\n\n      selfGallery.navClass.calculateDims();\n\n      // -- this is for player ? todo ...\n      if (0 && o.gallery_gapless_play == 'on') {\n        var args = {\n          'call_from': 'gapless_play'\n        }\n\n        if (o.parentgallery && cthis.hasClass('active-from-gallery')) {\n          var _c = o.parentgallery;\n          // console.log(_c);\n          // console.log(_c.data('currNr'));\n\n\n          var _cach = _sliderClipper.children().eq(Number(_c.data('currNr')) + 1);\n\n\n          if (!(_cach.data('gapless-inited') == true)) {\n\n            var args = {\n              preload_method: \"auto\"\n              , \"autoplay\": \"off\"\n              , \"call_from\": \"gapless_play\"\n            }\n\n\n            _c.get(0).api_init_player_from_gallery(_cach, args);\n\n            _cach.data('gapless-inited', true);\n\n            setTimeout(function () {\n              _cach.get(0).api_handleResize();\n            }, 1000)\n          }\n        }\n      }\n\n\n      // console.log('nm_maindim - ' ,nc_maindim);\n    }\n\n\n    function handleResize() {\n\n      if (o.settings_mode != 'mode-showall' && _sliderClipper.hasClass('isotoped') == false) {\n        setTimeout(function () {\n          //console.log(_sliderClipper.children().eq(currNr), _sliderClipper.children().eq(currNr).height())\n          _sliderClipper.css('height', _sliderClipper.children().eq(currNr).outerHeight());\n        }, 500);\n      }\n\n      calculateDims();\n\n    }\n\n    function transition_end(newCurrNr) {\n      _sliderClipper.children().eq(lastCurrNr).removeClass('transitioning-out');\n\n      _sliderClipper.children().eq(newCurrNr).removeClass('transitioning-in');\n      lastCurrNr = currNr;\n      busy = false;\n    }\n\n    function transition_bg_end() {\n      cgallery.parent().children('.the-bg').eq(0).remove();\n      busy = false;\n    }\n\n    function goto_prev() {\n      tempNr = currNr;\n      tempNr--;\n\n      var sw_goto_item = true;\n\n\n      if (tempNr < 0) {\n        tempNr = _sliderClipper.children().length - 1;\n\n        if (o.loop_playlist == 'off') {\n          sw_goto_item = false;\n        }\n      }\n\n      if (sw_goto_item) {\n\n        goto_item(tempNr);\n      }\n    }\n\n    function goto_next() {\n      // console.warn('ag','goto_next()', currNr,cgallery.get(0).currNr_2);\n      tempNr = currNr;\n\n\n      var sw_goto_item = true;\n\n      if (o.settings_mode == 'mode-showall') {\n        tempNr = cgallery.get(0).currNr_2;\n      }\n      tempNr++;\n      if (tempNr >= _sliderClipper.children().length) {\n        tempNr = 0;\n\n        if (o.loop_playlist == 'off') {\n          sw_goto_item = false;\n        }\n      }\n\n\n      if (sw_goto_item) {\n\n        goto_item(tempNr);\n      }\n    }\n\n    function goto_item(newCurrNr, pargs) {\n\n\n      var margs = {\n\n        'ignore_arg_currNr_check': false\n        , 'ignore_linking': false // -- does not change the link if set to true\n        , donotopenlink: \"off\"\n        , called_from: \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('goto_item()', arg, busy);\n\n      if (busy == true) {\n        return;\n      }\n\n      if (newCurrNr == \"last\") {\n        newCurrNr = _sliderClipper.children().length - 1;\n      }\n\n      // console.log('goto_item()', currNr, newCurrNr, '(currNr == newCurrNr)', currNr == newCurrNr, busy, newCurrNr==\"last\");\n\n\n      if (!!(currNr == newCurrNr)) {\n\n        if (_sliderClipper && _sliderClipper.children().eq(currNr).get(0) && _sliderClipper.children().eq(currNr).get(0).api_play_media) {\n          _sliderClipper.children().eq(currNr).get(0).api_play_media({\n            'call_from': 'gallery'\n          });\n        }\n        return;\n      }\n\n      var _audioplayerToBeActive = _sliderClipper.children('.audioplayer,.audioplayer-tobe').eq(newCurrNr);\n\n      // console.warn('_audioplayerToBeActive - ', _audioplayerToBeActive);\n      // console.warn('currNr - ', currNr);\n      var currNr_last_vol = '';\n\n      if (currNr > -1) {\n        if (typeof (_sliderClipper.children().eq(currNr).get(0)) != 'undefined') {\n          if (typeof (_sliderClipper.children().eq(currNr).get(0).api_pause_media) != 'undefined') {\n            _sliderClipper.children().eq(currNr).get(0).api_pause_media();\n          }\n          if (typeof (_sliderClipper.children().eq(currNr).get(0).api_get_last_vol) != 'undefined') {\n            currNr_last_vol = _sliderClipper.children().eq(currNr).get(0).api_get_last_vol();\n          }\n\n        }\n\n\n        _navClipper.children().removeClass('active active-from-gallery');\n\n\n        if (o.mode_normal_video_mode == 'one') {\n\n        } else {\n\n          if (o.settings_mode != 'mode-showall') {\n\n\n\n            //console.log(o.playlistTransition);\n            _sliderClipper.children().eq(currNr).removeClass('active active-from-gallery');\n            _navClipper.children().eq(currNr).removeClass('active active-from-gallery');\n\n\n          }\n        }\n\n      }\n\n\n      // --  setting settings\n      if (o.settings_ap.design_skin == 'sameasgallery') {\n        o.settings_ap.design_skin = o.design_skin;\n      }\n\n      // console.log('o.settings_ap HERE IT IS 2 - ',$.extend({}, o.settings_ap), currNr);\n\n\n      // console.log('%c o.autoplay from gallery - ','background-color: #dadada;',o.autoplay);\n\n      // -- if this is  the first audio\n      if (currNr == -1 && o.autoplay == 'on') {\n        o.settings_ap.autoplay = 'on';\n      }\n      // console.log('o.settings_ap HERE IT IS 24 - ',$.extend({}, o.settings_ap));\n\n      // -- if this is not the first audio\n      if (currNr > -1 && o.autoplayNext == 'on') {\n        o.settings_ap.autoplay = 'on';\n      }\n      o.settings_ap.parentgallery = cgallery;\n\n      o.settings_ap.design_menu_show_player_state_button = o.design_menu_show_player_state_button;\n      o.settings_ap.cue = 'on';\n      if (first == true) {\n        if (o.cueFirstMedia == 'off') {\n          o.settings_ap.cue = 'off';\n        }\n\n        first = false;\n      }\n\n      // -- setting settings END\n\n\n      var args_player = $.extend({}, o.settings_ap);\n\n      // console.log('o.settings_ap HERE IT IS 3 - ',$.extend({}, o.settings_ap));\n\n      args_player.volume_from_gallery = currNr_last_vol;\n      args_player.call_from = 'gotoItem';\n      args_player.player_navigation = o.player_navigation;\n\n      // console.log('lets init player here', arg);\n      if (o.mode_normal_video_mode == 'one' && newCurrNr > -1 && margs.called_from != 'init') {\n        // -- video mode -> one\n\n\n        // console.error('lets init player here', arg);\n\n        var _c = _sliderClipper.children().eq(0).get(0);\n        _audioplayerToBeActive = _sliderClipper.children().eq(0);\n\n        if (_c) {\n          if (_c.api_play_media) {\n\n            // console.log('_sliderClipper.children().eq(arg) -5 ',_sliderClipper.children().eq(arg));\n            _c.api_change_media(_sliderClipper.children().eq(newCurrNr), {\n              'called_from': 'goto_item -- mode_normal_video_mode()',\n              'modeOneGalleryIndex': newCurrNr,\n              'source_player_do_not_update': 'on',\n              // ,'fakeplayer_is_feeder':'on'\n            });\n\n            if (o.autoplayNext == 'on') {\n              setTimeout(function () {\n                _c.api_play_media();\n              }, 200);\n            }\n          }\n        }\n      } else {\n\n        // -- init player from gallery\n        init_player_from_gallery(_audioplayerToBeActive, args_player);\n\n      }\n\n\n\n      // -- actions after init\n      if (o.autoplayNext == 'on') {\n        if (o.settings_mode == 'mode-showall') {\n          currNr = cgallery.get(0).currNr_2;\n        }\n        if (!!(currNr > -1 && _audioplayerToBeActive.get(0) && _audioplayerToBeActive.get(0).api_play)) {\n          _audioplayerToBeActive.get(0).api_play();\n        }\n      }\n\n      if(o.settings_ap.playfrom == undefined || o.settings_ap.playfrom==\"0\"){\n        _audioplayerToBeActive.get(0).api_seek_to_0();\n      }\n\n      // console.log('o.settings_ap - ', o.settings_ap);\n      // -- end actions after init\n\n      dzsap_currplayer_focused = _audioplayerToBeActive.get(0);\n\n\n      if (o.settings_mode != 'mode-showall') {\n        _sliderClipper.children().eq(currNr).addClass('transitioning-out');\n        _audioplayerToBeActive.removeClass('transitioning-out-complete');\n        _audioplayerToBeActive.addClass('transitioning-in');\n        setTimeout((_arg)=>{\n          _arg.addClass('transitioning-out-complete')\n        },Constants.PLAYLIST_TRANSITION_DURATION, _sliderClipper.children().eq(currNr));\n\n        if (_audioplayerToBeActive.attr('data-type') != 'link') {\n          if (margs.ignore_linking == false && o.settings_enable_linking == 'on') {\n            var stateObj = {foo: \"bar\"};\n            history.pushState(stateObj, null, dzsapHelpers.add_query_arg(window.location.href, 'audiogallery_startitem_' + cid, (newCurrNr)));\n          }\n        }\n\n        if (o.playlistTransition == 'fade') {\n          setTimeout(transition_end, Constants.PLAYLIST_TRANSITION_DURATION, newCurrNr);\n          busy = true;\n        }\n        if (o.playlistTransition == 'direct') {\n          transition_end(newCurrNr);\n        }\n      }\n\n      _audioplayerToBeActive.addClass('active active-from-gallery');\n      _navClipper.children().eq(newCurrNr).addClass('active active-from-gallery');\n\n      // -- background parent\n\n      // console.log('_audioplayerToBeActive - ',_audioplayerToBeActive);\n\n\n      var bgimage = '';\n\n      if (_audioplayerToBeActive.attr(\"data-bgimage\")) {\n        bgimage = _audioplayerToBeActive.attr(\"data-bgimage\");\n      }\n\n      if (_audioplayerToBeActive.attr(\"data-wrapper-image\")) {\n        bgimage = _audioplayerToBeActive.attr(\"data-wrapper-image\");\n      }\n\n\n      if (bgimage && cgallery.parent().hasClass('ap-wrapper') && cgallery.parent().children('.the-bg').length > 0) {\n\n        // console.warn(\"ENTER HIER\");\n        cgallery.parent().children('.the-bg').eq(0).after('<div class=\"the-bg\" style=\"background-image: url(' + bgimage + ');\"></div>')\n        cgallery.parent().children('.the-bg').eq(0).css({\n          'opacity': 1\n        })\n\n\n        cgallery.parent().children('.the-bg').eq(1).css({\n          'opacity': 0\n        })\n        cgallery.parent().children('.the-bg').eq(1).animate({\n          'opacity': 1\n        }, {\n          queue: false,\n          duration: 1000,\n          complete: transition_bg_end,\n          step: function () {\n            busy = true;\n          }\n        })\n        busy = true;\n      }\n\n\n      //console.log('set currNr', currNr, o.settings_mode);\n\n      if (o.settings_mode != 'mode-showall') {\n\n        currNr = newCurrNr;\n\n        cgallery.data('currNr', currNr);\n      }\n\n\n      //console.log('_sliderClipper.children().eq(currNr) - ',_sliderClipper.children().eq(currNr));\n      if (_sliderClipper.children().eq(currNr).get(0) && _sliderClipper.children().eq(currNr).get(0).api_handleResize && _sliderClipper.children().eq(currNr).hasClass('media-setuped')) {\n\n\n        //console.log('_sliderClipper.children().eq(currNr) - ',_sliderClipper.children().eq(currNr));\n        _sliderClipper.children().eq(currNr).get(0).api_handleResize();\n      }\n\n      calculateDims();\n    }\n\n    function init_player_from_gallery(_cache, pargs) {\n\n      var player_args = $.extend({}, o.settings_ap);\n\n\n      if (pargs) {\n        player_args = $.extend(player_args, pargs);\n      }\n\n      // console.log('init_player_from_gallery',margs_player);\n      // console.log('currNr_last_vol', currNr_last_vol);\n\n      if (_cache.hasClass('audioplayer-tobe')) {\n        o.settings_ap.call_from = 'init player from gallery';\n        // console.log('player_args - ', player_args);\n        _cache.audioplayer(player_args);\n      }\n    }\n  }\n}\n\nexports.registerToJquery = function ($) {\n  $.fn.audiogallery = function (argOptions) {\n    var finalOptions = {};\n    var defaultOptions = require('../configs/_settingsPlaylist').default_opts;\n    finalOptions = dzsapHelpers.convertPluginOptionsToFinalOptions(this, defaultOptions, argOptions);\n\n\n\n    this.each(function () {\n\n      var _ag = new DzsApPlaylist(this, finalOptions, $);\n\n      // console.log('this playlist -2 ', this);\n      this.linkedClassInstance = _ag;\n    });\n  }\n\n}\n","const dzsapHelpers = require('../_dzsap_helpers');\nconst dzsapAjax = require('../_dzsap_ajax');\n\nexports.ZoomSoundsNav = class{\n\n  constructor(parentGallery) {\n    this.parentGallery = parentGallery;\n\n    this.structZoomsoundsNav = '';\n    this._navMain = null;\n    this._navClipper = null;\n    this.cgallery = null;\n\n    this.size_navMainClipSize = null;\n    this.size_navMainTotalSize = null;\n    this.finish_viy = 0;\n\n    this.init();\n\n\n  }\n\n  init(){\n\n    var selfGallery = this.parentGallery;\n\n    this.structZoomsoundsNav = '<div class=\"nav-main zoomsounds-nav ' + selfGallery.initOptions.design_skin + ' navigation-method-' + selfGallery.initOptions.navigation_method + '\"><div class=\"nav-clipper\"></div></div>';\n\n\n\n    // -- let us do some sanitize\n    if(this.parentGallery.initOptions.navigation_method==='full'){\n      this.parentGallery.initOptions.design_menu_height = 'auto';\n    }\n\n  }\n\n  get_structZoomsoundsNav(){\n    return this.structZoomsoundsNav;\n  }\n  set_elements(_navMain, _navClipper, cgallery){\n    this._navMain = _navMain;\n    this._navClipper = _navClipper;\n    this.cgallery = cgallery;\n  }\n\n  calculateDims(){\n\n    this.size_navMainClipSize = this._navMain.height();\n    this.size_navMainTotalSize = this._navClipper.outerHeight();\n\n    const self = this;\n\n    if(this.parentGallery.initOptions.navigation_method==='mouseover'){\n\n      // console.log('this.size_navMainTotalSize - ' ,this.size_navMainTotalSize, 'this.size_navMainClipSize - ', this.size_navMainClipSize)\n\n      if (this.size_navMainTotalSize > this.size_navMainClipSize && this.size_navMainClipSize > 0) {\n        this._navMain.unbind('mousemove', navMain_mousemove);\n        this._navMain.bind('mousemove', navMain_mousemove);\n      } else {\n        this._navMain.unbind('mousemove', navMain_mousemove);\n      }\n    }\n\n    function navMain_mousemove(e) {\n      // console.log(this, e);\n      var aux_error = 20; //==erroring for the menu scroll\n      var $ = jQuery;\n      var _t = $(this);\n      var mx = e.pageX - _t.offset().left;\n      var my = e.pageY - _t.offset().top;\n\n      // console.log('navMain_mousemove', nm_maindim, nc_maindim, nm_maindim <= nc_maindim);\n      if (self.size_navMainTotalSize <= self.size_navMainClipSize) {\n        return;\n      }\n\n      self.size_navMainClipSize = self._navMain.outerHeight();\n\n      //console.log(mx);\n\n      var vix = 0;\n      var viy = 0;\n\n      viy = (my / self.size_navMainClipSize) * -(self.size_navMainTotalSize - self.size_navMainClipSize + 10 + aux_error * 2) + aux_error;\n      //console.log(viy);\n      if (viy > 0) {\n        viy = 0;\n      }\n      if (viy < -(self.size_navMainTotalSize - self.size_navMainClipSize + 10)) {\n        viy = -(self.size_navMainTotalSize - self.size_navMainClipSize + 10);\n      }\n\n      self.finish_viy = viy;\n\n      // console.log(viy, nm_maindim, nc_maindim, (my / nc_maindim))\n\n      // console.log('self.parentGallery.initOptions - ' ,self.parentGallery.initOptions);\n      if (dzsapHelpers.is_ios() == false && dzsapHelpers.is_android() == false) {\n        if (self.parentGallery.initOptions.enable_easing != 'on') {\n          // console.log('self._navClipper -', self._navClipper);\n          self._navClipper.css({\n            'transform': 'translateY(' + self.finish_viy + 'px)'\n          });\n        }\n      }\n\n\n    }\n\n  }\n\n\n\n  init_ready(){\n    // -- this._navMain has been set\n    // console.log(this);\n\n    const self = this;\n    var selfGallery = this.parentGallery;\n\n    if (selfGallery.initOptions.disable_menu_navigation == 'on') {\n      this._navMain.hide();\n    }\n\n    //                console.log(o.design_menu_height, o.design_menu_state);\n    this._navMain.css({\n      'height': selfGallery.initOptions.design_menu_height\n    })\n\n    if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n      this._navMain.css({\n        'overflow': 'auto'\n      })\n    }\n\n\n    if (selfGallery.initOptions.design_menu_state == 'closed') {\n      this._navMain.css({\n        'height': 0\n      })\n      this.cgallery.removeClass('menu-opened');\n      this.cgallery.addClass('menu-closed');\n    } else {\n      this.cgallery.addClass('menu-opened');\n      this.cgallery.removeClass('menu-closed');\n    }\n\n\n\n    this._navClipper.on('click', '.menu-btn-like,.menu-facebook-share', click_menuitem);\n    this._navClipper.on('click', '.menu-item', click_menuitem);\n\n\n\n    function click_menuitem(e) {\n      var _t = jQuery(this);\n\n      if (e.type == 'click') {\n        if (_t.hasClass('menu-item')) {\n          var ind = _t.parent().children().index(_t);\n\n          selfGallery.goto_item(ind);\n        }\n        if (_t.hasClass('menu-btn-like')) {\n\n\n          if (_t.parent().parent().attr('data-playerid')) {\n            (dzsapAjax.ajax_submit_like.bind(selfGallery))(1, _t.parent().parent().attr('data-playerid'), {\n              refferer: _t\n            });\n          }\n\n          //console.log(_t);\n          return false;\n        }\n        if (_t.hasClass('menu-facebook-share')) {\n          if (_t.parent().parent().attr('data-playerid')) {\n            (dzsapAjax.ajax_submit_like.bind(selfGallery))(1, _t.parent().parent().attr('data-playerid'), {\n              refferer: _t\n            });\n          }\n\n          //console.log(_t);\n          return false;\n        }\n      }\n\n    }\n\n\n\n  }\n\n  toggle_menu_state(){\n\n    const self = this;\n\n    if (this._navMain.height() == 0) {\n      this._navMain.css({\n        'height': this.parentGallery.initOptions.design_menu_height\n      })\n\n\n      this.cgallery.removeClass('menu-closed');\n      this.cgallery.addClass('menu-opened');\n    } else {\n\n      this._navMain.css({\n        'height': 0\n      })\n      this.cgallery.removeClass('menu-opened');\n      this.cgallery.addClass('menu-closed');\n    }\n    setTimeout(function () {\n      self.parentGallery.handleResize();\n    }, 400); // -- animation delay\n\n  }\n  parseTrackData(track_data){\n    var foundnr = 0;\n    var self = this;\n    this._navMain.find('.menu-item-views').each(function () {\n      var _t2 = $(this);\n\n      var aux_html = _t2.html();\n\n      var reg_findid = /{{views_(.*?)}}/g;\n\n\n      var aux = reg_findid.exec(aux_html);\n\n      //console.log(aux);\n\n      var id = '';\n      if (aux && aux[1]) {\n\n        id = aux[1];\n\n        for (var i in track_data) {\n\n          //console.log(id, track_data[i].views, aux[0])\n\n          if (id == track_data[i].label || id == 'ap' + track_data[i].label) {\n            aux_html = aux_html.replace(aux[0], track_data[i].views);\n            foundnr++;\n            break;\n          }\n        }\n\n\n        _t2.html(aux_html);\n\n      }\n\n\n    })\n\n    if (foundnr < track_data.length) {\n\n      self._navMain.find('.menu-item-views').each(function () {\n\n        var _t2 = $(this);\n\n        var aux_html = _t2.html();\n        var reg_findid = /{{views_(.*?)}}/g;\n\n        var aux = reg_findid.exec(aux_html);\n\n        if (aux && aux[0]) {\n\n          aux_html = aux_html.replace(aux[0], 0);\n          _t2.html(aux_html);\n        }\n\n      })\n    }\n\n\n  }\n}\n","exports.default_opts = {\n  design_skin: 'skin-default', // -- \"skin-default\" or \"skin-aura\" or \"skin-wave\"\n  cueFirstMedia: 'on', // -- preload the mp3 to the first item\n  autoplay: 'off', // -- autoplay the first item\n  autoplayNext: 'on', // -- autoplay items after the first item\n  settings_enable_linking: 'off',  // -- use html5 history to remember last position in the gallery\n\n  design_menu_position: 'bottom',\n  navigation_method: 'mouseover', // -- 'mouseover', 'full', 'legacyscroll' or 'dzsscroll'\n  design_menu_state: 'open',  // -- options are \"open\" or \"closed\", this sets the initial state of the menu, even if the initial state is \"closed\", it can still be opened by a button if you set design_menu_show_player_state_button to \"on\"\n  design_menu_show_player_state_button: 'off' // -- show a button that allows to hide or show the menu\n  , design_menu_width: 'default'\n  , design_menu_height: '200'\n  , design_menu_space: 'default'\n  , settings_php_handler: '', // -- link to publisher.php ( auto assigned in wordpress to admin-ajax.php )\n  design_menuitem_width: 'default',\n  design_menuitem_height: 'default',\n  design_menuitem_space: 'default'\n  , force_autoplay_when_coming_from_share_link: 'off', // -- deprecated / does not really work - new autoplay policy\n  disable_menu_navigation: 'off'\n  , loop_playlist: 'on'\n  , menu_facebook_share: 'auto' // -- mousemove or scroller or all\n  , enable_easing: 'off' // -- enable easing for menu animation\n  , settings_ap: 'default'\n  , playlistTransition: 'fade' // -- fade or direct\n  , embedded: 'off'\n  , mode_showall_layout: 'one-per-row' // or two-per-row or three-per-row\n  , settings_mode: 'mode-normal' // -- mode-normal or mode-showall\n  , settings_mode_showall_show_number: 'on' // mode-normal or mode-showall\n  , mode_normal_video_mode: 'auto' // -- auto or \"one\" ( only one audio player )\n\n};\n\n","exports.retrieve_soundcloud_url =  function (selfClass, pargs) {\n\n\n  var o = selfClass.initOptions;\n  console.log(' ooo - ', o);\n  if (o.soundcloud_apikey == '') {\n    alert('soundcloud api key not defined, read docs!');\n  }\n  var aux = 'http://api.' + 'soundcloud.com' + '/resolve?url=' + selfClass.data_source + '&format=json&consumer_key=' + o.soundcloud_apikey;\n  //console.log(aux);\n\n\n  aux = encodeURIComponent(aux);\n\n\n  var soundcloud_retriever = o.php_retriever + '?scurl=' + aux;\n\n\n  $.ajax({\n    type: \"GET\",\n    url: soundcloud_retriever\n    , data: {}\n    , async: true\n    , dataType: 'text'\n    , error: function (err, q, t) {\n\n      console.log('retried soundcloud error', err, q, t);\n    }\n    , success: function (response) {\n\n      // console.log('got response - ', response);\n      var data = [];\n\n\n      try {\n        var data = JSON.parse(response);\n        // console.log('got json - ', data);\n        selfClass.audioType = 'selfHosted';\n\n\n        if (data == '') {\n          selfClass.cthis.addClass('errored-out');\n          selfClass.cthis.append('<div class=\"feedback-text\">soundcloud track does not seem to serve via api</div>');\n        }\n\n\n        //console.log('o.design_skin - ', o.design_skin);\n        selfClass.original_real_mp3 = selfClass.cthis.attr('data-source');\n        if (data.stream_url) {\n\n          selfClass.cthis.attr('data-source', data.stream_url + '?consumer_key=' + o.soundcloud_apikey + '&origin=localhost');\n\n\n          if (selfClass.feed_fakeButton) {\n            selfClass.feed_fakeButton.attr('data-source', selfClass.cthis.attr('data-source'));\n          }\n          if (selfClass._sourcePlayer) {\n            selfClass._sourcePlayer.attr('data-source', selfClass.cthis.attr('data-source'));\n          }\n        } else {\n\n          selfClass.cthis.addClass('errored-out');\n          selfClass.cthis.append('<div class=\"feedback-text \">this soundcloud track does not allow streaming  </div>');\n        }\n        selfClass.src_real_mp3 = selfClass.cthis.attr('data-source');\n\n\n        if (selfClass.cthis.attr('data-pcm')) {\n\n\n          selfClass.isRealPcm = true;\n        }\n        if (o.design_skin == 'skin-wave') {\n          if (o.skinwave_wave_mode == 'canvas') {\n            if (selfClass.isRealPcm == false) {\n              if ((o.pcm_data_try_to_generate == 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm == 'on') == false) {\n                dzsapWaveFunctions.scrubModeWave__initGenerateWaveData(selfClass, {\n                  'call_from': 'soundcloud init(), pcm not real..'\n                });\n              }\n            }\n          }\n        }\n\n\n        //                        if(window.console) { console.log(data); };\n\n        if (o.cue == 'on' || selfClass._sourcePlayer || selfClass.feed_fakeButton) {\n\n          // console.log(\"SETUPING MEDIA\")\n          setup_media({\n            'called_from': 'retrieve_soundcloud_url'\n          });\n\n\n          setTimeout(function () {\n\n            // console.log('selfClass.isPlayPromised -3 ',selfClass.isPlayPromised);\n            if (selfClass.isPlayPromised) {\n              play_media({\n                'call_from': 'retrieve_soundcloud_url'\n              })\n              selfClass.isPlayPromised = false;\n            }\n          }, 300);\n\n\n        }\n      } catch (err) {\n        console.log('soduncloud parse error -', response, ' - ', soundcloud_retriever);\n      }\n    }\n  });\n\n}\n","const dzsapHelpers = require('../_dzsap_helpers');\nconst dzsapConstants = require('../../configs/_constants').constants;\nexports.wave_mode_canvas_try_to_get_pcm = function (selfClass, pargs) {\n\n\n  var margs = {};\n\n  var $ = jQuery;\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n  var self = this;\n\n  // console.log('this -5 ', this);\n\n  var o = selfClass.initOptions;\n\n  if (selfClass.src_real_mp3 == 'fake') {\n    return false;\n  }\n\n  if (selfClass.cthis.attr('data-pcm')) {\n\n\n  } else {\n    // -- we do not have pcm so we get it\n\n    var data = {\n      action: 'dzsap_get_pcm',\n      postdata: '1',\n      source: selfClass.cthis.attr('data-source'),\n      playerid: selfClass.identifier_pcm\n    };\n\n    if (selfClass.urlToAjaxHandler) {\n      $.ajax({\n        type: \"POST\",\n        url: selfClass.urlToAjaxHandler,\n        data: data,\n        success: function (response) {\n          if (response) {\n\n            if (response != '0' && response.indexOf(',') > -1) {\n\n              selfClass.cthis.attr('data-pcm', response);\n              selfClass.isRealPcm = true;\n\n              if (selfClass._scrubbar.css('opacity') == '0') {\n\n              }\n\n              setTimeout(function () {\n\n\n                selfClass.cthis.addClass('scrubbar-loaded');\n                selfClass.calculate_dims_time();\n                setTimeout(function () {\n\n                  // calculate_dims();\n\n                }, 100);\n              }, 100);\n              // showselfClass._scrubbar();\n            } else {\n\n              selfClass.isPcmTryingToGenerate = true;\n              self.scrubModeWave__initGenerateWaveData(selfClass, {\n                'call_from': 'no response from pcm ajax, generate it'\n              });\n            }\n\n            // console.log('pcm_try_to_generate - ',pcm_try_to_generate);\n          } else {\n\n            if (o.cue == 'on') {\n\n              selfClass.isPcmTryingToGenerate = true;\n              // -- inside get_pcm\n              self.scrubModeWave__initGenerateWaveData(selfClass, {\n                'call_from': 'pcm_data_try_to_generate .. no data-pcm'\n              });\n            } else {\n\n              selfClass.isPcmPromisingToGenerateOnMetaLoad = true; // -- we are promising generating on meta load\n              if (o.pcm_data_try_to_generate_wait_for_real_pcm === 'on') {\n\n                // console.log('ceva - ',pcm_promise_generate_on_meta_load)\n                // console.log('selfClass.cself meta loaded ? ',selfClass.cself.hasClass('meta-loaded'), selfClass.cself)\n\n                var default_pcm = [];\n\n                for (var i3 = 0; i3 < 200; i3++) {\n                  default_pcm[i3] = Number(Math.random()).toFixed(3);\n                }\n                default_pcm = JSON.stringify(default_pcm);\n                self.scrubModeWave__transitionIn(selfClass, default_pcm);\n\n                selfClass.isRealPcm = false;\n              }\n            }\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' , arg);\n          }\n          ;\n        }\n      });\n      selfClass.isPcmTryingToGenerate = false;\n    } else {\n\n    }\n  }\n}\n\n\nexports.scrubModeWave__checkIfWeShouldTryToGetPcm = function (selfClass, pargs) {\n\n  let isWeShouldGetPcm = false;\n\n\n  // console.log('  selfClass.isPcmTryingToGenerate ( on scrubModeWave__checkIfWeShouldTryToGetPcm )  - ', selfClass.isPcmTryingToGenerate);\n  if (selfClass.isPcmTryingToGenerate) {\n    return false;\n  }\n\n\n  if (selfClass.isPcmPromisingToGenerateOnMetaLoad) {\n    selfClass.isPcmTryingToGenerate = true;\n    isWeShouldGetPcm = true;\n\n  }\n\n  // console.log('selfClass - ', selfClass);\n  if (!(selfClass.cthis.attr('data-pcm'))) {\n    // console.log('selfClass - ', selfClass);\n\n\n    if (!selfClass.urlToAjaxHandler) {\n\n      // -- if we do not have url to ajax handler then it's clear we should generate smth..\n\n      selfClass.isPcmTryingToGenerate = true;\n      isWeShouldGetPcm = true;\n    }\n\n  }\n\n  // debugger;\n  if (isWeShouldGetPcm) {\n\n    this.scrubModeWave__initGenerateWaveData(selfClass, {\n      'call_from': 'pcm_data_try_to_generate .. no data-pcm'\n    });\n  }\n}\nexports.scrubModeWave__transitionIn = function (selfClass, argpcm) {\n\n  //console.log('generate_wave_data_animate',cthis);\n  var o = selfClass.initOptions;\n\n\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').removeClass('transitioning-in');\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').addClass('transitioning-out');\n  ;\n\n  dzsapHelpers.scrubbar_modeWave_setupCanvas({\n    'prepare_for_transition_in': true\n  }, selfClass);\n\n  dzsapHelpers.draw_canvas(selfClass._scrubbarbg_canvas.get(0), argpcm, \"#\" + o.design_wave_color_bg, {\n    call_from: 'canvas_generate_wave_data_animate_pcm_bg',\n    selfClass,\n    'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n    'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n  });\n  dzsapHelpers.draw_canvas(selfClass._scrubbarprog_canvas.get(0), argpcm, '#' + o.design_wave_color_progress, {\n    call_from: 'canvas_generate_wave_data_animate_pcm_prog',\n    selfClass,\n    'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n    'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n  });\n\n\n  setTimeout(() => {\n    dzsapHelpers.scrubbar_modeWave_clearObsoleteCanvas(selfClass);\n  }, 300);\n\n  // -- warning - not always real pcm\n  selfClass.isRealPcm = true;\n\n  selfClass.scrubbar_reveal();\n}\n\n\nexports.scrubModeWave__initGenerateWaveData = function (selfClass, pargs) {\n\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n  var margs = {\n    'call_from': 'default'\n    , 'call_attempt': 0\n  };\n  var self = this\n\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n\n  if (selfClass.isRealPcm) {\n    return false;\n  }\n\n  if (selfClass.src_real_mp3 == 'fake') {\n    return false;\n  }\n\n\n  if (selfClass.isPcmTryingToGenerate) {\n\n  } else {\n    setTimeout(function () {\n      margs.call_attempt++;\n      if (margs.call_attempt < 10) {\n        self.scrubModeWave__initGenerateWaveData(margs);\n        console.log('%c [dzsap] trying to regenerate ', dzsapConstants.DEBUG_STYLE_1);\n      }\n    }, 1000)\n    return false;\n  }\n\n\n  // console.log('scrubModeWave__initGenerateWaveData()', margs);\n\n\n  // console.log('init_generate_wave_data', selfClass.cthis.attr('data-source'));\n  if (window.WaveSurfer) {\n    // console.log('wavesurfer already loaded');\n    selfClass.scrubModeWave__generateWaveData(selfClass, {\n      'call_from': 'wavesurfer already loaded'\n    });\n  } else {\n    var scripts = document.getElementsByTagName(\"script\");\n\n\n    var baseUrl = '';\n    for (var i23 in scripts) {\n      if (scripts[i23] && scripts[i23].src) {\n        if (scripts[i23].src.indexOf('audioplayer.js') > -1) {\n          break;\n        }\n      }\n    }\n    var baseUrl_arr = String(scripts[i23].src).split('/');\n    for (var i24 = 0; i24 < baseUrl_arr.length - 1; i24++) {\n      baseUrl += baseUrl_arr[i24] + '/';\n    }\n\n    var url = baseUrl + 'wavesurfer.js';\n\n\n    if (o.pcm_notice == 'on') {\n\n      selfClass.cthis.addClass('errored-out');\n      selfClass.cthis.append('<div class=\"feedback-text pcm-notice\">please wait while pcm data is generated.. </div>');\n    }\n\n\n    window.dzsap_wavesurfer_load_attempt++;\n\n    if (window.dzsap_wavesurfer_load_attempt > 2) {\n      url = dzsapConstants.URL_WAVESURFER;\n    }\n    if (window.dzsap_wavesurfer_load_attempt < 6) {\n      // console.log('load wavesurfer');\n      $.ajax({\n        url: url,\n        dataType: \"script\",\n        success: function (arg) {\n          //console.log(arg);\n          self.scrubModeWave__generateWaveData(selfClass, {\n            'call_from': 'load_script'\n            , 'wavesurfer_url': url\n          });\n\n\n        },\n        error: function (arg) {\n\n        }\n      });\n    }\n  }\n}\nexports.scrubModeWave__generateWaveData = function (selfClass, pargs) {\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  var margs = {\n    call_from: 'default'\n  }\n  var self = this;\n\n  if (pargs) {\n    $.extend(margs, pargs);\n  }\n\n\n  if (selfClass.src_real_mp3 != 'fake') {\n\n  } else {\n    return false;\n  }\n\n\n  // -- make sure we are generating only once\n  if (window.dzsap_generating_pcm) {\n    setTimeout(function () {\n      this.scrubModeWave__generateWaveData(selfClass, margs)\n    }, 1000);\n    return false;\n  }\n  window.dzsap_generating_pcm = true;\n\n\n  var id = 'wavesurfer' + Math.ceil(Math.random() * 10000);\n  selfClass.cthis.append('<div id=\"' + id + '\" class=\"hidden\"></div>');\n\n  var wavesurfer = WaveSurfer.create({\n    container: '#' + id\n    , normalize: true\n    , pixelRatio: 1\n  });\n\n\n  if (String(selfClass.cthis.attr('data-source')).indexOf('https://soundcloud.com') == 0 || selfClass.cthis.attr('data-source') == 'fake') {\n    return;\n  }\n  if (String(selfClass.cthis.attr('data-source')).indexOf('https://api.soundcloud.com') == 0) {\n  }\n\n\n  // console.log(' selfClass.src_real_mp3 - '+selfClass.src_real_mp3, selfClass.src_real_mp3);\n  try {\n    wavesurfer.load(selfClass.src_real_mp3);\n  } catch (err) {\n    console.log(\"WAVE SURFER NO LOAD\");\n  }\n\n\n  wavesurfer.on('ready', function () {\n    //            wavesurfer.play();\n    console.log('[dzsap] generating wave data for ', selfClass.identifier_pcm);\n\n    var accuracy = 100;\n    if (selfClass._cmedia && selfClass._cmedia.duration && selfClass._cmedia.duration > 1000) {\n      accuracy = 100;\n    }\n\n    // console.log(selfClass._cmedia, selfClass._cmedia.duration);\n\n    var ar_str = [];\n    if (wavesurfer && wavesurfer.exportPCM) {\n\n      ar_str = wavesurfer.exportPCM(o.wavesurfer_pcm_length, accuracy, true);\n    } else {\n      ar_str = dzsapHelpers.generateFakeArrayForPcm();\n    }\n\n    self.scrubModeWave__sendPcm(selfClass, ar_str);\n\n    self.scrubModeWave__transitionIn(selfClass, ar_str);\n\n\n  });\n\n  wavesurfer.on('error', function (err, err2) {\n    var default_pcm = [];\n\n    for (var i3 = 0; i3 < 200; i3++) {\n      default_pcm[i3] = Math.abs(Number(Math.random()).toFixed(3));\n    }\n    default_pcm = JSON.stringify(default_pcm);\n\n    console.log('[dzsap] error while generating pcm - ', err)\n    self.scrubModeWave__sendPcm(selfClass, default_pcm);\n    self.scrubModeWave__transitionIn(selfClass, default_pcm);\n  });\n\n}\n\nexports.scrubModeWave__sendPcm = function (selfClass, ar_str) {\n  var $ = jQuery;\n\n\n  try {\n    // -- convert to absolute\n    ar_str = JSON.stringify(JSON.parse(String(ar_str)).map(Math.abs));\n  } catch (err) {\n    console.log(err);\n  }\n\n  selfClass.cthis.attr('data-pcm', ar_str);\n  if (selfClass._feed_fakeButton && selfClass._feed_fakeButton.attr) {\n    selfClass._feed_fakeButton.attr('data-pcm', ar_str);\n  }\n  if (selfClass._sourcePlayer && selfClass._sourcePlayer.attr) {\n    selfClass._sourcePlayer.attr('data-pcm', ar_str);\n  }\n\n\n  // console.log(\"which is fake player ? \", selfClass.cthis, selfClass._actualPlayer, _sourcePlayer);\n\n\n  selfClass.cthis.find('.pcm-notice').fadeOut(\"fast\");\n  selfClass.cthis.removeClass('errored-out');\n\n\n  // console.log('generating wave data for '+selfClass.cthis.attr('data-source'));\n  // console.log('%c selfClass.identifier_pcm before- ','color: #dd0022; background-color: #eee;', selfClass.identifier_pcm, selfClass.cthis);\n\n  if (!selfClass.identifier_pcm) {\n    selfClass.identifier_pcm = selfClass.cthis.attr('data-source');\n\n\n    if (selfClass.original_real_mp3) {\n      selfClass.identifier_pcm = selfClass.original_real_mp3;\n    }\n  }\n\n\n  // console.log('%c selfClass.identifier_pcm- ','color: #dd0022; background-color: #eee;', selfClass.identifier_pcm, selfClass.cthis);\n\n\n  var data = {\n    action: 'dzsap_submit_pcm'\n    , postdata: ar_str\n    , playerid: selfClass.identifier_pcm\n    , source: selfClass.cthis.attr('data-source')\n  };\n\n\n  window.dzsap_generating_pcm = false;\n\n\n  if (selfClass.urlToAjaxHandler) {\n\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n\n      }\n    });\n  }\n}\n\n","var default_opts = {\n  design_skin: 'skin-default' // -- the skin of the player - can be set from the html as well,autoplay: 'off' // -- autoplay the track ( only works is cue is set to \"on\"\n  , call_from: 'default' // -- call from a specific api\n  , autoplay_on_scrub_click: 'off' // -- autoplay the track ( only works is cue is set to \"on\"\n  , cue: 'on' // this chooses wheter \"on\" or not \"off\" a part .. what part is decided by the preload_method below\n  , preload_method: 'metadata' // -- \"none\" or \"metadata\" or \"auto\" ( whole track )\n  , loop: 'off' // -- loop the track\n  , pause_method: 'pause' // -- loop the track\n  , settings_extrahtml: '' // -- some extra html - can be rates, plays, likes\n  , settings_extrahtml_after_artist: '' // -- some extra html after the artist name\n  , settings_extrahtml_in_float_left: '' // -- some extra html that you may want to add inside the player, to the right\n  , settings_extrahtml_in_float_right: '' // -- some extra html that you may want to add inside the player, to the right -- .extra-html-in-controls-right\n  , settings_extrahtml_before_play_pause: '' // -- some extra html that you may want before play button\n  , settings_extrahtml_after_play_pause: '' // -- some extra html that you may want after play button\n  , settings_trigger_resize: '0' // -- check the player dimensions every x milli seconds\n  , design_thumbh: \"default\" // -- thumbnail size\n  , extra_classes_player: ''\n  , disable_volume: 'default'\n  , disable_scrub: 'default'\n  , disable_timer: 'default' // -- disable timer display\n  , disable_player_navigation: 'off'\n  , scrub_show_scrub_time: 'on'\n  , player_navigation: 'default' // -- auto decide if we need player navigation\n  , type: 'audio'\n  , enable_embed_button: 'off' // -- enable the embed button\n  , embed_code: '' // -- embed code\n  , skinwave_dynamicwaves: 'off' // -- dynamic scale based on volume for no spectrum wave\n  , soundcloud_apikey: '' // -- set the sound cloud api key\n  , parentgallery: null // -- the parent gallery of the player\n  , skinwave_enableSpectrum: 'off' // -- off or on\n  , skinwave_place_thumb_after_volume: 'off' // -- place the thumbnail after volume button\n  , skinwave_place_metaartist_after_volume: 'off' // -- place metaartist after volume button\n  , settings_useflashplayer: 'auto' // -- off or on or auto\n  , skinwave_spectrummultiplier: '1' // -- (deprecated) number\n  , settings_php_handler: '' // -- the path of the publisher.php file, this is used to handle comments, likes etc.\n  , php_retriever: 'soundcloudretriever.php' // -- the soundcloud php file used to render soundcloud files\n  , skinwave_mode: 'normal' // -- \"normal\" or \"small\" or \"alternate\"\n  , skinwave_wave_mode: 'canvas' // -- \"normal\" or \"canvas\" or \"line\"\n  , skinwave_wave_mode_canvas_mode: 'normal' // -- \"normal\" or \"reflecto\"\n  , skinwave_wave_mode_canvas_normalize: 'on' // -- normalize wave to look more natural\n\n  // -- wave settings\n  , skinwave_wave_mode_canvas_waves_number: '3' // -- the number of waves in the canvas ( \"1\" pixel waves, \"2\" 2 pixel width waves, \"3\" 3 pixel width waves, \"anything more then 3\" means number of waves in the container, for example 100 means 100 waves in 1000px container if the container is 1000px width )\n  , skinwave_wave_mode_canvas_waves_padding: '1' // -- padding between waves ( \"1\" 1 pixel between < - > \"0\" no reflection )\n  , skinwave_wave_mode_canvas_reflection_size: '0.25' // -- the reflection size ( \"1\" full size < - > \"0\" no reflection )\n  , wavesurfer_pcm_length: '200' // -- define the precision of the wave generation; higher is more precise, but occupies more space\n\n  , pcm_data_try_to_generate: 'on' // -- try to find out the pcm data and sent it via ajax ( maybe send it via php_handler\n  , pcm_data_try_to_generate_wait_for_real_pcm: 'on' // -- if set to on, the fake pcm data will not be generated\n  , pcm_notice: 'off' // -- show a notice for pcm\n  , notice_no_media: 'on' // -- show a notice for when the media errors out\n\n  , skinwave_comments_links_to: '' // -- clicking the comments bar will lead to this link ( optional )\n  , skinwave_comments_enable: 'off' // -- enable the comments, publisher.php must be in the same folder as this html\n  // ,skinwave_comments_mode: 'inner-field' // -- inner-field or outer-field ( no use right now )\n  , skinwave_comments_mode_outer_selector: '' // -- the outer selector if it has one\n  , skinwave_comments_playerid: '',\n  skinwave_comments_account: 'none',\n  skinwave_comments_process_in_php: 'on' // -- select wheter the comment text should be processed in javascript \"off\" / or in php, later \"on\"\n  , mobile_delete: \"off\" // -- delete the whole player on mobile, useful for unwanted footer players in mobile\n  , footer_btn_playlist: \"off\" // -- disable feeding to other players on mobile\n  , mobile_disable_fakeplayer: \"off\" // -- disable feeding to other players on mobile\n  , skinwave_comments_retrievefromajax: 'off' // -- retrieve the comment form ajax\n  , skinwave_preloader_code: 'default' // -- retrieve the comment form ajax\n  , skinwave_comments_displayontime: 'on' // -- display the comment when the scrub header is over it\n  , skinwave_comments_avatar: 'http://www.gravatar.com/avatar/00000000000000000000000000000000?s=20' // -- default image\n  , skinwave_comments_allow_post_if_not_logged_in: 'on' // -- allow posting in comments section if not looged in, to be logged in, skinwave_comments_account must be an account id\n\n  , skinwave_timer_static: 'off' // -- Timer indicators are static\n  , default_volume: 'default' // -- number / set the default volume 0-1 or \"last\" for the last known volume\n  , volume_from_gallery: '' // -- the volume set from the gallery item select, leave blank if the player is not called from the gallery\n  , design_menu_show_player_state_button: 'off', // -- show a button that allows to hide or show the menu\n  playfrom: 'off',  // -- off or specific number of settings or set to \"last\"\n  design_animateplaypause: 'default'\n  , embedded: 'off' // // -- if embedded in a iframe\n  , embedded_iframe_id: '' // // -- if embedded in a iframe, specify the iframe id here\n  , sample_time_start: '' // -- if this is a sample to a complete song, you can write here start times, if not, leave to 0.\n  , sample_time_end: '' // -- if this is a sample to a complete song, you can write here start times, if not, leave to 0.\n  , sample_time_total: '' // -- if this is a sample to a complete song, you can write here start times, if not, leave to 0.\n  ,\n  google_analytics_send_play_event: 'off' // -- send the play event to google analytics, you need to have google analytics script already on your page\n  , fakeplayer: null // -- if this is a fake player, it will feed\n  , failsafe_repair_media_element: '' // -- some scripts might effect the media element used by zoomsounds, this is how we replace the media element in a certain time\n  , action_audio_play: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_play2: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_pause: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_end: null // -- set a outer ended function ( for example for tracking your analytics )\n  , action_audio_comment: null // -- set a outer commented function ( for example for tracking your analytics )\n  , action_received_time_total: null // -- event triggers at receiving time total\n  , action_audio_change_media: null // -- set a outer on change track function\n  , action_audio_loaded_metadata: null // -- set a outer commented function ( for example for tracking your analytics )\n  , action_video_contor_60secs: null // -- fire every 30s\n  , type_audio_stop_buffer_on_unfocus: 'off' // -- if set to on, when the audio player goes out of focus, it will unbuffer the file so that it will not load anymore, useful if you want to stop buffer on large files\n  , construct_player_list_for_sync: 'off' // -- construct a player list from the page that features single players playing one after another. searches for the .is-single-player class in the DOM\n\n\n  , settings_exclude_from_list: 'off' // -- a audioplayer list is formed at runtime so that when\n  , design_wave_color_bg: '222222' // -- waveform background color..  000000,ffffff gradient is allowed\n  , design_wave_color_progress: 'ea8c52' // -- waveform progress color\n\n\n  , skin_minimal_button_size: '100'\n  , gallery_gapless_play: 'off' // -- play without pause\n  , preview_on_hover: 'off' // -- on mouseenter autoplay the track\n  , watermark_volume: '1' // -- on mouseenter autoplay the track\n  , controls_external_scrubbar: '' // -- on mouseenter autoplay the track\n  , scrubbar_type: 'auto' // -- wave or spectrum or bar\n};\nexports.default_opts = default_opts;\n\n// settings_extrahtml -- for plays use <div class=\"dzsap-counter counter-hits\"><i class=\"fa fa-play\"></i><span class=\"the-number\">{{get_plays}}</span></div>\n"],"sourceRoot":""}